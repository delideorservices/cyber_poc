2025-05-08 20:02:14,120 - app.routes.agents - INFO - Starting registration process for user banking@example.com
2025-05-08 20:02:14,121 - app.routes.agents - INFO - Using CrewAI for registration process
2025-05-08 20:02:14,121 - app.services.crew_service - INFO - Creating registration crew for user: banking@example.com
2025-05-08 20:02:14,154 - app.services.crew_service - INFO - Starting registration crew workflow
2025-05-08 20:02:14,179 - LiteLLM - INFO - 
LiteLLM completion() model= gpt-4.1-mini; provider = openai
2025-05-08 20:02:16,863 - LiteLLM - INFO - Wrapper: Completed Call, calling success_handler
2025-05-08 20:02:16,889 - LiteLLM - INFO - 
LiteLLM completion() model= gpt-4.1-mini; provider = openai
2025-05-08 20:02:24,751 - LiteLLM - INFO - Wrapper: Completed Call, calling success_handler
2025-05-08 20:02:24,775 - LiteLLM - INFO - 
LiteLLM completion() model= gpt-4.1-mini; provider = openai
2025-05-08 20:02:34,590 - LiteLLM - INFO - Wrapper: Completed Call, calling success_handler
2025-05-08 20:02:34,614 - app.services.crew_service - INFO - Crew result: {
  "topic_priorities": [
    {
      "topic_id": 7,
      "topic_name": "Financial Cybersecurity Threats and Risk Management",
      "relevance_score": 9.8
    },
    {
      "topic_id": 12,
      "topic_name": "Regulatory Compliance in Financial Sector (PCI DSS, FFIEC, SOX)",
      "relevance_score": 9.5
    },
    {
      "topic_id": 15,
      "topic_name": "Fraud Detection and Prevention Technologies",
      "relevance_score": 9.3
    },
    {
      "topic_id": 18,
      "topic_name": "Incident Response and Threat Intelligence for Financial Institutions",
      "relevance_score": 9.0
    },
    {
      "topic_id": 21,
      "topic_name": "Data Protection and Encryption Techniques in Banking",
      "relevance_score": 8.7
    }
  ],
  "sector_threats": {
    "Financial Sector": [
      "Advanced persistent threats (APTs) targeting banking infrastructure",
      "Ransomware attacks specifically designed to disrupt financial operations",
      "Phishing and spear-phishing campaigns targeting bank employees and customers",
      "Insider threats including fraudulent activities and data exfiltration",
      "Regulatory compliance violations leading to legal and financial penalties",
      "Credential theft and identity fraud affecting financial accounts",
      "Exploitation of vulnerabilities in financial software and mobile banking apps"
    ]
  },
  "focus_areas": [
    "Advanced threat detection methods for financial malware and phishing",
    "Ransomware and insider threat mitigation strategies in banking",
    "Compliance and regulatory frameworks relevant to financial cybersecurity",
    "Incident response and business continuity planning specific to financial services",
    "Utilizing threat intelligence sharing platforms in the financial sector"
  ],
  "recommended_topic_id": 7
}
2025-05-08 20:02:34,614 - app.services.crew_service - INFO - Registration crew completed successfully
2025-05-08 20:02:34,615 - app.services.crew_service - INFO - Parsing registration crew result
2025-05-08 20:02:34,615 - app.services.crew_service - INFO - Found JSON in text: dict_keys(['topic_priorities', 'sector_threats', 'focus_areas', 'recommended_topic_id'])
2025-05-08 20:02:34,615 - app.routes.agents - INFO - CrewAI registration result: success
2025-05-08 20:02:34,674 - app.routes.agents - INFO - Using CrewAI to generate quiz for topic: Cybersecurity Fundamentals
2025-05-08 20:02:34,675 - app.services.crew_service - INFO - Creating quiz generation crew for topic: Cybersecurity Fundamentals
2025-05-08 20:02:34,675 - app.services.crew_service - WARNING - No user_id provided in quiz_data, attempting to find a valid user
2025-05-08 20:02:34,718 - app.services.crew_service - INFO - Found valid user_id: 1
2025-05-08 20:02:34,727 - app.services.crew_service - INFO - Starting quiz generation crew workflow
2025-05-08 20:02:34,742 - LiteLLM - INFO - 
LiteLLM completion() model= gpt-4.1-mini; provider = openai
2025-05-08 20:03:12,597 - LiteLLM - INFO - Wrapper: Completed Call, calling success_handler
2025-05-08 20:03:12,632 - LiteLLM - INFO - 
LiteLLM completion() model= gpt-4.1-mini; provider = openai
2025-05-08 20:04:17,597 - LiteLLM - INFO - Wrapper: Completed Call, calling success_handler
2025-05-08 20:04:17,623 - LiteLLM - INFO - 
LiteLLM completion() model= gpt-4.1-mini; provider = openai
2025-05-08 20:05:09,112 - LiteLLM - INFO - Wrapper: Completed Call, calling success_handler
2025-05-08 20:05:09,137 - app.services.crew_service - INFO - Quiz generation crew completed successfully with result: {
  "quiz_title": "Cybersecurity Fundamentals in Financial Sector",
  "chapter_count": 4,
  "questio...
2025-05-08 20:05:09,138 - app.services.crew_service - INFO - Quiz generation crew completed successfully
2025-05-08 20:05:09,139 - app.services.crew_service - INFO - Parsing quiz generation crew result
2025-05-08 20:05:09,139 - app.services.crew_service - DEBUG - Result text first 200 chars: {
  "quiz_title": "Cybersecurity Fundamentals in Financial Sector",
  "chapter_count": 4,
  "question_count": 20,
  "complete_quiz": {
    "title": "Cybersecurity Fundamentals in Financial Sector",
  
2025-05-08 20:05:09,139 - app.services.crew_service - DEBUG - Result text length: 14450
2025-05-08 20:05:09,139 - app.services.crew_service - INFO - Successfully parsed result as direct JSON
2025-05-08 20:05:09,140 - app.services.crew_service - INFO - Found complete_quiz field in result
2025-05-08 20:05:09,140 - app.services.crew_service - INFO - Found valid complete quiz with title: Cybersecurity Fundamentals in Financial Sector
2025-05-08 20:05:09,140 - app.services.crew_service - INFO - Saving complete quiz with chapters and questions
2025-05-08 20:05:09,217 - app.services.crew_service - INFO - Created quiz with ID: 18
2025-05-08 20:05:09,272 - app.services.crew_service - INFO - Created chapter with ID: 9
2025-05-08 20:05:09,329 - app.services.crew_service - DEBUG - Created question 1 in chapter 1
2025-05-08 20:05:09,375 - app.services.db_service - ERROR - Error executing query: invalid input syntax for type json
LINE 5: ...ds are compromised.', '["True", "False"]'::jsonb, 'True', 'M...
                                                             ^
DETAIL:  Token "True" is invalid.
CONTEXT:  JSON data, line 1: True

2025-05-08 20:05:09,375 - app.services.crew_service - DEBUG - Created question 2 in chapter 1
2025-05-08 20:05:09,519 - app.services.db_service - ERROR - Error executing query: invalid input syntax for type json
LINE 5: ...rized access is called __________.', '[]'::jsonb, 'encryptio...
                                                             ^
DETAIL:  Token "encryption" is invalid.
CONTEXT:  JSON data, line 1: encryption

2025-05-08 20:05:09,519 - app.services.crew_service - DEBUG - Created question 3 in chapter 1
2025-05-08 20:05:09,567 - app.services.crew_service - DEBUG - Created question 4 in chapter 1
2025-05-08 20:05:09,610 - app.services.db_service - ERROR - Error executing query: invalid input syntax for type json
LINE 5: ...tware is installed.', '["True", "False"]'::jsonb, 'False', '...
                                                             ^
DETAIL:  Token "False" is invalid.
CONTEXT:  JSON data, line 1: False

2025-05-08 20:05:09,611 - app.services.crew_service - DEBUG - Created question 5 in chapter 1
2025-05-08 20:05:09,654 - app.services.crew_service - INFO - Created chapter with ID: 10
2025-05-08 20:05:09,697 - app.services.crew_service - DEBUG - Created question 1 in chapter 2
2025-05-08 20:05:09,738 - app.services.db_service - ERROR - Error executing query: invalid input syntax for type json
LINE 5: ...onal and malicious.', '["True", "False"]'::jsonb, 'False', '...
                                                             ^
DETAIL:  Token "False" is invalid.
CONTEXT:  JSON data, line 1: False

2025-05-08 20:05:09,739 - app.services.crew_service - DEBUG - Created question 2 in chapter 2
2025-05-08 20:05:09,781 - app.services.db_service - ERROR - Error executing query: invalid input syntax for type json
LINE 5: ...unauthorized access to an account.', '[]'::jsonb, 'brute for...
                                                             ^
DETAIL:  Token "brute" is invalid.
CONTEXT:  JSON data, line 1: brute...

2025-05-08 20:05:09,781 - app.services.crew_service - DEBUG - Created question 3 in chapter 2
2025-05-08 20:05:09,826 - app.services.crew_service - DEBUG - Created question 4 in chapter 2
2025-05-08 20:05:09,865 - app.services.db_service - ERROR - Error executing query: invalid input syntax for type json
LINE 5: ...ybersecurity risks.', '["True", "False"]'::jsonb, 'True', 'P...
                                                             ^
DETAIL:  Token "True" is invalid.
CONTEXT:  JSON data, line 1: True

2025-05-08 20:05:09,866 - app.services.crew_service - DEBUG - Created question 5 in chapter 2
2025-05-08 20:05:09,910 - app.services.crew_service - INFO - Created chapter with ID: 11
2025-05-08 20:05:10,066 - app.services.crew_service - DEBUG - Created question 1 in chapter 3
2025-05-08 20:05:10,112 - app.services.db_service - ERROR - Error executing query: invalid input syntax for type json
LINE 5: ...s control policies.', '["True", "False"]'::jsonb, 'True', 'C...
                                                             ^
DETAIL:  Token "True" is invalid.
CONTEXT:  JSON data, line 1: True

2025-05-08 20:05:10,112 - app.services.crew_service - DEBUG - Created question 2 in chapter 3
2025-05-08 20:05:10,156 - app.services.db_service - ERROR - Error executing query: invalid input syntax for type json
LINE 5: ...ts is known as __________ sharing.', '[]'::jsonb, 'threat in...
                                                             ^
DETAIL:  Token "threat" is invalid.
CONTEXT:  JSON data, line 1: threat...

2025-05-08 20:05:10,157 - app.services.crew_service - DEBUG - Created question 3 in chapter 3
2025-05-08 20:05:10,205 - app.services.crew_service - DEBUG - Created question 4 in chapter 3
2025-05-08 20:05:10,246 - app.services.db_service - ERROR - Error executing query: invalid input syntax for type json
LINE 5: ...awareness training.', '["True", "False"]'::jsonb, 'True', 'R...
                                                             ^
DETAIL:  Token "True" is invalid.
CONTEXT:  JSON data, line 1: True

2025-05-08 20:05:10,246 - app.services.crew_service - DEBUG - Created question 5 in chapter 3
2025-05-08 20:05:10,414 - app.services.crew_service - INFO - Created chapter with ID: 12
2025-05-08 20:05:10,461 - app.services.crew_service - DEBUG - Created question 1 in chapter 4
2025-05-08 20:05:10,618 - app.services.db_service - ERROR - Error executing query: invalid input syntax for type json
LINE 5: ...ransomware attacks.', '["True", "False"]'::jsonb, 'True', 'B...
                                                             ^
DETAIL:  Token "True" is invalid.
CONTEXT:  JSON data, line 1: True

2025-05-08 20:05:10,619 - app.services.crew_service - DEBUG - Created question 2 in chapter 4
2025-05-08 20:05:10,766 - app.services.db_service - ERROR - Error executing query: invalid input syntax for type json
LINE 5: ...ta to improve collective security.', '[]'::jsonb, 'threat in...
                                                             ^
DETAIL:  Token "threat" is invalid.
CONTEXT:  JSON data, line 1: threat...

2025-05-08 20:05:10,766 - app.services.crew_service - DEBUG - Created question 3 in chapter 4
2025-05-08 20:05:10,817 - app.services.crew_service - DEBUG - Created question 4 in chapter 4
2025-05-08 20:05:10,872 - app.services.db_service - ERROR - Error executing query: invalid input syntax for type json
LINE 5: ...ve behavior safely.', '["True", "False"]'::jsonb, 'True', 'S...
                                                             ^
DETAIL:  Token "True" is invalid.
CONTEXT:  JSON data, line 1: True

2025-05-08 20:05:10,873 - app.services.crew_service - DEBUG - Created question 5 in chapter 4
2025-05-08 20:05:10,873 - app.routes.agents - INFO - CrewAI quiz generation result: success
2025-05-08 20:08:34,309 - app.routes.agents - INFO - Starting registration process for user banking@example.com
2025-05-08 20:08:34,309 - app.routes.agents - INFO - Using CrewAI for registration process
2025-05-08 20:08:34,309 - app.services.crew_service - INFO - Creating registration crew for user: banking@example.com
2025-05-08 20:08:34,317 - app.services.crew_service - INFO - Starting registration crew workflow
2025-05-08 20:08:34,337 - LiteLLM - INFO - 
LiteLLM completion() model= gpt-4.1-mini; provider = openai
2025-05-08 20:08:37,566 - LiteLLM - INFO - Wrapper: Completed Call, calling success_handler
2025-05-08 20:08:37,591 - LiteLLM - INFO - 
LiteLLM completion() model= gpt-4.1-mini; provider = openai
2025-05-08 20:08:47,632 - LiteLLM - INFO - Wrapper: Completed Call, calling success_handler
2025-05-08 20:08:47,658 - LiteLLM - INFO - 
LiteLLM completion() model= gpt-4.1-mini; provider = openai
2025-05-08 20:08:58,693 - LiteLLM - INFO - Wrapper: Completed Call, calling success_handler
2025-05-08 20:08:58,710 - app.services.crew_service - INFO - Crew result: {
  "topic_priorities": [
    {
      "topic_id": 8,
      "topic_name": "Advanced Financial Cybersecurity Threats",
      "relevance_score": 9.8
    },
    {
      "topic_id": 12,
      "topic_name": "Regulatory Compliance and Security Controls",
      "relevance_score": 9.5
    },
    {
      "topic_id": 15,
      "topic_name": "Incident Response Strategies for Financial Sector",
      "relevance_score": 9.3
    },
    {
      "topic_id": 10,
      "topic_name": "Advanced Network Security for Banking",
      "relevance_score": 9.0
    },
    {
      "topic_id": 14,
      "topic_name": "Threat Intelligence and Fraud Prevention",
      "relevance_score": 8.9
    }
  ],
  "sector_threats": {
    "Financial Sector": [
      "Business Email Compromise (BEC) targeting financial institutions",
      "Ransomware attacks affecting banking operations",
      "Advanced Persistent Threats (APTs) aimed at stealing financial data",
      "Insider threats and fraudulent activities within banking systems",
      "Phishing and spear-phishing campaigns targeting bank employees",
      "Exploitation of vulnerabilities in banking applications and APIs",
      "Regulatory non-compliance risks leading to financial penalties",
      "Supply chain attacks compromising banking software and services"
    ]
  },
  "focus_areas": [
    "Emerging financial cyber threats and attack vectors",
    "Advanced threat hunting and mitigation techniques",
    "Regulatory updates and compliance best practices",
    "Incident response tailored to financial breaches",
    "Security automation and orchestration in banking environments"
  ],
  "recommended_topic_id": 8
}
2025-05-08 20:08:58,711 - app.services.crew_service - INFO - Registration crew completed successfully
2025-05-08 20:08:58,711 - app.services.crew_service - INFO - Parsing registration crew result
2025-05-08 20:08:58,711 - app.services.crew_service - INFO - Found JSON in text: dict_keys(['topic_priorities', 'sector_threats', 'focus_areas', 'recommended_topic_id'])
2025-05-08 20:08:58,711 - app.routes.agents - INFO - CrewAI registration result: success
2025-05-08 20:08:58,767 - app.routes.agents - INFO - Using CrewAI to generate quiz for topic: Cybersecurity Fundamentals
2025-05-08 20:08:58,767 - app.services.crew_service - INFO - Creating quiz generation crew for topic: Cybersecurity Fundamentals
2025-05-08 20:08:58,768 - app.services.crew_service - WARNING - No user_id provided in quiz_data, attempting to find a valid user
2025-05-08 20:08:58,815 - app.services.crew_service - INFO - Found valid user_id: 1
2025-05-08 20:08:58,852 - app.services.crew_service - INFO - Starting quiz generation crew workflow
2025-05-08 20:08:58,881 - LiteLLM - INFO - 
LiteLLM completion() model= gpt-4.1-mini; provider = openai
2025-05-08 20:09:48,890 - LiteLLM - INFO - Wrapper: Completed Call, calling success_handler
2025-05-08 20:09:48,927 - LiteLLM - INFO - 
LiteLLM completion() model= gpt-4.1-mini; provider = openai
2025-05-08 20:10:45,175 - LiteLLM - INFO - Wrapper: Completed Call, calling success_handler
2025-05-08 20:10:45,213 - LiteLLM - INFO - 
LiteLLM completion() model= gpt-4.1-mini; provider = openai
2025-05-08 20:11:32,275 - LiteLLM - INFO - Wrapper: Completed Call, calling success_handler
2025-05-08 20:11:32,310 - app.services.crew_service - INFO - Quiz generation crew completed successfully with result: {
  "quiz_title": "Cybersecurity Fundamentals: Emerging Financial Threats and Advanced Mitigation",
...
2025-05-08 20:11:32,310 - app.services.crew_service - INFO - Quiz generation crew completed successfully
2025-05-08 20:11:32,311 - app.services.crew_service - INFO - Parsing quiz generation crew result
2025-05-08 20:11:32,311 - app.services.crew_service - DEBUG - Result text first 200 chars: {
  "quiz_title": "Cybersecurity Fundamentals: Emerging Financial Threats and Advanced Mitigation",
  "chapter_count": 4,
  "question_count": 20,
  "complete_quiz": {
    "title": "Cybersecurity Funda
2025-05-08 20:11:32,311 - app.services.crew_service - DEBUG - Result text length: 14347
2025-05-08 20:11:32,311 - app.services.crew_service - INFO - Successfully parsed result as direct JSON
2025-05-08 20:11:32,311 - app.services.crew_service - INFO - Found complete_quiz field in result
2025-05-08 20:11:32,311 - app.services.crew_service - INFO - Found valid complete quiz with title: Cybersecurity Fundamentals: Emerging Financial Threats and Advanced Mitigation
2025-05-08 20:11:32,311 - app.services.crew_service - INFO - Saving complete quiz with chapters and questions
2025-05-08 20:11:32,362 - app.services.crew_service - INFO - Created quiz with ID: 19
2025-05-08 20:11:32,526 - app.services.crew_service - INFO - Created chapter with ID: 13
2025-05-08 20:11:32,574 - app.services.crew_service - DEBUG - Created question 1 in chapter 1
2025-05-08 20:11:32,619 - app.services.crew_service - DEBUG - Created question 2 in chapter 1
2025-05-08 20:11:32,663 - app.services.crew_service - DEBUG - Created question 3 in chapter 1
2025-05-08 20:11:32,708 - app.services.crew_service - DEBUG - Created question 4 in chapter 1
2025-05-08 20:11:32,752 - app.services.crew_service - DEBUG - Created question 5 in chapter 1
2025-05-08 20:11:32,924 - app.services.crew_service - INFO - Created chapter with ID: 14
2025-05-08 20:11:33,075 - app.services.crew_service - DEBUG - Created question 1 in chapter 2
2025-05-08 20:11:33,124 - app.services.crew_service - DEBUG - Created question 2 in chapter 2
2025-05-08 20:11:33,288 - app.services.crew_service - DEBUG - Created question 3 in chapter 2
2025-05-08 20:11:33,469 - app.services.crew_service - DEBUG - Created question 4 in chapter 2
2025-05-08 20:11:33,513 - app.services.crew_service - DEBUG - Created question 5 in chapter 2
2025-05-08 20:11:33,689 - app.services.crew_service - INFO - Created chapter with ID: 15
2025-05-08 20:11:33,733 - app.services.crew_service - DEBUG - Created question 1 in chapter 3
2025-05-08 20:11:33,777 - app.services.crew_service - DEBUG - Created question 2 in chapter 3
2025-05-08 20:11:33,953 - app.services.crew_service - DEBUG - Created question 3 in chapter 3
2025-05-08 20:11:33,999 - app.services.crew_service - DEBUG - Created question 4 in chapter 3
2025-05-08 20:11:34,175 - app.services.crew_service - DEBUG - Created question 5 in chapter 3
2025-05-08 20:11:34,361 - app.services.crew_service - INFO - Created chapter with ID: 16
2025-05-08 20:11:34,534 - app.services.crew_service - DEBUG - Created question 1 in chapter 4
2025-05-08 20:11:34,583 - app.services.crew_service - DEBUG - Created question 2 in chapter 4
2025-05-08 20:11:34,626 - app.services.crew_service - DEBUG - Created question 3 in chapter 4
2025-05-08 20:11:34,670 - app.services.crew_service - DEBUG - Created question 4 in chapter 4
2025-05-08 20:11:34,713 - app.services.crew_service - DEBUG - Created question 5 in chapter 4
2025-05-08 20:11:34,714 - app.routes.agents - INFO - CrewAI quiz generation result: success
2025-05-08 20:15:22,688 - app.routes.agents - INFO - Starting registration process for user banking@example.com
2025-05-08 20:15:22,689 - app.routes.agents - INFO - Using CrewAI for registration process
2025-05-08 20:15:22,689 - app.services.crew_service - INFO - Creating registration crew for user: banking@example.com
2025-05-08 20:15:22,697 - app.services.crew_service - INFO - Starting registration crew workflow
2025-05-08 20:15:22,718 - LiteLLM - INFO - 
LiteLLM completion() model= gpt-4.1-mini; provider = openai
2025-05-08 20:15:24,874 - LiteLLM - INFO - Wrapper: Completed Call, calling success_handler
2025-05-08 20:15:24,905 - LiteLLM - INFO - 
LiteLLM completion() model= gpt-4.1-mini; provider = openai
2025-05-08 20:15:31,406 - LiteLLM - INFO - Wrapper: Completed Call, calling success_handler
2025-05-08 20:15:31,429 - LiteLLM - INFO - 
LiteLLM completion() model= gpt-4.1-mini; provider = openai
2025-05-08 20:15:37,953 - LiteLLM - INFO - Wrapper: Completed Call, calling success_handler
2025-05-08 20:15:37,976 - app.services.crew_service - INFO - Crew result: {
  "topic_priorities": [
    {
      "topic_id": 14,
      "topic_name": "Financial cybersecurity threats and mitigation",
      "relevance_score": 9.8
    },
    {
      "topic_id": 21,
      "topic_name": "Regulatory compliance for financial institutions (PCI-DSS, SOX, GDPR)",
      "relevance_score": 9.5
    },
    {
      "topic_id": 35,
      "topic_name": "Fraud detection and prevention techniques",
      "relevance_score": 9.3
    },
    {
      "topic_id": 42,
      "topic_name": "Incident response and forensic analysis in financial sector",
      "relevance_score": 9.1
    },
    {
      "topic_id": 50,
      "topic_name": "Network security specific to banking infrastructure",
      "relevance_score": 8.9
    }
  ],
  "sector_threats": {
    "Financial Sector": [
      "Ransomware targeting banking institutions to disrupt services and demand payment",
      "Advanced Persistent Threats (APTs) focused on stealing financial data and credentials",
      "Phishing and social engineering attacks targeting bank employees and customers",
      "Insider threats including fraud and unauthorized data access",
      "Regulatory compliance violations leading to fines and reputational damage",
      "Supply chain attacks compromising third-party financial software providers",
      "Distributed Denial of Service (DDoS) attacks disrupting online banking platforms",
      "Cryptojacking and malware exploiting banking infrastructure"
    ]
  },
  "focus_areas": [
    "Emerging financial cyber threats such as ransomware and APTs targeting banks",
    "Advanced incident response strategies tailored to financial sector incidents",
    "Regulatory compliance updates and evolving financial cybersecurity regulations",
    "Threat intelligence and real-time monitoring to detect sophisticated attacks",
    "User awareness training focused on social engineering and phishing in banking"
  ],
  "recommended_topic_id": 14
}
2025-05-08 20:15:37,976 - app.services.crew_service - INFO - Registration crew completed successfully
2025-05-08 20:15:37,977 - app.services.crew_service - INFO - Parsing registration crew result
2025-05-08 20:15:37,978 - app.services.crew_service - INFO - Found JSON in text: dict_keys(['topic_priorities', 'sector_threats', 'focus_areas', 'recommended_topic_id'])
2025-05-08 20:15:37,978 - app.routes.agents - INFO - CrewAI registration result: success
2025-05-08 20:15:38,023 - app.routes.agents - INFO - Using CrewAI to generate quiz for topic: Cybersecurity Fundamentals
2025-05-08 20:15:38,023 - app.services.crew_service - INFO - Creating quiz generation crew for topic: Cybersecurity Fundamentals
2025-05-08 20:15:38,023 - app.services.crew_service - WARNING - No user_id provided in quiz_data, attempting to find a valid user
2025-05-08 20:15:38,070 - app.services.crew_service - INFO - Found valid user_id: 1
2025-05-08 20:15:38,078 - app.services.crew_service - INFO - Starting quiz generation crew workflow
2025-05-08 20:15:38,094 - LiteLLM - INFO - 
LiteLLM completion() model= gpt-4.1-mini; provider = openai
2025-05-08 20:16:27,357 - LiteLLM - INFO - Wrapper: Completed Call, calling success_handler
2025-05-08 20:16:27,381 - LiteLLM - INFO - 
LiteLLM completion() model= gpt-4.1-mini; provider = openai
2025-05-08 20:17:52,111 - LiteLLM - INFO - Wrapper: Completed Call, calling success_handler
2025-05-08 20:17:52,144 - LiteLLM - INFO - 
LiteLLM completion() model= gpt-4.1-mini; provider = openai
2025-05-08 20:18:45,397 - LiteLLM - INFO - Wrapper: Completed Call, calling success_handler
2025-05-08 20:18:45,419 - app.services.crew_service - INFO - Quiz generation crew completed successfully with result: {
  "quiz_title": "Cybersecurity Fundamentals: Emerging Financial Threats and Incident Response",
  ...
2025-05-08 20:18:45,419 - app.services.crew_service - INFO - Quiz generation crew completed successfully
2025-05-08 20:18:45,419 - app.services.crew_service - INFO - Parsing quiz generation crew result
2025-05-08 20:18:45,419 - app.services.crew_service - DEBUG - Result text first 200 chars: {
  "quiz_title": "Cybersecurity Fundamentals: Emerging Financial Threats and Incident Response",
  "chapter_count": 4,
  "question_count": 20,
  "complete_quiz": {
    "title": "Cybersecurity Fundame
2025-05-08 20:18:45,419 - app.services.crew_service - DEBUG - Result text length: 14879
2025-05-08 20:18:45,419 - app.services.crew_service - INFO - Successfully parsed result as direct JSON
2025-05-08 20:18:45,420 - app.services.crew_service - INFO - Found complete_quiz field in result
2025-05-08 20:18:45,420 - app.services.crew_service - INFO - Found valid complete quiz with title: Cybersecurity Fundamentals: Emerging Financial Threats and Incident Response
2025-05-08 20:18:45,420 - app.services.crew_service - INFO - Saving complete quiz with chapters and questions
2025-05-08 20:18:45,617 - app.services.crew_service - INFO - Created quiz with ID: 20
2025-05-08 20:18:45,792 - app.services.crew_service - INFO - Created chapter with ID: 17
2025-05-08 20:18:45,838 - app.services.crew_service - DEBUG - Created question 1 in chapter 1
2025-05-08 20:18:45,888 - app.services.crew_service - DEBUG - Created question 2 in chapter 1
2025-05-08 20:18:45,934 - app.services.crew_service - DEBUG - Created question 3 in chapter 1
2025-05-08 20:18:45,976 - app.services.crew_service - DEBUG - Created question 4 in chapter 1
2025-05-08 20:18:46,020 - app.services.crew_service - DEBUG - Created question 5 in chapter 1
2025-05-08 20:18:46,180 - app.services.crew_service - INFO - Created chapter with ID: 18
2025-05-08 20:18:46,226 - app.services.crew_service - DEBUG - Created question 1 in chapter 2
2025-05-08 20:18:46,402 - app.services.crew_service - DEBUG - Created question 2 in chapter 2
2025-05-08 20:18:46,452 - app.services.crew_service - DEBUG - Created question 3 in chapter 2
2025-05-08 20:18:46,499 - app.services.crew_service - DEBUG - Created question 4 in chapter 2
2025-05-08 20:18:46,543 - app.services.crew_service - DEBUG - Created question 5 in chapter 2
2025-05-08 20:18:46,714 - app.services.crew_service - INFO - Created chapter with ID: 19
2025-05-08 20:18:46,880 - app.services.crew_service - DEBUG - Created question 1 in chapter 3
2025-05-08 20:18:46,926 - app.services.crew_service - DEBUG - Created question 2 in chapter 3
2025-05-08 20:18:46,972 - app.services.crew_service - DEBUG - Created question 3 in chapter 3
2025-05-08 20:18:47,015 - app.services.crew_service - DEBUG - Created question 4 in chapter 3
2025-05-08 20:18:47,058 - app.services.crew_service - DEBUG - Created question 5 in chapter 3
2025-05-08 20:18:47,236 - app.services.crew_service - INFO - Created chapter with ID: 20
2025-05-08 20:18:47,283 - app.services.crew_service - DEBUG - Created question 1 in chapter 4
2025-05-08 20:18:47,479 - app.services.crew_service - DEBUG - Created question 2 in chapter 4
2025-05-08 20:18:47,529 - app.services.crew_service - DEBUG - Created question 3 in chapter 4
2025-05-08 20:18:47,574 - app.services.crew_service - DEBUG - Created question 4 in chapter 4
2025-05-08 20:18:47,619 - app.services.crew_service - DEBUG - Created question 5 in chapter 4
2025-05-08 20:18:47,619 - app.routes.agents - INFO - CrewAI quiz generation result: success
2025-05-08 20:23:08,534 - app.routes.agents - INFO - Starting registration process for user banking@example.com
2025-05-08 20:23:08,535 - app.routes.agents - INFO - Using CrewAI for registration process
2025-05-08 20:23:08,535 - app.services.crew_service - INFO - Creating registration crew for user: banking@example.com
2025-05-08 20:23:08,549 - app.services.crew_service - INFO - Starting registration crew workflow
2025-05-08 20:23:08,639 - LiteLLM - INFO - 
LiteLLM completion() model= gpt-4.1-mini; provider = openai
2025-05-08 20:23:11,152 - LiteLLM - INFO - Wrapper: Completed Call, calling success_handler
2025-05-08 20:23:11,173 - LiteLLM - INFO - 
LiteLLM completion() model= gpt-4.1-mini; provider = openai
2025-05-08 20:23:20,051 - LiteLLM - INFO - Wrapper: Completed Call, calling success_handler
2025-05-08 20:23:20,099 - LiteLLM - INFO - 
LiteLLM completion() model= gpt-4.1-mini; provider = openai
2025-05-08 20:23:28,383 - LiteLLM - INFO - Wrapper: Completed Call, calling success_handler
2025-05-08 20:23:28,401 - app.services.crew_service - INFO - Crew result: {
  "topic_priorities": [
    {
      "topic_id": 7,
      "topic_name": "Financial Cybersecurity Threats and Mitigation",
      "relevance_score": 9.8
    },
    {
      "topic_id": 12,
      "topic_name": "Regulatory Compliance in Financial Sector (PCI DSS, SOX, GDPR)",
      "relevance_score": 9.5
    },
    {
      "topic_id": 15,
      "topic_name": "Fraud Detection and Prevention Techniques",
      "relevance_score": 9.3
    },
    {
      "topic_id": 22,
      "topic_name": "Incident Response and Forensic Analysis in Financial Environments",
      "relevance_score": 9.0
    },
    {
      "topic_id": 18,
      "topic_name": "Identity and Access Management in Banking Systems",
      "relevance_score": 8.7
    }
  ],
  "sector_threats": {
    "Banking": [
      "Ransomware attacks targeting banking customers and internal systems",
      "Phishing campaigns aimed at stealing customer credentials and banking details",
      "Advanced Persistent Threats (APTs) focused on financial data exfiltration",
      "Fraudulent transaction attempts via compromised accounts",
      "Insider threats leading to unauthorized access or data leakage",
      "Exploitation of vulnerabilities in mobile banking applications",
      "Supply chain attacks impacting third-party financial software providers",
      "Regulatory non-compliance penalties due to inadequate security controls"
    ]
  },
  "focus_areas": [
    "Emerging ransomware and phishing tactics targeting banking customers",
    "Advanced threat intelligence and proactive defense mechanisms in financial IT",
    "Security architecture for banking and mobile banking applications",
    "Regulatory compliance updates and their impact on cybersecurity strategies",
    "Incident response and forensic analysis tailored to financial sector breaches"
  ],
  "recommended_topic_id": 7
}
2025-05-08 20:23:28,402 - app.services.crew_service - INFO - Registration crew completed successfully
2025-05-08 20:23:28,404 - app.services.crew_service - INFO - Parsing registration crew result
2025-05-08 20:23:28,404 - app.services.crew_service - INFO - Found JSON in text: dict_keys(['topic_priorities', 'sector_threats', 'focus_areas', 'recommended_topic_id'])
2025-05-08 20:23:28,404 - app.routes.agents - INFO - CrewAI registration result: success
2025-05-08 20:23:28,455 - app.routes.agents - INFO - Using CrewAI to generate quiz for topic: Cybersecurity Fundamentals
2025-05-08 20:23:28,455 - app.services.crew_service - INFO - Creating quiz generation crew for topic: Cybersecurity Fundamentals
2025-05-08 20:23:28,455 - app.services.crew_service - WARNING - No user_id provided in quiz_data, attempting to find a valid user
2025-05-08 20:23:28,504 - app.services.crew_service - INFO - Found valid user_id: 1
2025-05-08 20:23:28,510 - app.services.crew_service - INFO - Starting quiz generation crew workflow
2025-05-08 20:23:28,528 - LiteLLM - INFO - 
LiteLLM completion() model= gpt-4.1-mini; provider = openai
2025-05-08 20:24:24,828 - LiteLLM - INFO - Wrapper: Completed Call, calling success_handler
2025-05-08 20:24:24,850 - LiteLLM - INFO - 
LiteLLM completion() model= gpt-4.1-mini; provider = openai
2025-05-08 20:25:13,623 - LiteLLM - INFO - Wrapper: Completed Call, calling success_handler
2025-05-08 20:25:13,675 - LiteLLM - INFO - 
LiteLLM completion() model= gpt-4.1-mini; provider = openai
2025-05-08 20:26:01,983 - LiteLLM - INFO - Wrapper: Completed Call, calling success_handler
2025-05-08 20:26:02,018 - app.services.crew_service - INFO - Quiz generation crew completed successfully with result: {
  "quiz_title": "Cybersecurity Fundamentals - Financial Sector Focus",
  "chapter_count": 4,
  "qu...
2025-05-08 20:26:02,018 - app.services.crew_service - INFO - Quiz generation crew completed successfully
2025-05-08 20:26:02,019 - app.services.crew_service - INFO - Parsing quiz generation crew result
2025-05-08 20:26:02,019 - app.services.crew_service - DEBUG - Result text first 200 chars: {
  "quiz_title": "Cybersecurity Fundamentals - Financial Sector Focus",
  "chapter_count": 4,
  "question_count": 20,
  "complete_quiz": {
    "title": "Cybersecurity Fundamentals - Financial Sector 
2025-05-08 20:26:02,019 - app.services.crew_service - DEBUG - Result text length: 14134
2025-05-08 20:26:02,019 - app.services.crew_service - INFO - Successfully parsed result as direct JSON
2025-05-08 20:26:02,019 - app.services.crew_service - INFO - Found complete_quiz field in result
2025-05-08 20:26:02,019 - app.services.crew_service - INFO - Found valid complete quiz with title: Cybersecurity Fundamentals - Financial Sector Focus
2025-05-08 20:26:02,019 - app.services.crew_service - INFO - Saving complete quiz with chapters and questions
2025-05-08 20:26:02,082 - app.services.crew_service - INFO - Created quiz with ID: 21
2025-05-08 20:26:02,132 - app.services.crew_service - INFO - Created chapter with ID: 21
2025-05-08 20:26:02,177 - app.services.crew_service - DEBUG - Created question 1 in chapter 1
2025-05-08 20:26:02,221 - app.services.crew_service - DEBUG - Created question 2 in chapter 1
2025-05-08 20:26:02,401 - app.services.crew_service - DEBUG - Created question 3 in chapter 1
2025-05-08 20:26:02,446 - app.services.crew_service - DEBUG - Created question 4 in chapter 1
2025-05-08 20:26:02,491 - app.services.crew_service - DEBUG - Created question 5 in chapter 1
2025-05-08 20:26:02,534 - app.services.crew_service - INFO - Created chapter with ID: 22
2025-05-08 20:26:02,692 - app.services.crew_service - DEBUG - Created question 1 in chapter 2
2025-05-08 20:26:02,739 - app.services.crew_service - DEBUG - Created question 2 in chapter 2
2025-05-08 20:26:02,785 - app.services.crew_service - DEBUG - Created question 3 in chapter 2
2025-05-08 20:26:02,829 - app.services.crew_service - DEBUG - Created question 4 in chapter 2
2025-05-08 20:26:02,874 - app.services.crew_service - DEBUG - Created question 5 in chapter 2
2025-05-08 20:26:02,918 - app.services.crew_service - INFO - Created chapter with ID: 23
2025-05-08 20:26:02,961 - app.services.crew_service - DEBUG - Created question 1 in chapter 3
2025-05-08 20:26:03,004 - app.services.crew_service - DEBUG - Created question 2 in chapter 3
2025-05-08 20:26:03,047 - app.services.crew_service - DEBUG - Created question 3 in chapter 3
2025-05-08 20:26:03,091 - app.services.crew_service - DEBUG - Created question 4 in chapter 3
2025-05-08 20:26:03,135 - app.services.crew_service - DEBUG - Created question 5 in chapter 3
2025-05-08 20:26:03,178 - app.services.crew_service - INFO - Created chapter with ID: 24
2025-05-08 20:26:03,224 - app.services.crew_service - DEBUG - Created question 1 in chapter 4
2025-05-08 20:26:03,405 - app.services.crew_service - DEBUG - Created question 2 in chapter 4
2025-05-08 20:26:03,569 - app.services.crew_service - DEBUG - Created question 3 in chapter 4
2025-05-08 20:26:03,757 - app.services.crew_service - DEBUG - Created question 4 in chapter 4
2025-05-08 20:26:03,937 - app.services.crew_service - DEBUG - Created question 5 in chapter 4
2025-05-08 20:26:03,937 - app.routes.agents - INFO - CrewAI quiz generation result: success
2025-05-08 20:37:52,024 - app.routes.agents - INFO - Starting registration process for user banking@example.com
2025-05-08 20:37:52,025 - app.routes.agents - INFO - Using CrewAI for registration process
2025-05-08 20:37:52,025 - app.services.crew_service - INFO - Creating registration crew for user: banking@example.com
2025-05-08 20:37:52,054 - app.services.crew_service - INFO - Starting registration crew workflow
2025-05-08 20:37:52,098 - LiteLLM - INFO - 
LiteLLM completion() model= gpt-4.1-mini; provider = openai
2025-05-08 20:37:54,397 - LiteLLM - INFO - Wrapper: Completed Call, calling success_handler
2025-05-08 20:37:54,416 - LiteLLM - INFO - 
LiteLLM completion() model= gpt-4.1-mini; provider = openai
2025-05-08 20:37:59,607 - LiteLLM - INFO - Wrapper: Completed Call, calling success_handler
2025-05-08 20:37:59,632 - LiteLLM - INFO - 
LiteLLM completion() model= gpt-4.1-mini; provider = openai
2025-05-08 20:38:09,923 - LiteLLM - INFO - Wrapper: Completed Call, calling success_handler
2025-05-08 20:38:09,943 - app.services.crew_service - INFO - Crew result: {
  "topic_priorities": [
    {
      "topic_id": 2,
      "topic_name": "Financial Cybersecurity Threats and Mitigation",
      "relevance_score": 9.8
    },
    {
      "topic_id": 5,
      "topic_name": "Regulatory Compliance in Banking (PCI DSS, GDPR, SOX)",
      "relevance_score": 9.5
    },
    {
      "topic_id": 7,
      "topic_name": "Fraud Detection and Prevention",
      "relevance_score": 9.4
    },
    {
      "topic_id": 9,
      "topic_name": "Network Security Specific to Financial Institutions",
      "relevance_score": 9.2
    },
    {
      "topic_id": 11,
      "topic_name": "Incident Response and Disaster Recovery in Banking",
      "relevance_score": 9.0
    },
    {
      "topic_id": 13,
      "topic_name": "Identity and Access Management (IAM) in Financial Services",
      "relevance_score": 8.8
    },
    {
      "topic_id": 15,
      "topic_name": "Cryptography and Secure Transaction Protocols",
      "relevance_score": 8.7
    }
  ],
  "sector_threats": {
    "Phishing Attacks Targeting Bank Customers and Employees": "Highly prevalent, often used to steal credentials and launch further attacks.",
    "Ransomware Targeting Financial Institutions": "Disrupts banking operations and attempts data encryption for ransom.",
    "Business Email Compromise (BEC)": "Fraudulent email campaigns aimed at financial fraud and unauthorized transactions.",
    "Insider Threats": "Malicious or negligent actions by employees causing data breaches or fraud.",
    "Advanced Persistent Threats (APTs)": "Sophisticated, targeted attacks aiming at stealing sensitive financial data.",
    "Third-party Vendor Vulnerabilities": "Supply chain attacks compromising banking infrastructure.",
    "Regulatory Non-compliance Risks": "Penalties arising from failure to comply with PCI DSS, GDPR, SOX requirements."
  },
  "focus_areas": [
    "Emerging financial cyber threats: phishing, ransomware, and BEC",
    "Advanced threat hunting and anomaly detection techniques",
    "Regulatory compliance updates and their impact on banking cybersecurity",
    "Incident response strategies tailored for banking cybersecurity incidents",
    "Application of AI and machine learning for fraud detection"
  ],
  "recommended_topic_id": 2
}
2025-05-08 20:38:09,943 - app.services.crew_service - INFO - Registration crew completed successfully
2025-05-08 20:38:09,944 - app.services.crew_service - INFO - Parsing registration crew result
2025-05-08 20:38:09,945 - app.services.crew_service - INFO - Found JSON in text: dict_keys(['topic_priorities', 'sector_threats', 'focus_areas', 'recommended_topic_id'])
2025-05-08 20:38:09,945 - app.routes.agents - INFO - CrewAI registration result: success
2025-05-08 20:38:10,001 - app.routes.agents - INFO - Using CrewAI to generate quiz for topic: Cybersecurity Fundamentals
2025-05-08 20:38:10,001 - app.services.crew_service - INFO - Creating quiz generation crew for topic: Cybersecurity Fundamentals
2025-05-08 20:38:10,002 - app.services.crew_service - WARNING - No user_id provided in quiz_data, attempting to find a valid user
2025-05-08 20:38:10,147 - app.services.crew_service - INFO - Found valid user_id: 1
2025-05-08 20:38:10,158 - app.services.crew_service - INFO - Starting quiz generation crew workflow
2025-05-08 20:38:10,183 - LiteLLM - INFO - 
LiteLLM completion() model= gpt-4.1-mini; provider = openai
2025-05-08 20:38:31,944 - LiteLLM - INFO - Wrapper: Completed Call, calling success_handler
2025-05-08 20:38:31,978 - LiteLLM - INFO - 
LiteLLM completion() model= gpt-4.1-mini; provider = openai
2025-05-08 20:39:17,051 - LiteLLM - INFO - Wrapper: Completed Call, calling success_handler
2025-05-08 20:39:17,059 - LiteLLM - INFO - 
LiteLLM completion() model= gpt-4.1-mini; provider = openai
2025-05-08 20:39:42,603 - LiteLLM - INFO - Wrapper: Completed Call, calling success_handler
2025-05-08 20:39:42,644 - LiteLLM - INFO - 
LiteLLM completion() model= gpt-4.1-mini; provider = openai
2025-05-08 20:40:13,256 - LiteLLM - INFO - Wrapper: Completed Call, calling success_handler
2025-05-08 20:40:13,277 - app.services.crew_service - INFO - Quiz generation crew completed successfully with result: {
  "quiz_title": "Cybersecurity Fundamentals",
  "chapter_count": 4,
  "question_count": 20,
  "com...
2025-05-08 20:40:13,277 - app.services.crew_service - INFO - Quiz generation crew completed successfully
2025-05-08 20:40:13,278 - app.services.crew_service - INFO - Parsing quiz generation crew result
2025-05-08 20:40:13,278 - app.services.crew_service - DEBUG - Result text first 200 chars: {
  "quiz_title": "Cybersecurity Fundamentals",
  "chapter_count": 4,
  "question_count": 20,
  "complete_quiz": {
    "title": "Cybersecurity Fundamentals",
    "description": "This quiz covers found
2025-05-08 20:40:13,278 - app.services.crew_service - DEBUG - Result text length: 14857
2025-05-08 20:40:13,280 - app.services.crew_service - INFO - Successfully parsed result as direct JSON
2025-05-08 20:40:13,280 - app.services.crew_service - INFO - Found complete quiz in result
2025-05-08 20:40:13,348 - app.services.crew_service - INFO - Successfully inserted quiz with ID: 22
2025-05-08 20:40:13,529 - app.services.crew_service - INFO - Successfully inserted chapter with ID: 25
2025-05-08 20:40:13,530 - app.services.crew_service - ERROR - Error in _parse_quiz_generation_result: 'CrewService' object has no attribute '_store_question_adaptive'
2025-05-08 20:40:13,530 - app.services.crew_service - ERROR - Exception traceback:
Traceback (most recent call last):
  File "C:\Users\Gameapp\Desktop\CY-X Reseach Doc\CYX_POC\cybersecurity-quiz-ai\app\services\crew_service.py", line 743, in _parse_quiz_generation_result
    self._store_question_adaptive(db_service, chapter_id, j, question)
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'CrewService' object has no attribute '_store_question_adaptive'
2025-05-08 20:40:13,535 - app.routes.agents - INFO - CrewAI quiz generation result: error
2025-05-08 20:47:13,601 - app.routes.agents - INFO - Starting registration process for user banking@example.com
2025-05-08 20:47:13,601 - app.routes.agents - INFO - Using CrewAI for registration process
2025-05-08 20:47:13,601 - app.services.crew_service - INFO - Creating registration crew for user: banking@example.com
2025-05-08 20:47:13,617 - app.services.crew_service - INFO - Starting registration crew workflow
2025-05-08 20:47:13,641 - LiteLLM - INFO - 
LiteLLM completion() model= gpt-4.1-mini; provider = openai
2025-05-08 20:47:15,399 - LiteLLM - INFO - Wrapper: Completed Call, calling success_handler
2025-05-08 20:47:15,419 - LiteLLM - INFO - 
LiteLLM completion() model= gpt-4.1-mini; provider = openai
2025-05-08 20:47:19,627 - LiteLLM - INFO - Wrapper: Completed Call, calling success_handler
2025-05-08 20:47:19,660 - LiteLLM - INFO - 
LiteLLM completion() model= gpt-4.1-mini; provider = openai
2025-05-08 20:47:25,774 - LiteLLM - INFO - Wrapper: Completed Call, calling success_handler
2025-05-08 20:47:25,811 - app.services.crew_service - INFO - Crew result: {
  "topic_priorities": [
    {
      "topic_id": 8,
      "topic_name": "Financial cybersecurity threats and mitigation",
      "relevance_score": 9.8
    },
    {
      "topic_id": 12,
      "topic_name": "Regulatory compliance in banking and finance (PCI DSS, SOX, GDPR)",
      "relevance_score": 9.5
    },
    {
      "topic_id": 15,
      "topic_name": "Risk management and fraud detection",
      "relevance_score": 9.3
    },
    {
      "topic_id": 20,
      "topic_name": "Incident response and threat intelligence in financial sector",
      "relevance_score": 9.0
    },
    {
      "topic_id": 23,
      "topic_name": "Identity and access management (IAM) in banking environments",
      "relevance_score": 8.7
    }
  ],
  "sector_threats": {
    "Financial Sector": [
      "Ransomware attacks targeting banking infrastructure",
      "Insider threats leading to data breaches or fraud",
      "Sophisticated phishing campaigns targeting bank employees and customers",
      "Advanced persistent threats (APTs) from state-sponsored actors",
      "Third-party vendor risk and supply chain attacks",
      "Credential stuffing and identity theft exploits",
      "Regulatory compliance violations leading to penalties",
      "Distributed Denial of Service (DDoS) attacks on online banking platforms"
    ]
  },
  "focus_areas": [
    "Advanced threat detection and prevention techniques against financial cyber attacks",
    "Emerging cyber threats in the financial sector such as ransomware and insider threats",
    "Deepening understanding of financial regulatory frameworks and compliance requirements",
    "Incident response simulations and tabletop exercises tailored to banking scenarios",
    "Cryptography and data protection strategies relevant to financial data"
  ],
  "recommended_topic_id": 8
}
2025-05-08 20:47:25,812 - app.services.crew_service - INFO - Registration crew completed successfully
2025-05-08 20:47:25,813 - app.services.crew_service - INFO - Parsing registration crew result
2025-05-08 20:47:25,814 - app.services.crew_service - INFO - Found JSON in text: dict_keys(['topic_priorities', 'sector_threats', 'focus_areas', 'recommended_topic_id'])
2025-05-08 20:47:25,814 - app.routes.agents - INFO - CrewAI registration result: success
2025-05-08 20:47:25,883 - app.routes.agents - INFO - Using CrewAI to generate quiz for topic: Cybersecurity Fundamentals
2025-05-08 20:47:25,883 - app.services.crew_service - INFO - Creating quiz generation crew for topic: Cybersecurity Fundamentals
2025-05-08 20:47:25,883 - app.services.crew_service - WARNING - No user_id provided in quiz_data, attempting to find a valid user
2025-05-08 20:47:26,033 - app.services.crew_service - INFO - Found valid user_id: 1
2025-05-08 20:47:26,049 - app.services.crew_service - INFO - Starting quiz generation crew workflow
2025-05-08 20:47:26,068 - LiteLLM - INFO - 
LiteLLM completion() model= gpt-4.1-mini; provider = openai
2025-05-08 20:47:53,549 - LiteLLM - INFO - Wrapper: Completed Call, calling success_handler
2025-05-08 20:47:53,573 - LiteLLM - INFO - 
LiteLLM completion() model= gpt-4.1-mini; provider = openai
2025-05-08 20:48:18,346 - LiteLLM - INFO - Wrapper: Completed Call, calling success_handler
2025-05-08 20:48:18,390 - LiteLLM - INFO - 
LiteLLM completion() model= gpt-4.1-mini; provider = openai
2025-05-08 20:49:00,477 - LiteLLM - INFO - Wrapper: Completed Call, calling success_handler
2025-05-08 20:49:00,504 - app.services.crew_service - INFO - Quiz generation crew completed successfully with result: {
  "quiz_title": "Cybersecurity Fundamentals: Advanced Financial Sector Focus",
  "chapter_count": ...
2025-05-08 20:49:00,504 - app.services.crew_service - INFO - Quiz generation crew completed successfully
2025-05-08 20:49:00,507 - app.services.crew_service - INFO - Parsing quiz generation crew result
2025-05-08 20:49:00,507 - app.services.crew_service - DEBUG - Result text first 200 chars: {
  "quiz_title": "Cybersecurity Fundamentals: Advanced Financial Sector Focus",
  "chapter_count": 4,
  "question_count": 20,
  "complete_quiz": {
    "title": "Cybersecurity Fundamentals: Advanced F
2025-05-08 20:49:00,507 - app.services.crew_service - DEBUG - Result text length: 14210
2025-05-08 20:49:00,507 - app.services.crew_service - INFO - Successfully parsed result as direct JSON
2025-05-08 20:49:00,507 - app.services.crew_service - INFO - Found complete quiz in result
2025-05-08 20:49:00,709 - app.services.crew_service - INFO - Successfully inserted quiz with ID: 24
2025-05-08 20:49:00,896 - app.services.crew_service - INFO - Successfully inserted chapter with ID: 26
2025-05-08 20:49:00,896 - app.services.crew_service - ERROR - Error storing question adaptively: 'DatabaseService' object has no attribute 'get_table_columns'
2025-05-08 20:49:00,896 - app.services.crew_service - ERROR - Error storing question adaptively: 'DatabaseService' object has no attribute 'get_table_columns'
2025-05-08 20:49:00,896 - app.services.crew_service - ERROR - Error storing question adaptively: 'DatabaseService' object has no attribute 'get_table_columns'
2025-05-08 20:49:00,896 - app.services.crew_service - ERROR - Error storing question adaptively: 'DatabaseService' object has no attribute 'get_table_columns'
2025-05-08 20:49:00,896 - app.services.crew_service - ERROR - Error storing question adaptively: 'DatabaseService' object has no attribute 'get_table_columns'
2025-05-08 20:49:00,963 - app.services.crew_service - INFO - Successfully inserted chapter with ID: 27
2025-05-08 20:49:00,963 - app.services.crew_service - ERROR - Error storing question adaptively: 'DatabaseService' object has no attribute 'get_table_columns'
2025-05-08 20:49:00,963 - app.services.crew_service - ERROR - Error storing question adaptively: 'DatabaseService' object has no attribute 'get_table_columns'
2025-05-08 20:49:00,964 - app.services.crew_service - ERROR - Error storing question adaptively: 'DatabaseService' object has no attribute 'get_table_columns'
2025-05-08 20:49:00,964 - app.services.crew_service - ERROR - Error storing question adaptively: 'DatabaseService' object has no attribute 'get_table_columns'
2025-05-08 20:49:00,964 - app.services.crew_service - ERROR - Error storing question adaptively: 'DatabaseService' object has no attribute 'get_table_columns'
2025-05-08 20:49:01,008 - app.services.crew_service - INFO - Successfully inserted chapter with ID: 28
2025-05-08 20:49:01,008 - app.services.crew_service - ERROR - Error storing question adaptively: 'DatabaseService' object has no attribute 'get_table_columns'
2025-05-08 20:49:01,008 - app.services.crew_service - ERROR - Error storing question adaptively: 'DatabaseService' object has no attribute 'get_table_columns'
2025-05-08 20:49:01,008 - app.services.crew_service - ERROR - Error storing question adaptively: 'DatabaseService' object has no attribute 'get_table_columns'
2025-05-08 20:49:01,008 - app.services.crew_service - ERROR - Error storing question adaptively: 'DatabaseService' object has no attribute 'get_table_columns'
2025-05-08 20:49:01,008 - app.services.crew_service - ERROR - Error storing question adaptively: 'DatabaseService' object has no attribute 'get_table_columns'
2025-05-08 20:49:01,063 - app.services.crew_service - INFO - Successfully inserted chapter with ID: 29
2025-05-08 20:49:01,064 - app.services.crew_service - ERROR - Error storing question adaptively: 'DatabaseService' object has no attribute 'get_table_columns'
2025-05-08 20:49:01,064 - app.services.crew_service - ERROR - Error storing question adaptively: 'DatabaseService' object has no attribute 'get_table_columns'
2025-05-08 20:49:01,064 - app.services.crew_service - ERROR - Error storing question adaptively: 'DatabaseService' object has no attribute 'get_table_columns'
2025-05-08 20:49:01,064 - app.services.crew_service - ERROR - Error storing question adaptively: 'DatabaseService' object has no attribute 'get_table_columns'
2025-05-08 20:49:01,064 - app.services.crew_service - ERROR - Error storing question adaptively: 'DatabaseService' object has no attribute 'get_table_columns'
2025-05-08 20:49:01,064 - app.routes.agents - INFO - CrewAI quiz generation result: success
2025-05-08 21:08:57,888 - app.routes.agents - INFO - Starting registration process for user banking@example.com
2025-05-08 21:08:57,891 - app.routes.agents - INFO - Using CrewAI for registration process
2025-05-08 21:08:57,891 - app.services.crew_service - INFO - Creating registration crew for user: banking@example.com
2025-05-08 21:08:57,932 - app.services.crew_service - INFO - Starting registration crew workflow
2025-05-08 21:08:57,971 - LiteLLM - INFO - 
LiteLLM completion() model= gpt-4.1-mini; provider = openai
2025-05-08 21:09:00,305 - LiteLLM - INFO - Wrapper: Completed Call, calling success_handler
2025-05-08 21:09:00,328 - LiteLLM - INFO - 
LiteLLM completion() model= gpt-4.1-mini; provider = openai
2025-05-08 21:09:04,913 - LiteLLM - INFO - Wrapper: Completed Call, calling success_handler
2025-05-08 21:09:04,942 - LiteLLM - INFO - 
LiteLLM completion() model= gpt-4.1-mini; provider = openai
2025-05-08 21:09:12,526 - LiteLLM - INFO - Wrapper: Completed Call, calling success_handler
2025-05-08 21:09:12,558 - app.services.crew_service - INFO - Crew result: {
  "topic_priorities": [
    {
      "topic": "Financial Cybersecurity Threats and Vulnerabilities",
      "relevance_score": 0.95
    },
    {
      "topic": "Advanced Threat Intelligence and Threat Hunting in Banking",
      "relevance_score": 0.92
    },
    {
      "topic": "Regulatory Compliance in Banking Sector (e.g., PCI DSS, GDPR, SOX)",
      "relevance_score": 0.90
    },
    {
      "topic": "Fraud Detection and Prevention Techniques",
      "relevance_score": 0.88
    },
    {
      "topic": "Identity and Access Management (IAM) for Banking",
      "relevance_score": 0.85
    },
    {
      "topic": "Incident Response and Risk Management in Financial Environments",
      "relevance_score": 0.83
    },
    {
      "topic": "Cloud Security and Secure Migration for Financial Data",
      "relevance_score": 0.80
    },
    {
      "topic": "Zero Trust Architecture Implementation in Financial Institutions",
      "relevance_score": 0.78
    },
    {
      "topic": "Automation and AI for Cybersecurity in Banking",
      "relevance_score": 0.75
    },
    {
      "topic": "Secure Software Development Lifecycle (SDLC) in Financial Applications",
      "relevance_score": 0.72
    },
    {
      "topic": "Cryptography and Data Encryption for Financial Transactions",
      "relevance_score": 0.70
    },
    {
      "topic": "Enhancing Security Awareness and Training for Bank Employees",
      "relevance_score": 0.68
    },
    {
      "topic": "Blockchain Security and its Implications in Finance",
      "relevance_score": 0.65
    },
    {
      "topic": "Regulatory Updates and Compliance Best Practices",
      "relevance_score": 0.63
    }
  ],
  "sector_threats": {
    "Banking Sector": [
      "Ransomware attacks targeting financial data and systems",
      "Phishing and spear-phishing campaigns targeting employees and customers",
      "Advanced persistent threats (APTs) focused on financial espionage",
      "Insider threats including fraud and data leaks",
      "Credential stuffing and identity theft attacks",
      "Exploitation of vulnerabilities in legacy banking software",
      "Regulatory non-compliance penalties due to data breaches",
      "Cloud misconfigurations leading to data exposure",
      "Man-in-the-middle attacks on financial transactions",
      "Social engineering attacks aimed at accessing sensitive financial systems"
    ]
  },
  "focus_areas": [
    "Emerging Financial Cyber Threats such as Ransomware and Phishing",
    "Advanced Threat Intelligence and Threat Hunting in Banking",
    "Regulatory Compliance and Updates in the Banking Sector",
    "Identity and Access Management (IAM) Strategies",
    "Incident Response and Risk Management Protocols"
  ],
  "recommended_topic_id": 8
}
2025-05-08 21:09:12,559 - app.services.crew_service - INFO - Registration crew completed successfully
2025-05-08 21:09:12,559 - app.services.crew_service - INFO - Parsing registration crew result
2025-05-08 21:09:12,559 - app.services.crew_service - INFO - Found JSON in text: dict_keys(['topic_priorities', 'sector_threats', 'focus_areas', 'recommended_topic_id'])
2025-05-08 21:09:12,560 - app.routes.agents - INFO - CrewAI registration result: success
2025-05-08 21:09:12,619 - app.routes.agents - INFO - Using CrewAI to generate quiz for topic: Cybersecurity Fundamentals
2025-05-08 21:09:12,620 - app.services.crew_service - INFO - Creating quiz generation crew for topic: Cybersecurity Fundamentals
2025-05-08 21:09:12,620 - app.services.crew_service - WARNING - No user_id provided in quiz_data, attempting to find a valid user
2025-05-08 21:09:12,662 - app.services.crew_service - INFO - Found valid user_id: 1
2025-05-08 21:09:12,671 - app.services.crew_service - INFO - Starting quiz generation crew workflow
2025-05-08 21:09:12,689 - LiteLLM - INFO - 
LiteLLM completion() model= gpt-4.1-mini; provider = openai
2025-05-08 21:09:37,599 - LiteLLM - INFO - Wrapper: Completed Call, calling success_handler
2025-05-08 21:09:37,638 - LiteLLM - INFO - 
LiteLLM completion() model= gpt-4.1-mini; provider = openai
2025-05-08 21:10:08,094 - LiteLLM - INFO - Wrapper: Completed Call, calling success_handler
2025-05-08 21:10:08,124 - LiteLLM - INFO - 
LiteLLM completion() model= gpt-4.1-mini; provider = openai
2025-05-08 21:10:43,002 - LiteLLM - INFO - Wrapper: Completed Call, calling success_handler
2025-05-08 21:10:43,029 - app.services.crew_service - INFO - Quiz generation crew completed successfully with result: {
  "quiz_title": "Cybersecurity Fundamentals: Emerging Financial Cyber Threats and Advanced Defense...
2025-05-08 21:10:43,029 - app.services.crew_service - INFO - Quiz generation crew completed successfully
2025-05-08 21:10:43,030 - app.services.crew_service - INFO - Parsing quiz generation crew result
2025-05-08 21:10:43,030 - app.services.crew_service - DEBUG - Result text first 200 chars: {
  "quiz_title": "Cybersecurity Fundamentals: Emerging Financial Cyber Threats and Advanced Defense Strategies",
  "chapter_count": 4,
  "question_count": 20,
  "complete_quiz": {
    "title": "Cyber
2025-05-08 21:10:43,030 - app.services.crew_service - DEBUG - Result text length: 15600
2025-05-08 21:10:43,030 - app.services.crew_service - INFO - Successfully parsed result as direct JSON
2025-05-08 21:10:43,030 - app.services.crew_service - INFO - Found complete quiz in result
2025-05-08 21:10:43,190 - app.services.crew_service - INFO - Successfully inserted quiz with ID: 25
2025-05-08 21:10:43,250 - app.services.crew_service - INFO - Successfully inserted chapter with ID: 30
2025-05-08 21:10:43,299 - app.services.crew_service - DEBUG - Created question 1 in chapter 30
2025-05-08 21:10:43,344 - app.services.crew_service - DEBUG - Created question 2 in chapter 30
2025-05-08 21:10:43,522 - app.services.crew_service - DEBUG - Created question 3 in chapter 30
2025-05-08 21:10:43,696 - app.services.crew_service - DEBUG - Created question 4 in chapter 30
2025-05-08 21:10:43,741 - app.services.crew_service - DEBUG - Created question 5 in chapter 30
2025-05-08 21:10:43,906 - app.services.crew_service - INFO - Successfully inserted chapter with ID: 31
2025-05-08 21:10:43,954 - app.services.crew_service - DEBUG - Created question 1 in chapter 31
2025-05-08 21:10:43,998 - app.services.crew_service - DEBUG - Created question 2 in chapter 31
2025-05-08 21:10:44,042 - app.services.crew_service - DEBUG - Created question 3 in chapter 31
2025-05-08 21:10:44,086 - app.services.crew_service - DEBUG - Created question 4 in chapter 31
2025-05-08 21:10:44,130 - app.services.crew_service - DEBUG - Created question 5 in chapter 31
2025-05-08 21:10:44,173 - app.services.crew_service - INFO - Successfully inserted chapter with ID: 32
2025-05-08 21:10:44,218 - app.services.crew_service - DEBUG - Created question 1 in chapter 32
2025-05-08 21:10:44,264 - app.services.crew_service - DEBUG - Created question 2 in chapter 32
2025-05-08 21:10:44,309 - app.services.crew_service - DEBUG - Created question 3 in chapter 32
2025-05-08 21:10:44,352 - app.services.crew_service - DEBUG - Created question 4 in chapter 32
2025-05-08 21:10:44,397 - app.services.crew_service - DEBUG - Created question 5 in chapter 32
2025-05-08 21:10:44,548 - app.services.crew_service - INFO - Successfully inserted chapter with ID: 33
2025-05-08 21:10:44,594 - app.services.crew_service - DEBUG - Created question 1 in chapter 33
2025-05-08 21:10:44,643 - app.services.crew_service - DEBUG - Created question 2 in chapter 33
2025-05-08 21:10:44,789 - app.services.crew_service - DEBUG - Created question 3 in chapter 33
2025-05-08 21:10:44,976 - app.services.crew_service - DEBUG - Created question 4 in chapter 33
2025-05-08 21:10:45,163 - app.services.crew_service - DEBUG - Created question 5 in chapter 33
2025-05-08 21:10:45,163 - app.routes.agents - INFO - CrewAI quiz generation result: success
2025-05-08 21:12:18,696 - app.routes.agents - INFO - Starting quiz evaluation: user_id=1, quiz_id=25
2025-05-08 21:12:18,696 - app.routes.agents - INFO - Using CrewAI for evaluation process
2025-05-08 21:12:18,696 - app.services.crew_service - INFO - Creating evaluation crew for user: 1
2025-05-08 21:12:18,705 - app.services.crew_service - INFO - Starting evaluation crew workflow
2025-05-08 21:12:18,724 - LiteLLM - INFO - 
LiteLLM completion() model= gpt-4.1-mini; provider = openai
2025-05-08 21:12:48,619 - LiteLLM - INFO - Wrapper: Completed Call, calling success_handler
2025-05-08 21:12:48,653 - LiteLLM - INFO - 
LiteLLM completion() model= gpt-4.1-mini; provider = openai
2025-05-08 21:13:00,762 - LiteLLM - INFO - Wrapper: Completed Call, calling success_handler
2025-05-08 21:13:00,798 - LiteLLM - INFO - 
LiteLLM completion() model= gpt-4.1-mini; provider = openai
2025-05-08 21:13:23,326 - LiteLLM - INFO - Wrapper: Completed Call, calling success_handler
2025-05-08 21:13:23,343 - app.services.crew_service - INFO - Evaluation crew completed successfully with result: {
  "user_id": 1,
  "quiz_id": 25,
  "personalized_feedback": {
    "overall_performance_summary": "...
2025-05-08 21:13:23,343 - app.services.crew_service - INFO - Evaluation crew completed successfully
2025-05-08 21:13:23,345 - app.services.crew_service - INFO - Parsing evaluation crew result
2025-05-08 21:13:23,345 - app.routes.agents - INFO - CrewAI evaluation result: success
2025-05-08 21:25:43,731 - app.routes.agents - INFO - Starting registration process for user banking@example.com
2025-05-08 21:25:43,733 - app.routes.agents - INFO - Using CrewAI for registration process
2025-05-08 21:25:43,733 - app.services.crew_service - INFO - Creating registration crew for user: banking@example.com
2025-05-08 21:25:43,757 - app.services.crew_service - INFO - Starting registration crew workflow
2025-05-08 21:25:43,806 - LiteLLM - INFO - 
LiteLLM completion() model= gpt-4.1-mini; provider = openai
2025-05-08 21:25:45,959 - LiteLLM - INFO - Wrapper: Completed Call, calling success_handler
2025-05-08 21:25:45,984 - LiteLLM - INFO - 
LiteLLM completion() model= gpt-4.1-mini; provider = openai
2025-05-08 21:25:49,365 - LiteLLM - INFO - Wrapper: Completed Call, calling success_handler
2025-05-08 21:25:49,431 - LiteLLM - INFO - 
LiteLLM completion() model= gpt-4.1-mini; provider = openai
2025-05-08 21:25:55,065 - LiteLLM - INFO - Wrapper: Completed Call, calling success_handler
2025-05-08 21:25:55,097 - app.services.crew_service - INFO - Crew result: {
  "topic_priorities": [
    {
      "topic_id": 9,
      "topic_name": "Financial Cybersecurity Threats and Mitigation",
      "relevance_score": 9.7
    },
    {
      "topic_id": 12,
      "topic_name": "Regulatory Compliance in Banking Sector (PCI-DSS, GDPR, SOX)",
      "relevance_score": 9.5
    },
    {
      "topic_id": 15,
      "topic_name": "Risk Management and Fraud Detection in Finance",
      "relevance_score": 9.3
    },
    {
      "topic_id": 18,
      "topic_name": "Secure Banking Application Development",
      "relevance_score": 8.7
    },
    {
      "topic_id": 21,
      "topic_name": "Network Security and Intrusion Detection for Financial Institutions",
      "relevance_score": 8.5
    }
  ],
  "sector_threats": {
    "Phishing and Social Engineering Attacks": "Highly targeted attacks on banking employees to gain credentials or access.",
    "Ransomware Attacks": "Increasingly frequent, aiming to encrypt financial data and disrupt banking operations.",
    "Insider Threats": "Risk from employees or contractors with privileged access abusing their rights.",
    "Advanced Persistent Threats (APTs)": "Sophisticated, prolonged cyber espionage campaigns targeting sensitive financial data.",
    "Supply Chain Attacks": "Compromise of third-party vendors affecting banking infrastructure.",
    "Data Breaches and Exfiltration": "Exposure or theft of sensitive customer financial information.",
    "ATM and POS Malware": "Malware targeting banking terminals to steal card data or manipulate transactions."
  },
  "focus_areas": [
    "Advanced threat intelligence and detection techniques for financial cyber threats",
    "Implementation of zero trust architecture in banking environments",
    "Regulatory compliance frameworks (PCI-DSS, GDPR, SOX) and continuous monitoring",
    "Automation and orchestration in incident response and forensic analysis",
    "Advanced data analytics and machine learning applications for fraud detection"
  ],
  "recommended_topic_id": 9
}
2025-05-08 21:25:55,098 - app.services.crew_service - INFO - Registration crew completed successfully
2025-05-08 21:25:55,099 - app.services.crew_service - INFO - Parsing registration crew result
2025-05-08 21:25:55,099 - app.services.crew_service - INFO - Found JSON in text: dict_keys(['topic_priorities', 'sector_threats', 'focus_areas', 'recommended_topic_id'])
2025-05-08 21:25:55,099 - app.routes.agents - INFO - CrewAI registration result: success
2025-05-08 21:25:55,265 - app.routes.agents - INFO - Using CrewAI to generate quiz for topic: Cybersecurity Fundamentals
2025-05-08 21:25:55,265 - app.services.crew_service - INFO - Creating quiz generation crew for topic: Cybersecurity Fundamentals
2025-05-08 21:25:55,265 - app.services.crew_service - WARNING - No user_id provided in quiz_data, attempting to find a valid user
2025-05-08 21:25:55,310 - app.services.crew_service - INFO - Found valid user_id: 1
2025-05-08 21:25:55,325 - app.services.crew_service - INFO - Starting quiz generation crew workflow
2025-05-08 21:25:55,342 - LiteLLM - INFO - 
LiteLLM completion() model= gpt-4.1-mini; provider = openai
2025-05-08 21:26:28,819 - LiteLLM - INFO - Wrapper: Completed Call, calling success_handler
2025-05-08 21:26:28,861 - LiteLLM - INFO - 
LiteLLM completion() model= gpt-4.1-mini; provider = openai
2025-05-08 21:26:58,846 - LiteLLM - INFO - Wrapper: Completed Call, calling success_handler
2025-05-08 21:26:58,875 - LiteLLM - INFO - 
LiteLLM completion() model= gpt-4.1-mini; provider = openai
2025-05-08 21:27:37,631 - LiteLLM - INFO - Wrapper: Completed Call, calling success_handler
2025-05-08 21:27:37,661 - app.services.crew_service - INFO - Quiz generation crew completed successfully with result: {
  "quiz_title": "Cybersecurity Fundamentals: Advanced Financial Sector Focus",
  "chapter_count": ...
2025-05-08 21:27:37,661 - app.services.crew_service - INFO - Quiz generation crew completed successfully
2025-05-08 21:27:37,665 - app.services.crew_service - INFO - Parsing quiz generation crew result
2025-05-08 21:27:37,665 - app.services.crew_service - DEBUG - Result text first 200 chars: {
  "quiz_title": "Cybersecurity Fundamentals: Advanced Financial Sector Focus",
  "chapter_count": 4,
  "question_count": 20,
  "complete_quiz": {
    "title": "Cybersecurity Fundamentals: Advanced F
2025-05-08 21:27:37,665 - app.services.crew_service - DEBUG - Result text length: 15138
2025-05-08 21:27:37,665 - app.services.crew_service - INFO - Successfully parsed result as direct JSON
2025-05-08 21:27:37,665 - app.services.crew_service - INFO - Found complete quiz in result
2025-05-08 21:27:37,766 - app.services.crew_service - INFO - Successfully inserted quiz with ID: 26
2025-05-08 21:27:37,811 - app.services.crew_service - INFO - Successfully inserted chapter with ID: 34
2025-05-08 21:27:37,996 - app.services.crew_service - DEBUG - Created question 1 in chapter 34
2025-05-08 21:27:38,169 - app.services.crew_service - DEBUG - Created question 2 in chapter 34
2025-05-08 21:27:38,359 - app.services.crew_service - DEBUG - Created question 3 in chapter 34
2025-05-08 21:27:38,416 - app.services.crew_service - DEBUG - Created question 4 in chapter 34
2025-05-08 21:27:38,472 - app.services.crew_service - DEBUG - Created question 5 in chapter 34
2025-05-08 21:27:38,531 - app.services.crew_service - INFO - Successfully inserted chapter with ID: 35
2025-05-08 21:27:38,590 - app.services.crew_service - DEBUG - Created question 1 in chapter 35
2025-05-08 21:27:38,783 - app.services.crew_service - DEBUG - Created question 2 in chapter 35
2025-05-08 21:27:38,983 - app.services.crew_service - DEBUG - Created question 3 in chapter 35
2025-05-08 21:27:39,173 - app.services.crew_service - DEBUG - Created question 4 in chapter 35
2025-05-08 21:27:39,346 - app.services.crew_service - DEBUG - Created question 5 in chapter 35
2025-05-08 21:27:39,511 - app.services.crew_service - INFO - Successfully inserted chapter with ID: 36
2025-05-08 21:27:39,568 - app.services.crew_service - DEBUG - Created question 1 in chapter 36
2025-05-08 21:27:39,616 - app.services.crew_service - DEBUG - Created question 2 in chapter 36
2025-05-08 21:27:39,662 - app.services.crew_service - DEBUG - Created question 3 in chapter 36
2025-05-08 21:27:39,845 - app.services.crew_service - DEBUG - Created question 4 in chapter 36
2025-05-08 21:27:40,034 - app.services.crew_service - DEBUG - Created question 5 in chapter 36
2025-05-08 21:27:40,102 - app.services.crew_service - INFO - Successfully inserted chapter with ID: 37
2025-05-08 21:27:40,170 - app.services.crew_service - DEBUG - Created question 1 in chapter 37
2025-05-08 21:27:40,218 - app.services.crew_service - DEBUG - Created question 2 in chapter 37
2025-05-08 21:27:40,268 - app.services.crew_service - DEBUG - Created question 3 in chapter 37
2025-05-08 21:27:40,344 - app.services.crew_service - DEBUG - Created question 4 in chapter 37
2025-05-08 21:27:40,504 - app.services.crew_service - DEBUG - Created question 5 in chapter 37
2025-05-08 21:27:40,504 - app.routes.agents - INFO - CrewAI quiz generation result: success
2025-05-08 21:27:56,839 - app.routes.agents - INFO - Starting registration process for user travel@example.com
2025-05-08 21:27:56,840 - app.routes.agents - INFO - Using CrewAI for registration process
2025-05-08 21:27:56,840 - app.services.crew_service - INFO - Creating registration crew for user: travel@example.com
2025-05-08 21:27:56,859 - app.services.crew_service - INFO - Starting registration crew workflow
2025-05-08 21:27:56,896 - LiteLLM - INFO - 
LiteLLM completion() model= gpt-4.1-mini; provider = openai
2025-05-08 21:27:58,402 - LiteLLM - INFO - Wrapper: Completed Call, calling success_handler
2025-05-08 21:27:58,422 - LiteLLM - INFO - 
LiteLLM completion() model= gpt-4.1-mini; provider = openai
2025-05-08 21:28:02,860 - LiteLLM - INFO - Wrapper: Completed Call, calling success_handler
2025-05-08 21:28:02,906 - LiteLLM - INFO - 
LiteLLM completion() model= gpt-4.1-mini; provider = openai
2025-05-08 21:28:07,339 - LiteLLM - INFO - Wrapper: Completed Call, calling success_handler
2025-05-08 21:28:07,363 - app.services.crew_service - INFO - Crew result: {
  "topic_priorities": [
    {
      "topic_id": 9,
      "topic_name": "Travel Sector-Specific Security Risks",
      "relevance_score": 9.5
    },
    {
      "topic_id": 15,
      "topic_name": "Booking System Vulnerabilities",
      "relevance_score": 9.0
    },
    {
      "topic_id": 21,
      "topic_name": "Data Privacy and Protection in Travel Industry",
      "relevance_score": 8.8
    },
    {
      "topic_id": 33,
      "topic_name": "Incident Response in Travel Systems",
      "relevance_score": 8.5
    },
    {
      "topic_id": 27,
      "topic_name": "Authentication and Authorization Mechanisms",
      "relevance_score": 8.0
    }
  ],
  "sector_threats": {
    "Travel Sector": [
      "Phishing attacks targeting travelers and travel agents",
      "Booking system exploitation via injection flaws and API abuse",
      "Data breaches exposing personal identifiable information (PII) of travelers",
      "Ransomware attacks on travel booking platforms and infrastructure",
      "Man-in-the-middle (MITM) attacks on insecure Wi-Fi networks used by travelers",
      "Insider threats compromising customer data and operational systems",
      "Compliance violations related to GDPR and PCI-DSS leading to legal and financial penalties"
    ]
  },
  "focus_areas": [
    "Identifying and mitigating vulnerabilities in travel booking systems",
    "Securing APIs and web services specific to travel technology",
    "Implementing effective incident detection and response strategies",
    "Ensuring data privacy and secure handling of traveler personal information",
    "Understanding evolving threats and best practices in travel sector cybersecurity"
  ],
  "recommended_topic_id": 9
}
2025-05-08 21:28:07,363 - app.services.crew_service - INFO - Registration crew completed successfully
2025-05-08 21:28:07,363 - app.services.crew_service - INFO - Parsing registration crew result
2025-05-08 21:28:07,363 - app.services.crew_service - INFO - Found JSON in text: dict_keys(['topic_priorities', 'sector_threats', 'focus_areas', 'recommended_topic_id'])
2025-05-08 21:28:07,363 - app.routes.agents - INFO - CrewAI registration result: success
2025-05-08 21:28:07,413 - app.routes.agents - INFO - Using CrewAI to generate quiz for topic: Cybersecurity Fundamentals
2025-05-08 21:28:07,414 - app.services.crew_service - INFO - Creating quiz generation crew for topic: Cybersecurity Fundamentals
2025-05-08 21:28:07,414 - app.services.crew_service - WARNING - No user_id provided in quiz_data, attempting to find a valid user
2025-05-08 21:28:07,460 - app.services.crew_service - INFO - Found valid user_id: 1
2025-05-08 21:28:07,469 - app.services.crew_service - INFO - Starting quiz generation crew workflow
2025-05-08 21:28:07,489 - LiteLLM - INFO - 
LiteLLM completion() model= gpt-4.1-mini; provider = openai
2025-05-08 21:28:30,607 - LiteLLM - INFO - Wrapper: Completed Call, calling success_handler
2025-05-08 21:28:30,630 - LiteLLM - INFO - 
LiteLLM completion() model= gpt-4.1-mini; provider = openai
2025-05-08 21:28:58,942 - LiteLLM - INFO - Wrapper: Completed Call, calling success_handler
2025-05-08 21:28:58,972 - LiteLLM - INFO - 
LiteLLM completion() model= gpt-4.1-mini; provider = openai
2025-05-08 21:29:33,607 - LiteLLM - INFO - Wrapper: Completed Call, calling success_handler
2025-05-08 21:29:33,627 - app.services.crew_service - INFO - Quiz generation crew completed successfully with result: {
  "quiz_title": "Cybersecurity Fundamentals in the Travel Technology Sector",
  "chapter_count": 4...
2025-05-08 21:29:33,627 - app.services.crew_service - INFO - Quiz generation crew completed successfully
2025-05-08 21:29:33,628 - app.services.crew_service - INFO - Parsing quiz generation crew result
2025-05-08 21:29:33,628 - app.services.crew_service - DEBUG - Result text first 200 chars: {
  "quiz_title": "Cybersecurity Fundamentals in the Travel Technology Sector",
  "chapter_count": 4,
  "question_count": 20,
  "complete_quiz": {
    "title": "Cybersecurity Fundamentals in the Trave
2025-05-08 21:29:33,628 - app.services.crew_service - DEBUG - Result text length: 14363
2025-05-08 21:29:33,628 - app.services.crew_service - INFO - Successfully parsed result as direct JSON
2025-05-08 21:29:33,628 - app.services.crew_service - INFO - Found complete quiz in result
2025-05-08 21:29:33,679 - app.services.crew_service - INFO - Successfully inserted quiz with ID: 27
2025-05-08 21:29:33,725 - app.services.crew_service - INFO - Successfully inserted chapter with ID: 38
2025-05-08 21:29:33,769 - app.services.crew_service - DEBUG - Created question 1 in chapter 38
2025-05-08 21:29:33,947 - app.services.crew_service - DEBUG - Created question 2 in chapter 38
2025-05-08 21:29:34,129 - app.services.crew_service - DEBUG - Created question 3 in chapter 38
2025-05-08 21:29:34,275 - app.services.crew_service - DEBUG - Created question 4 in chapter 38
2025-05-08 21:29:34,320 - app.services.crew_service - DEBUG - Created question 5 in chapter 38
2025-05-08 21:29:34,462 - app.services.crew_service - INFO - Successfully inserted chapter with ID: 39
2025-05-08 21:29:34,516 - app.services.crew_service - DEBUG - Created question 1 in chapter 39
2025-05-08 21:29:34,568 - app.services.crew_service - DEBUG - Created question 2 in chapter 39
2025-05-08 21:29:34,614 - app.services.crew_service - DEBUG - Created question 3 in chapter 39
2025-05-08 21:29:34,662 - app.services.crew_service - DEBUG - Created question 4 in chapter 39
2025-05-08 21:29:34,713 - app.services.crew_service - DEBUG - Created question 5 in chapter 39
2025-05-08 21:29:34,757 - app.services.crew_service - INFO - Successfully inserted chapter with ID: 40
2025-05-08 21:29:34,799 - app.services.crew_service - DEBUG - Created question 1 in chapter 40
2025-05-08 21:29:34,979 - app.services.crew_service - DEBUG - Created question 2 in chapter 40
2025-05-08 21:29:35,024 - app.services.crew_service - DEBUG - Created question 3 in chapter 40
2025-05-08 21:29:35,175 - app.services.crew_service - DEBUG - Created question 4 in chapter 40
2025-05-08 21:29:35,219 - app.services.crew_service - DEBUG - Created question 5 in chapter 40
2025-05-08 21:29:35,275 - app.services.crew_service - INFO - Successfully inserted chapter with ID: 41
2025-05-08 21:29:35,477 - app.services.crew_service - DEBUG - Created question 1 in chapter 41
2025-05-08 21:29:35,525 - app.services.crew_service - DEBUG - Created question 2 in chapter 41
2025-05-08 21:29:35,700 - app.services.crew_service - DEBUG - Created question 3 in chapter 41
2025-05-08 21:29:35,872 - app.services.crew_service - DEBUG - Created question 4 in chapter 41
2025-05-08 21:29:35,918 - app.services.crew_service - DEBUG - Created question 5 in chapter 41
2025-05-08 21:29:35,918 - app.routes.agents - INFO - CrewAI quiz generation result: success
2025-05-08 21:45:36,422 - app.routes.agents - INFO - Starting registration process for user travel@example.com
2025-05-08 21:45:36,426 - app.routes.agents - INFO - Using CrewAI for registration process
2025-05-08 21:45:36,427 - app.services.crew_service - INFO - Creating registration crew for user: travel@example.com
2025-05-08 21:45:36,485 - app.services.crew_service - INFO - Starting registration crew workflow
2025-05-08 21:45:36,520 - LiteLLM - INFO - 
LiteLLM completion() model= gpt-4.1-mini; provider = openai
2025-05-08 21:45:38,191 - LiteLLM - INFO - Wrapper: Completed Call, calling success_handler
2025-05-08 21:45:38,219 - LiteLLM - INFO - 
LiteLLM completion() model= gpt-4.1-mini; provider = openai
2025-05-08 21:45:43,893 - LiteLLM - INFO - Wrapper: Completed Call, calling success_handler
2025-05-08 21:45:43,934 - LiteLLM - INFO - 
LiteLLM completion() model= gpt-4.1-mini; provider = openai
2025-05-08 21:45:47,986 - LiteLLM - INFO - Wrapper: Completed Call, calling success_handler
2025-05-08 21:45:48,015 - app.services.crew_service - INFO - Crew result: {
  "topic_priorities": [
    {
      "topic": "Security Risks in Travel Booking Systems",
      "relevance_score": 9.8
    },
    {
      "topic": "Threat Detection and Incident Response in Travel Systems",
      "relevance_score": 9.5
    },
    {
      "topic": "Compliance with Travel Industry Regulations (e.g., GDPR, PCI-DSS)",
      "relevance_score": 9.2
    },
    {
      "topic": "Identity and Access Management",
      "relevance_score": 8.9
    },
    {
      "topic": "Application Security for Booking Platforms",
      "relevance_score": 8.7
    },
    {
      "topic": "Network Security and Data Protection",
      "relevance_score": 8.5
    }
  ],
  "sector_threats": {
    "Travel and Hospitality Sector": [
      "Data breaches exposing customer PII and payment data",
      "Ransomware attacks targeting booking and reservation systems",
      "Credential stuffing and account takeover attacks on user accounts",
      "Supply chain attacks affecting travel software providers",
      "Phishing campaigns targeting travel staff and customers",
      "Exploitation of vulnerabilities in booking platform applications",
      "Non-compliance penalties resulting from inadequate GDPR and PCI-DSS adherence"
    ]
  },
  "focus_areas": [
    "Advanced threat modeling tailored to travel booking platforms",
    "Incident response planning for travel industry cyber incidents",
    "Data privacy and compliance with GDPR and PCI-DSS in travel",
    "User authentication and fraud prevention mechanisms",
    "Vulnerability assessment and penetration testing in travel environments"
  ],
  "recommended_topic_id": 8
}
2025-05-08 21:45:48,015 - app.services.crew_service - INFO - Registration crew completed successfully
2025-05-08 21:45:48,016 - app.services.crew_service - INFO - Parsing registration crew result
2025-05-08 21:45:48,017 - app.services.crew_service - INFO - Found JSON in text: dict_keys(['topic_priorities', 'sector_threats', 'focus_areas', 'recommended_topic_id'])
2025-05-08 21:45:48,017 - app.routes.agents - INFO - CrewAI registration result: success
2025-05-08 21:45:48,081 - app.routes.agents - INFO - Using CrewAI to generate quiz for topic: Cybersecurity Fundamentals
2025-05-08 21:45:48,082 - app.services.crew_service - INFO - Creating quiz generation crew for topic: Cybersecurity Fundamentals
2025-05-08 21:45:48,082 - app.services.crew_service - WARNING - No user_id provided in quiz_data, attempting to find a valid user
2025-05-08 21:45:48,126 - app.services.crew_service - INFO - Found valid user_id: 1
2025-05-08 21:45:48,135 - app.services.crew_service - INFO - Starting quiz generation crew workflow
2025-05-08 21:45:48,158 - LiteLLM - INFO - 
LiteLLM completion() model= gpt-4.1-mini; provider = openai
2025-05-08 21:46:17,061 - LiteLLM - INFO - Wrapper: Completed Call, calling success_handler
2025-05-08 21:46:17,095 - LiteLLM - INFO - 
LiteLLM completion() model= gpt-4.1-mini; provider = openai
2025-05-08 21:46:41,943 - LiteLLM - INFO - Wrapper: Completed Call, calling success_handler
2025-05-08 21:46:41,969 - LiteLLM - INFO - 
LiteLLM completion() model= gpt-4.1-mini; provider = openai
2025-05-08 21:47:24,832 - LiteLLM - INFO - Wrapper: Completed Call, calling success_handler
2025-05-08 21:47:24,860 - app.services.crew_service - INFO - Quiz generation crew completed successfully with result: {
  "quiz_title": "Cybersecurity Fundamentals for Travel Booking Platforms",
  "chapter_count": 4,
 ...
2025-05-08 21:47:24,861 - app.services.crew_service - INFO - Quiz generation crew completed successfully
2025-05-08 21:47:24,861 - app.services.crew_service - INFO - Parsing quiz generation crew result
2025-05-08 21:47:24,861 - app.services.crew_service - DEBUG - Result text first 200 chars: {
  "quiz_title": "Cybersecurity Fundamentals for Travel Booking Platforms",
  "chapter_count": 4,
  "question_count": 20,
  "complete_quiz": {
    "title": "Cybersecurity Fundamentals for Travel Book
2025-05-08 21:47:24,861 - app.services.crew_service - DEBUG - Result text length: 14527
2025-05-08 21:47:24,862 - app.services.crew_service - INFO - Successfully parsed result as direct JSON
2025-05-08 21:47:24,862 - app.services.crew_service - INFO - Found complete quiz in result
2025-05-08 21:47:24,924 - app.services.crew_service - INFO - Successfully inserted quiz with ID: 28
2025-05-08 21:47:24,969 - app.services.crew_service - INFO - Successfully inserted chapter with ID: 42
2025-05-08 21:47:25,013 - app.services.crew_service - DEBUG - Created question 1 in chapter 42
2025-05-08 21:47:25,059 - app.services.crew_service - DEBUG - Created question 2 in chapter 42
2025-05-08 21:47:25,101 - app.services.crew_service - DEBUG - Created question 3 in chapter 42
2025-05-08 21:47:25,146 - app.services.crew_service - DEBUG - Created question 4 in chapter 42
2025-05-08 21:47:25,326 - app.services.crew_service - DEBUG - Created question 5 in chapter 42
2025-05-08 21:47:25,375 - app.services.crew_service - INFO - Successfully inserted chapter with ID: 43
2025-05-08 21:47:25,422 - app.services.crew_service - DEBUG - Created question 1 in chapter 43
2025-05-08 21:47:25,468 - app.services.crew_service - DEBUG - Created question 2 in chapter 43
2025-05-08 21:47:25,512 - app.services.crew_service - DEBUG - Created question 3 in chapter 43
2025-05-08 21:47:25,677 - app.services.crew_service - DEBUG - Created question 4 in chapter 43
2025-05-08 21:47:25,721 - app.services.crew_service - DEBUG - Created question 5 in chapter 43
2025-05-08 21:47:25,766 - app.services.crew_service - INFO - Successfully inserted chapter with ID: 44
2025-05-08 21:47:25,917 - app.services.crew_service - DEBUG - Created question 1 in chapter 44
2025-05-08 21:47:25,962 - app.services.crew_service - DEBUG - Created question 2 in chapter 44
2025-05-08 21:47:26,117 - app.services.crew_service - DEBUG - Created question 3 in chapter 44
2025-05-08 21:47:26,164 - app.services.crew_service - DEBUG - Created question 4 in chapter 44
2025-05-08 21:47:26,332 - app.services.crew_service - DEBUG - Created question 5 in chapter 44
2025-05-08 21:47:26,378 - app.services.crew_service - INFO - Successfully inserted chapter with ID: 45
2025-05-08 21:47:26,563 - app.services.crew_service - DEBUG - Created question 1 in chapter 45
2025-05-08 21:47:26,610 - app.services.crew_service - DEBUG - Created question 2 in chapter 45
2025-05-08 21:47:26,655 - app.services.crew_service - DEBUG - Created question 3 in chapter 45
2025-05-08 21:47:26,699 - app.services.crew_service - DEBUG - Created question 4 in chapter 45
2025-05-08 21:47:26,743 - app.services.crew_service - DEBUG - Created question 5 in chapter 45
2025-05-08 21:47:26,743 - app.routes.agents - INFO - CrewAI quiz generation result: success
2025-05-08 22:11:21,492 - app.routes.agents - INFO - Starting registration process for user banking@example.com
2025-05-08 22:11:21,506 - app.routes.agents - INFO - Using CrewAI for registration process
2025-05-08 22:11:21,506 - app.services.crew_service - INFO - Creating registration crew for user: banking@example.com
2025-05-08 22:11:21,577 - app.services.crew_service - INFO - Starting registration crew workflow
2025-05-08 22:11:21,630 - LiteLLM - INFO - 
LiteLLM completion() model= gpt-4.1-mini; provider = openai
2025-05-08 22:11:23,756 - LiteLLM - INFO - Wrapper: Completed Call, calling success_handler
2025-05-08 22:11:23,794 - LiteLLM - INFO - 
LiteLLM completion() model= gpt-4.1-mini; provider = openai
2025-05-08 22:11:28,823 - LiteLLM - INFO - Wrapper: Completed Call, calling success_handler
2025-05-08 22:11:28,861 - LiteLLM - INFO - 
LiteLLM completion() model= gpt-4.1-mini; provider = openai
2025-05-08 22:11:34,672 - LiteLLM - INFO - Wrapper: Completed Call, calling success_handler
2025-05-08 22:11:34,702 - app.services.crew_service - INFO - Crew result: ```json
{
  "topic_priorities": [
    {
      "topic_id": 11,
      "topic_name": "Financial cybersecurity threats and risk management",
      "relevance_score": 9.8
    },
    {
      "topic_id": 21,
      "topic_name": "Regulatory compliance in banking and finance (e.g., PCI DSS, SOX, GDPR)",
      "relevance_score": 9.5
    },
    {
      "topic_id": 15,
      "topic_name": "Incident response and disaster recovery specific to banking",
      "relevance_score": 9.2
    },
    {
      "topic_id": 18,
      "topic_name": "Identity and access management (IAM) in finance",
      "relevance_score": 8.9
    },
    {
      "topic_id": 23,
      "topic_name": "Emerging technologies and cybersecurity implications in banking (e.g., blockchain, fintech security)",
      "relevance_score": 8.5
    }
  ],
  "sector_threats": {
    "Financial Sector": [
      "Advanced Persistent Threats (APTs) targeting banking infrastructure",
      "Phishing and social engineering attacks aimed at financial employees and customers",
      "Ransomware attacks on core banking systems and payment processing",
      "Insider threats involving unauthorized access or fraud",
      "Credential stuffing and identity theft due to weak or compromised authentication",
      "Exploitation of vulnerabilities in fintech and blockchain applications",
      "Regulatory non-compliance penalties impacting operational continuity",
      "Denial of Service (DoS) and Distributed Denial of Service (DDoS) attacks disrupting online banking services"
    ]
  },
  "focus_areas": [
    "Advanced detection and mitigation of financial cyber threats",
    "Regulatory compliance frameworks and audit preparation",
    "Incident response and recovery strategies for banking systems",
    "Cryptography and secure transaction processing in finance",
    "Cloud security and secure architecture design for financial institutions"
  ],
  "recommended_topic_id": 11
}
```
2025-05-08 22:11:34,702 - app.services.crew_service - INFO - Registration crew completed successfully
2025-05-08 22:11:34,706 - app.services.crew_service - INFO - Parsing registration crew result
2025-05-08 22:11:34,706 - app.services.crew_service - INFO - Successfully extracted JSON from result: dict_keys(['topic_priorities', 'sector_threats', 'focus_areas', 'recommended_topic_id'])
2025-05-08 22:11:34,707 - app.routes.agents - INFO - CrewAI registration result: success
2025-05-08 22:11:34,772 - app.routes.agents - INFO - Using CrewAI to generate quiz for topic: Cybersecurity Fundamentals
2025-05-08 22:11:34,772 - app.services.crew_service - INFO - Creating quiz generation crew for topic: Cybersecurity Fundamentals
2025-05-08 22:11:34,772 - app.services.crew_service - WARNING - No user_id provided in quiz_data, attempting to find a valid user
2025-05-08 22:11:34,828 - app.services.crew_service - INFO - Found valid user_id: 1
2025-05-08 22:11:34,841 - app.services.crew_service - INFO - Starting quiz generation crew workflow
2025-05-08 22:11:34,860 - LiteLLM - INFO - 
LiteLLM completion() model= gpt-4.1-mini; provider = openai
2025-05-08 22:11:45,098 - opentelemetry.sdk.trace.export - ERROR - Exception while exporting Span batch.
Traceback (most recent call last):
  File "C:\Users\Gameapp\AppData\Local\Programs\Python\Python312\Lib\site-packages\urllib3\connectionpool.py", line 787, in urlopen
    response = self._make_request(
               ^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Gameapp\AppData\Local\Programs\Python\Python312\Lib\site-packages\urllib3\connectionpool.py", line 534, in _make_request
    response = conn.getresponse()
               ^^^^^^^^^^^^^^^^^^
  File "C:\Users\Gameapp\AppData\Local\Programs\Python\Python312\Lib\site-packages\urllib3\connection.py", line 516, in getresponse
    httplib_response = super().getresponse()
                       ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Gameapp\AppData\Local\Programs\Python\Python312\Lib\http\client.py", line 1428, in getresponse
    response.begin()
  File "C:\Users\Gameapp\AppData\Local\Programs\Python\Python312\Lib\http\client.py", line 331, in begin
    version, status, reason = self._read_status()
                              ^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Gameapp\AppData\Local\Programs\Python\Python312\Lib\http\client.py", line 300, in _read_status
    raise RemoteDisconnected("Remote end closed connection without"
http.client.RemoteDisconnected: Remote end closed connection without response

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\Gameapp\AppData\Local\Programs\Python\Python312\Lib\site-packages\requests\adapters.py", line 667, in send
    resp = conn.urlopen(
           ^^^^^^^^^^^^^
  File "C:\Users\Gameapp\AppData\Local\Programs\Python\Python312\Lib\site-packages\urllib3\connectionpool.py", line 841, in urlopen
    retries = retries.increment(
              ^^^^^^^^^^^^^^^^^^
  File "C:\Users\Gameapp\AppData\Local\Programs\Python\Python312\Lib\site-packages\urllib3\util\retry.py", line 474, in increment
    raise reraise(type(error), error, _stacktrace)
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Gameapp\AppData\Local\Programs\Python\Python312\Lib\site-packages\urllib3\util\util.py", line 38, in reraise
    raise value.with_traceback(tb)
  File "C:\Users\Gameapp\AppData\Local\Programs\Python\Python312\Lib\site-packages\urllib3\connectionpool.py", line 787, in urlopen
    response = self._make_request(
               ^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Gameapp\AppData\Local\Programs\Python\Python312\Lib\site-packages\urllib3\connectionpool.py", line 534, in _make_request
    response = conn.getresponse()
               ^^^^^^^^^^^^^^^^^^
  File "C:\Users\Gameapp\AppData\Local\Programs\Python\Python312\Lib\site-packages\urllib3\connection.py", line 516, in getresponse
    httplib_response = super().getresponse()
                       ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Gameapp\AppData\Local\Programs\Python\Python312\Lib\http\client.py", line 1428, in getresponse
    response.begin()
  File "C:\Users\Gameapp\AppData\Local\Programs\Python\Python312\Lib\http\client.py", line 331, in begin
    version, status, reason = self._read_status()
                              ^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Gameapp\AppData\Local\Programs\Python\Python312\Lib\http\client.py", line 300, in _read_status
    raise RemoteDisconnected("Remote end closed connection without"
urllib3.exceptions.ProtocolError: ('Connection aborted.', RemoteDisconnected('Remote end closed connection without response'))

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\Gameapp\AppData\Local\Programs\Python\Python312\Lib\site-packages\opentelemetry\sdk\trace\export\__init__.py", line 360, in _export_batch
    self.span_exporter.export(self.spans_list[:idx])  # type: ignore
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Gameapp\AppData\Local\Programs\Python\Python312\Lib\site-packages\opentelemetry\exporter\otlp\proto\http\trace_exporter\__init__.py", line 189, in export
    return self._export_serialized_spans(serialized_data)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Gameapp\AppData\Local\Programs\Python\Python312\Lib\site-packages\opentelemetry\exporter\otlp\proto\http\trace_exporter\__init__.py", line 159, in _export_serialized_spans
    resp = self._export(serialized_data)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Gameapp\AppData\Local\Programs\Python\Python312\Lib\site-packages\opentelemetry\exporter\otlp\proto\http\trace_exporter\__init__.py", line 133, in _export
    return self._session.post(
           ^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Gameapp\AppData\Local\Programs\Python\Python312\Lib\site-packages\requests\sessions.py", line 637, in post
    return self.request("POST", url, data=data, json=json, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Gameapp\AppData\Local\Programs\Python\Python312\Lib\site-packages\requests\sessions.py", line 589, in request
    resp = self.send(prep, **send_kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Gameapp\AppData\Local\Programs\Python\Python312\Lib\site-packages\requests\sessions.py", line 703, in send
    r = adapter.send(request, **kwargs)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Gameapp\AppData\Local\Programs\Python\Python312\Lib\site-packages\requests\adapters.py", line 682, in send
    raise ConnectionError(err, request=request)
requests.exceptions.ConnectionError: ('Connection aborted.', RemoteDisconnected('Remote end closed connection without response'))
2025-05-08 22:12:01,171 - LiteLLM - INFO - Wrapper: Completed Call, calling success_handler
2025-05-08 22:12:01,199 - LiteLLM - INFO - 
LiteLLM completion() model= gpt-4.1-mini; provider = openai
2025-05-08 22:12:31,064 - LiteLLM - INFO - Wrapper: Completed Call, calling success_handler
2025-05-08 22:12:31,107 - LiteLLM - INFO - 
LiteLLM completion() model= gpt-4.1-mini; provider = openai
2025-05-08 22:13:13,315 - LiteLLM - INFO - Wrapper: Completed Call, calling success_handler
2025-05-08 22:13:13,341 - app.services.crew_service - INFO - Quiz generation crew completed successfully with result: {
  "quiz_title": "Cybersecurity Fundamentals - Advanced Financial Sector Focus",
  "chapter_count":...
2025-05-08 22:13:13,341 - app.services.crew_service - INFO - Quiz generation crew completed successfully
2025-05-08 22:13:13,342 - app.services.crew_service - INFO - Parsing quiz generation crew result
2025-05-08 22:13:13,342 - app.services.crew_service - DEBUG - Result text first 200 chars: {
  "quiz_title": "Cybersecurity Fundamentals - Advanced Financial Sector Focus",
  "chapter_count": 4,
  "question_count": 20,
  "complete_quiz": {
    "title": "Cybersecurity Fundamentals - Advanced
2025-05-08 22:13:13,342 - app.services.crew_service - DEBUG - Result text length: 14720
2025-05-08 22:13:13,342 - app.services.crew_service - INFO - Successfully parsed result as direct JSON
2025-05-08 22:13:13,342 - app.services.crew_service - INFO - Found complete quiz in result
2025-05-08 22:13:13,405 - app.services.crew_service - INFO - Successfully inserted quiz with ID: 29
2025-05-08 22:13:13,450 - app.services.crew_service - INFO - Successfully inserted chapter with ID: 46
2025-05-08 22:13:13,494 - app.services.crew_service - DEBUG - Created question 1 in chapter 46
2025-05-08 22:13:13,537 - app.services.crew_service - DEBUG - Created question 2 in chapter 46
2025-05-08 22:13:13,582 - app.services.crew_service - DEBUG - Created question 3 in chapter 46
2025-05-08 22:13:13,626 - app.services.crew_service - DEBUG - Created question 4 in chapter 46
2025-05-08 22:13:13,670 - app.services.crew_service - DEBUG - Created question 5 in chapter 46
2025-05-08 22:13:13,839 - app.services.crew_service - INFO - Successfully inserted chapter with ID: 47
2025-05-08 22:13:14,015 - app.services.crew_service - DEBUG - Created question 1 in chapter 47
2025-05-08 22:13:14,063 - app.services.crew_service - DEBUG - Created question 2 in chapter 47
2025-05-08 22:13:14,217 - app.services.crew_service - DEBUG - Created question 3 in chapter 47
2025-05-08 22:13:14,369 - app.services.crew_service - DEBUG - Created question 4 in chapter 47
2025-05-08 22:13:14,414 - app.services.crew_service - DEBUG - Created question 5 in chapter 47
2025-05-08 22:13:14,589 - app.services.crew_service - INFO - Successfully inserted chapter with ID: 48
2025-05-08 22:13:14,634 - app.services.crew_service - DEBUG - Created question 1 in chapter 48
2025-05-08 22:13:14,678 - app.services.crew_service - DEBUG - Created question 2 in chapter 48
2025-05-08 22:13:14,844 - app.services.crew_service - DEBUG - Created question 3 in chapter 48
2025-05-08 22:13:14,889 - app.services.crew_service - DEBUG - Created question 4 in chapter 48
2025-05-08 22:13:14,934 - app.services.crew_service - DEBUG - Created question 5 in chapter 48
2025-05-08 22:13:14,976 - app.services.crew_service - INFO - Successfully inserted chapter with ID: 49
2025-05-08 22:13:15,155 - app.services.crew_service - DEBUG - Created question 1 in chapter 49
2025-05-08 22:13:15,330 - app.services.crew_service - DEBUG - Created question 2 in chapter 49
2025-05-08 22:13:15,518 - app.services.crew_service - DEBUG - Created question 3 in chapter 49
2025-05-08 22:13:15,567 - app.services.crew_service - DEBUG - Created question 4 in chapter 49
2025-05-08 22:13:15,614 - app.services.crew_service - DEBUG - Created question 5 in chapter 49
2025-05-08 22:13:15,614 - app.routes.agents - INFO - CrewAI quiz generation result: success
2025-05-08 22:19:28,969 - app.routes.agents - INFO - Starting registration process for user banking@example.com
2025-05-08 22:19:28,970 - app.routes.agents - INFO - Using CrewAI for registration process
2025-05-08 22:19:28,970 - app.services.crew_service - INFO - Creating registration crew for user: banking@example.com
2025-05-08 22:19:28,977 - app.services.crew_service - INFO - Starting registration crew workflow
2025-05-08 22:19:28,994 - LiteLLM - INFO - 
LiteLLM completion() model= gpt-4.1-mini; provider = openai
2025-05-08 22:19:30,392 - LiteLLM - INFO - Wrapper: Completed Call, calling success_handler
2025-05-08 22:19:30,413 - LiteLLM - INFO - 
LiteLLM completion() model= gpt-4.1-mini; provider = openai
2025-05-08 22:19:33,907 - LiteLLM - INFO - Wrapper: Completed Call, calling success_handler
2025-05-08 22:19:33,932 - LiteLLM - INFO - 
LiteLLM completion() model= gpt-4.1-mini; provider = openai
2025-05-08 22:19:40,606 - LiteLLM - INFO - Wrapper: Completed Call, calling success_handler
2025-05-08 22:19:40,622 - app.services.crew_service - INFO - Crew result: {
  "topic_priorities": [
    {
      "topic_id": 4,
      "topic_name": "Threat detection and prevention in banking sector",
      "relevance_score": 9.8
    },
    {
      "topic_id": 7,
      "topic_name": "Emerging cyber threats targeting financial services",
      "relevance_score": 9.5
    },
    {
      "topic_id": 1,
      "topic_name": "Financial cybersecurity regulations and compliance",
      "relevance_score": 9.3
    },
    {
      "topic_id": 5,
      "topic_name": "Fraud detection and mitigation techniques",
      "relevance_score": 9.2
    },
    {
      "topic_id": 12,
      "topic_name": "Incident response and recovery in financial environments",
      "relevance_score": 9.0
    }
  ],
  "sector_threats": {
    "Financial Services": [
      "Advanced Persistent Threats (APTs) targeting banking infrastructure",
      "Phishing and social engineering attacks designed to compromise employee credentials",
      "Ransomware attacks disrupting financial operations",
      "Insider threats leading to data breaches",
      "Man-in-the-middle attacks on secure transaction protocols",
      "Fraudulent transaction schemes exploiting system vulnerabilities",
      "Regulatory compliance violations leading to penalties",
      "Cloud security risks due to misconfiguration or insecure APIs"
    ]
  },
  "focus_areas": [
    "Advanced threat detection techniques specific to banking systems",
    "Mitigating emerging financial cybercrime trends",
    "Implementation of regulatory frameworks like GDPR, PCI DSS, SOX in banking",
    "Zero Trust security architecture adoption in financial institutions",
    "Enhancing incident response planning for financial sector cyber threats"
  ],
  "recommended_topic_id": 4
}
2025-05-08 22:19:40,626 - app.services.crew_service - INFO - Registration crew completed successfully
2025-05-08 22:19:40,626 - app.services.crew_service - INFO - Parsing registration crew result
2025-05-08 22:19:40,627 - app.services.crew_service - INFO - Found JSON in text: dict_keys(['topic_priorities', 'sector_threats', 'focus_areas', 'recommended_topic_id'])
2025-05-08 22:19:40,627 - app.routes.agents - INFO - CrewAI registration result: success
2025-05-08 22:19:40,681 - app.routes.agents - INFO - Using CrewAI to generate quiz for topic: Cybersecurity Fundamentals
2025-05-08 22:19:40,681 - app.services.crew_service - INFO - Creating quiz generation crew for topic: Cybersecurity Fundamentals
2025-05-08 22:19:40,681 - app.services.crew_service - WARNING - No user_id provided in quiz_data, attempting to find a valid user
2025-05-08 22:19:40,723 - app.services.crew_service - INFO - Found valid user_id: 1
2025-05-08 22:19:40,734 - app.services.crew_service - INFO - Starting quiz generation crew workflow
2025-05-08 22:19:40,751 - LiteLLM - INFO - 
LiteLLM completion() model= gpt-4.1-mini; provider = openai
2025-05-08 22:20:00,540 - LiteLLM - INFO - Wrapper: Completed Call, calling success_handler
2025-05-08 22:20:00,566 - LiteLLM - INFO - 
LiteLLM completion() model= gpt-4.1-mini; provider = openai
2025-05-08 22:20:33,595 - LiteLLM - INFO - Wrapper: Completed Call, calling success_handler
2025-05-08 22:20:33,618 - LiteLLM - INFO - 
LiteLLM completion() model= gpt-4.1-mini; provider = openai
2025-05-08 22:21:08,985 - LiteLLM - INFO - Wrapper: Completed Call, calling success_handler
2025-05-08 22:21:09,015 - app.services.crew_service - INFO - Quiz generation crew completed successfully with result: {
  "quiz_title": "Cybersecurity Fundamentals for Financial Sector Professionals",
  "chapter_count"...
2025-05-08 22:21:09,016 - app.services.crew_service - INFO - Quiz generation crew completed successfully
2025-05-08 22:21:09,017 - app.services.crew_service - INFO - Parsing quiz generation crew result
2025-05-08 22:21:09,017 - app.services.crew_service - DEBUG - Result text first 200 chars: {
  "quiz_title": "Cybersecurity Fundamentals for Financial Sector Professionals",
  "chapter_count": 4,
  "question_count": 20,
  "complete_quiz": {
    "title": "Cybersecurity Fundamentals for Finan
2025-05-08 22:21:09,017 - app.services.crew_service - DEBUG - Result text length: 14738
2025-05-08 22:21:09,017 - app.services.crew_service - INFO - Successfully parsed result as direct JSON
2025-05-08 22:21:09,018 - app.services.crew_service - INFO - Found complete quiz in result
2025-05-08 22:21:09,078 - app.services.crew_service - INFO - Successfully inserted quiz with ID: 30
2025-05-08 22:21:09,125 - app.services.crew_service - INFO - Successfully inserted chapter with ID: 50
2025-05-08 22:21:09,171 - app.services.crew_service - DEBUG - Created question 1 in chapter 50
2025-05-08 22:21:09,216 - app.services.crew_service - DEBUG - Created question 2 in chapter 50
2025-05-08 22:21:09,260 - app.services.crew_service - DEBUG - Created question 3 in chapter 50
2025-05-08 22:21:09,305 - app.services.crew_service - DEBUG - Created question 4 in chapter 50
2025-05-08 22:21:09,349 - app.services.crew_service - DEBUG - Created question 5 in chapter 50
2025-05-08 22:21:09,393 - app.services.crew_service - INFO - Successfully inserted chapter with ID: 51
2025-05-08 22:21:09,437 - app.services.crew_service - DEBUG - Created question 1 in chapter 51
2025-05-08 22:21:09,481 - app.services.crew_service - DEBUG - Created question 2 in chapter 51
2025-05-08 22:21:09,664 - app.services.crew_service - DEBUG - Created question 3 in chapter 51
2025-05-08 22:21:09,816 - app.services.crew_service - DEBUG - Created question 4 in chapter 51
2025-05-08 22:21:09,994 - app.services.crew_service - DEBUG - Created question 5 in chapter 51
2025-05-08 22:21:10,049 - app.services.crew_service - INFO - Successfully inserted chapter with ID: 52
2025-05-08 22:21:10,096 - app.services.crew_service - DEBUG - Created question 1 in chapter 52
2025-05-08 22:21:10,139 - app.services.crew_service - DEBUG - Created question 2 in chapter 52
2025-05-08 22:21:10,313 - app.services.crew_service - DEBUG - Created question 3 in chapter 52
2025-05-08 22:21:10,359 - app.services.crew_service - DEBUG - Created question 4 in chapter 52
2025-05-08 22:21:10,405 - app.services.crew_service - DEBUG - Created question 5 in chapter 52
2025-05-08 22:21:10,449 - app.services.crew_service - INFO - Successfully inserted chapter with ID: 53
2025-05-08 22:21:10,636 - app.services.crew_service - DEBUG - Created question 1 in chapter 53
2025-05-08 22:21:10,681 - app.services.crew_service - DEBUG - Created question 2 in chapter 53
2025-05-08 22:21:10,726 - app.services.crew_service - DEBUG - Created question 3 in chapter 53
2025-05-08 22:21:10,769 - app.services.crew_service - DEBUG - Created question 4 in chapter 53
2025-05-08 22:21:10,813 - app.services.crew_service - DEBUG - Created question 5 in chapter 53
2025-05-08 22:21:10,813 - app.routes.agents - INFO - CrewAI quiz generation result: success
2025-05-09 06:40:18,512 - app.routes.agents - INFO - Starting registration process for user healthcare@example.com
2025-05-09 06:40:18,523 - app.routes.agents - INFO - Using CrewAI for registration process
2025-05-09 06:40:18,524 - app.services.crew_service - INFO - Creating registration crew for user: healthcare@example.com
2025-05-09 06:40:18,611 - app.services.crew_service - INFO - Starting registration crew workflow
2025-05-09 06:40:19,061 - LiteLLM - INFO - 
LiteLLM completion() model= gpt-4.1-mini; provider = openai
2025-05-09 06:40:22,367 - LiteLLM - INFO - Wrapper: Completed Call, calling success_handler
2025-05-09 06:40:22,417 - LiteLLM - INFO - 
LiteLLM completion() model= gpt-4.1-mini; provider = openai
2025-05-09 06:40:27,851 - LiteLLM - INFO - Wrapper: Completed Call, calling success_handler
2025-05-09 06:40:27,884 - LiteLLM - INFO - 
LiteLLM completion() model= gpt-4.1-mini; provider = openai
2025-05-09 06:40:35,432 - LiteLLM - INFO - Wrapper: Completed Call, calling success_handler
2025-05-09 06:40:35,569 - app.services.crew_service - INFO - Crew result: {
  "topic_priorities": [
    {
      "topic_id": 2,
      "topic_name": "Healthcare Information Security",
      "relevance_score": 9.8
    },
    {
      "topic_id": 5,
      "topic_name": "Patient Data Privacy and Compliance (HIPAA, GDPR)",
      "relevance_score": 9.5
    },
    {
      "topic_id": 7,
      "topic_name": "Medical Device Security",
      "relevance_score": 9.0
    },
    {
      "topic_id": 10,
      "topic_name": "Healthcare IT Risk Management",
      "relevance_score": 8.7
    },
    {
      "topic_id": 12,
      "topic_name": "Incident Response in Healthcare Settings",
      "relevance_score": 8.5
    }
  ],
  "sector_threats": {
    "Healthcare Sector": [
      "Ransomware attacks targeting hospital systems and patient records",
      "Phishing campaigns aimed at healthcare staff to gain access to protected health information (PHI)",
      "Exploitation of vulnerabilities in medical devices and IoT healthcare equipment",
      "Insider threats related to unauthorized access or data leakage of patient data",
      "Supply chain attacks impacting healthcare software and hardware",
      "Non-compliance with HIPAA and GDPR leading to regulatory penalties",
      "Advanced persistent threats (APT) focusing on healthcare research and patient data",
      "Cloud misconfigurations exposing sensitive healthcare data"
    ]
  },
  "focus_areas": [
    "Advanced patient data protection techniques including encryption and access control",
    "Emerging healthcare cybersecurity threats such as ransomware and APTs",
    "Implementation of zero-trust security models specific to healthcare environments",
    "Use of AI and machine learning for early threat detection in healthcare IT systems",
    "Continuous compliance monitoring with HIPAA/GDPR and audit readiness"
  ],
  "recommended_topic_id": 2
}
2025-05-09 06:40:35,569 - app.services.crew_service - INFO - Registration crew completed successfully
2025-05-09 06:40:35,569 - app.services.crew_service - INFO - Parsing registration crew result
2025-05-09 06:40:35,569 - app.services.crew_service - INFO - Found JSON in text: dict_keys(['topic_priorities', 'sector_threats', 'focus_areas', 'recommended_topic_id'])
2025-05-09 06:40:35,576 - app.routes.agents - INFO - CrewAI registration result: success
2025-05-09 06:40:35,659 - app.routes.agents - INFO - Using CrewAI to generate quiz for topic: Cybersecurity Fundamentals
2025-05-09 06:40:35,659 - app.services.crew_service - INFO - Creating quiz generation crew for topic: Cybersecurity Fundamentals
2025-05-09 06:40:35,659 - app.services.crew_service - WARNING - No user_id provided in quiz_data, attempting to find a valid user
2025-05-09 06:40:35,702 - app.services.crew_service - INFO - Found valid user_id: 1
2025-05-09 06:40:35,719 - app.services.crew_service - INFO - Starting quiz generation crew workflow
2025-05-09 06:40:35,773 - LiteLLM - INFO - 
LiteLLM completion() model= gpt-4.1-mini; provider = openai
2025-05-09 06:40:41,027 - opentelemetry.sdk.trace.export - ERROR - Exception while exporting Span batch.
Traceback (most recent call last):
  File "C:\Users\Gameapp\AppData\Local\Programs\Python\Python312\Lib\site-packages\urllib3\connectionpool.py", line 787, in urlopen
    response = self._make_request(
               ^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Gameapp\AppData\Local\Programs\Python\Python312\Lib\site-packages\urllib3\connectionpool.py", line 534, in _make_request
    response = conn.getresponse()
               ^^^^^^^^^^^^^^^^^^
  File "C:\Users\Gameapp\AppData\Local\Programs\Python\Python312\Lib\site-packages\urllib3\connection.py", line 516, in getresponse
    httplib_response = super().getresponse()
                       ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Gameapp\AppData\Local\Programs\Python\Python312\Lib\http\client.py", line 1428, in getresponse
    response.begin()
  File "C:\Users\Gameapp\AppData\Local\Programs\Python\Python312\Lib\http\client.py", line 331, in begin
    version, status, reason = self._read_status()
                              ^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Gameapp\AppData\Local\Programs\Python\Python312\Lib\http\client.py", line 300, in _read_status
    raise RemoteDisconnected("Remote end closed connection without"
http.client.RemoteDisconnected: Remote end closed connection without response

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\Gameapp\AppData\Local\Programs\Python\Python312\Lib\site-packages\requests\adapters.py", line 667, in send
    resp = conn.urlopen(
           ^^^^^^^^^^^^^
  File "C:\Users\Gameapp\AppData\Local\Programs\Python\Python312\Lib\site-packages\urllib3\connectionpool.py", line 841, in urlopen
    retries = retries.increment(
              ^^^^^^^^^^^^^^^^^^
  File "C:\Users\Gameapp\AppData\Local\Programs\Python\Python312\Lib\site-packages\urllib3\util\retry.py", line 474, in increment
    raise reraise(type(error), error, _stacktrace)
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Gameapp\AppData\Local\Programs\Python\Python312\Lib\site-packages\urllib3\util\util.py", line 38, in reraise
    raise value.with_traceback(tb)
  File "C:\Users\Gameapp\AppData\Local\Programs\Python\Python312\Lib\site-packages\urllib3\connectionpool.py", line 787, in urlopen
    response = self._make_request(
               ^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Gameapp\AppData\Local\Programs\Python\Python312\Lib\site-packages\urllib3\connectionpool.py", line 534, in _make_request
    response = conn.getresponse()
               ^^^^^^^^^^^^^^^^^^
  File "C:\Users\Gameapp\AppData\Local\Programs\Python\Python312\Lib\site-packages\urllib3\connection.py", line 516, in getresponse
    httplib_response = super().getresponse()
                       ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Gameapp\AppData\Local\Programs\Python\Python312\Lib\http\client.py", line 1428, in getresponse
    response.begin()
  File "C:\Users\Gameapp\AppData\Local\Programs\Python\Python312\Lib\http\client.py", line 331, in begin
    version, status, reason = self._read_status()
                              ^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Gameapp\AppData\Local\Programs\Python\Python312\Lib\http\client.py", line 300, in _read_status
    raise RemoteDisconnected("Remote end closed connection without"
urllib3.exceptions.ProtocolError: ('Connection aborted.', RemoteDisconnected('Remote end closed connection without response'))

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\Gameapp\AppData\Local\Programs\Python\Python312\Lib\site-packages\opentelemetry\sdk\trace\export\__init__.py", line 360, in _export_batch
    self.span_exporter.export(self.spans_list[:idx])  # type: ignore
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Gameapp\AppData\Local\Programs\Python\Python312\Lib\site-packages\opentelemetry\exporter\otlp\proto\http\trace_exporter\__init__.py", line 189, in export
    return self._export_serialized_spans(serialized_data)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Gameapp\AppData\Local\Programs\Python\Python312\Lib\site-packages\opentelemetry\exporter\otlp\proto\http\trace_exporter\__init__.py", line 159, in _export_serialized_spans
    resp = self._export(serialized_data)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Gameapp\AppData\Local\Programs\Python\Python312\Lib\site-packages\opentelemetry\exporter\otlp\proto\http\trace_exporter\__init__.py", line 133, in _export
    return self._session.post(
           ^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Gameapp\AppData\Local\Programs\Python\Python312\Lib\site-packages\requests\sessions.py", line 637, in post
    return self.request("POST", url, data=data, json=json, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Gameapp\AppData\Local\Programs\Python\Python312\Lib\site-packages\requests\sessions.py", line 589, in request
    resp = self.send(prep, **send_kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Gameapp\AppData\Local\Programs\Python\Python312\Lib\site-packages\requests\sessions.py", line 703, in send
    r = adapter.send(request, **kwargs)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Gameapp\AppData\Local\Programs\Python\Python312\Lib\site-packages\requests\adapters.py", line 682, in send
    raise ConnectionError(err, request=request)
requests.exceptions.ConnectionError: ('Connection aborted.', RemoteDisconnected('Remote end closed connection without response'))
2025-05-09 06:41:16,686 - LiteLLM - INFO - Wrapper: Completed Call, calling success_handler
2025-05-09 06:41:16,712 - LiteLLM - INFO - 
LiteLLM completion() model= gpt-4.1-mini; provider = openai
2025-05-09 06:42:14,754 - LiteLLM - INFO - Wrapper: Completed Call, calling success_handler
2025-05-09 06:42:14,795 - LiteLLM - INFO - 
LiteLLM completion() model= gpt-4.1-mini; provider = openai
2025-05-09 06:43:10,825 - LiteLLM - INFO - Wrapper: Completed Call, calling success_handler
2025-05-09 06:43:10,907 - app.services.crew_service - INFO - Quiz generation crew completed successfully with result: {
  "quiz_title": "Cybersecurity Fundamentals: Advanced Patient Data Protection and Healthcare IT Se...
2025-05-09 06:43:10,907 - app.services.crew_service - INFO - Quiz generation crew completed successfully
2025-05-09 06:43:10,908 - app.services.crew_service - INFO - Parsing quiz generation crew result
2025-05-09 06:43:10,908 - app.services.crew_service - DEBUG - Result text first 200 chars: {
  "quiz_title": "Cybersecurity Fundamentals: Advanced Patient Data Protection and Healthcare IT Security",
  "chapter_count": 4,
  "question_count": 20,
  "complete_quiz": {
    "title": "Cybersecur
2025-05-09 06:43:10,909 - app.services.crew_service - DEBUG - Result text length: 15567
2025-05-09 06:43:10,909 - app.services.crew_service - INFO - Successfully parsed result as direct JSON
2025-05-09 06:43:10,909 - app.services.crew_service - INFO - Found complete quiz in result
2025-05-09 06:43:10,994 - app.services.crew_service - INFO - Successfully inserted quiz with ID: 31
2025-05-09 06:43:11,047 - app.services.crew_service - INFO - Successfully inserted chapter with ID: 54
2025-05-09 06:43:11,103 - app.services.crew_service - DEBUG - Created question 1 in chapter 54
2025-05-09 06:43:11,160 - app.services.crew_service - DEBUG - Created question 2 in chapter 54
2025-05-09 06:43:11,206 - app.services.crew_service - DEBUG - Created question 3 in chapter 54
2025-05-09 06:43:11,252 - app.services.crew_service - DEBUG - Created question 4 in chapter 54
2025-05-09 06:43:11,295 - app.services.crew_service - DEBUG - Created question 5 in chapter 54
2025-05-09 06:43:11,340 - app.services.crew_service - INFO - Successfully inserted chapter with ID: 55
2025-05-09 06:43:11,386 - app.services.crew_service - DEBUG - Created question 1 in chapter 55
2025-05-09 06:43:11,431 - app.services.crew_service - DEBUG - Created question 2 in chapter 55
2025-05-09 06:43:11,475 - app.services.crew_service - DEBUG - Created question 3 in chapter 55
2025-05-09 06:43:11,520 - app.services.crew_service - DEBUG - Created question 4 in chapter 55
2025-05-09 06:43:11,686 - app.services.crew_service - DEBUG - Created question 5 in chapter 55
2025-05-09 06:43:11,737 - app.services.crew_service - INFO - Successfully inserted chapter with ID: 56
2025-05-09 06:43:11,893 - app.services.crew_service - DEBUG - Created question 1 in chapter 56
2025-05-09 06:43:11,937 - app.services.crew_service - DEBUG - Created question 2 in chapter 56
2025-05-09 06:43:11,980 - app.services.crew_service - DEBUG - Created question 3 in chapter 56
2025-05-09 06:43:12,025 - app.services.crew_service - DEBUG - Created question 4 in chapter 56
2025-05-09 06:43:12,069 - app.services.crew_service - DEBUG - Created question 5 in chapter 56
2025-05-09 06:43:12,257 - app.services.crew_service - INFO - Successfully inserted chapter with ID: 57
2025-05-09 06:43:12,411 - app.services.crew_service - DEBUG - Created question 1 in chapter 57
2025-05-09 06:43:12,459 - app.services.crew_service - DEBUG - Created question 2 in chapter 57
2025-05-09 06:43:12,653 - app.services.crew_service - DEBUG - Created question 3 in chapter 57
2025-05-09 06:43:12,811 - app.services.crew_service - DEBUG - Created question 4 in chapter 57
2025-05-09 06:43:12,968 - app.services.crew_service - DEBUG - Created question 5 in chapter 57
2025-05-09 06:43:12,968 - app.routes.agents - INFO - CrewAI quiz generation result: success
2025-05-09 07:14:48,029 - app.routes.agents - INFO - Starting registration process for user healthcare@example.com
2025-05-09 07:14:48,032 - app.routes.agents - INFO - Using CrewAI for registration process
2025-05-09 07:14:48,032 - app.services.crew_service - INFO - Creating registration crew for user: healthcare@example.com
2025-05-09 07:14:48,111 - app.services.crew_service - INFO - Starting registration crew workflow
2025-05-09 07:14:48,143 - LiteLLM - INFO - 
LiteLLM completion() model= gpt-4.1-mini; provider = openai
2025-05-09 07:14:50,248 - LiteLLM - INFO - Wrapper: Completed Call, calling success_handler
2025-05-09 07:14:50,277 - LiteLLM - INFO - 
LiteLLM completion() model= gpt-4.1-mini; provider = openai
2025-05-09 07:14:55,775 - LiteLLM - INFO - Wrapper: Completed Call, calling success_handler
2025-05-09 07:14:55,803 - LiteLLM - INFO - 
LiteLLM completion() model= gpt-4.1-mini; provider = openai
2025-05-09 07:15:03,147 - LiteLLM - INFO - Wrapper: Completed Call, calling success_handler
2025-05-09 07:15:03,178 - app.services.crew_service - INFO - Crew result: {
  "topic_priorities": [
    {
      "topic_id": 3,
      "topic_name": "Healthcare Cybersecurity",
      "relevance_score": 9.8
    },
    {
      "topic_id": 7,
      "topic_name": "Data Protection and Privacy",
      "relevance_score": 9.5
    },
    {
      "topic_id": 12,
      "topic_name": "Medical Device Security",
      "relevance_score": 9.2
    },
    {
      "topic_id": 15,
      "topic_name": "Incident Response and Risk Management",
      "relevance_score": 9.0
    },
    {
      "topic_id": 20,
      "topic_name": "Compliance and Regulatory Frameworks (HIPAA, HITECH)",
      "relevance_score": 8.8
    }
  ],
  "sector_threats": {
    "Healthcare": [
      "Ransomware attacks targeting hospital systems and patient data",
      "Phishing campaigns aimed at healthcare staff to gain access to sensitive information",
      "Exploitation of vulnerabilities in medical devices and IoT healthcare equipment",
      "Insider threats due to privileged access misuse",
      "Data breaches involving electronic health records (EHR/EMR)",
      "Supply chain attacks affecting healthcare software and devices",
      "Advanced persistent threats (APTs) targeting healthcare research and patient information"
    ]
  },
  "focus_areas": [
    "Advanced patient data protection strategies and privacy enhancement techniques",
    "Emerging healthcare cybersecurity threats and mitigation strategies",
    "Integration and implementation of Zero Trust Architecture in healthcare environments",
    "Compliance updates and auditing best practices relevant to HIPAA and HITECH",
    "Use of AI and machine learning for threat detection and incident response in healthcare"
  ],
  "recommended_topic_id": 3
}
2025-05-09 07:15:03,181 - app.services.crew_service - INFO - Registration crew completed successfully
2025-05-09 07:15:03,182 - app.services.crew_service - INFO - Parsing registration crew result
2025-05-09 07:15:03,183 - app.services.crew_service - INFO - Found JSON in text: dict_keys(['topic_priorities', 'sector_threats', 'focus_areas', 'recommended_topic_id'])
2025-05-09 07:15:03,183 - app.routes.agents - INFO - CrewAI registration result: success
2025-05-09 07:15:03,260 - app.routes.agents - INFO - Using CrewAI to generate quiz for topic: Cybersecurity Fundamentals
2025-05-09 07:15:03,260 - app.services.crew_service - INFO - Creating quiz generation crew for topic: Cybersecurity Fundamentals
2025-05-09 07:15:03,260 - app.services.crew_service - WARNING - No user_id provided in quiz_data, attempting to find a valid user
2025-05-09 07:15:03,315 - app.services.crew_service - INFO - Found valid user_id: 1
2025-05-09 07:15:03,323 - app.services.crew_service - INFO - Starting quiz generation crew workflow
2025-05-09 07:15:03,349 - LiteLLM - INFO - 
LiteLLM completion() model= gpt-4.1-mini; provider = openai
2025-05-09 07:15:45,560 - LiteLLM - INFO - Wrapper: Completed Call, calling success_handler
2025-05-09 07:15:45,592 - LiteLLM - INFO - 
LiteLLM completion() model= gpt-4.1-mini; provider = openai
2025-05-09 07:16:41,144 - LiteLLM - INFO - Wrapper: Completed Call, calling success_handler
2025-05-09 07:16:41,178 - LiteLLM - INFO - 
LiteLLM completion() model= gpt-4.1-mini; provider = openai
2025-05-09 07:17:27,290 - LiteLLM - INFO - Wrapper: Completed Call, calling success_handler
2025-05-09 07:17:27,306 - app.services.crew_service - INFO - Quiz generation crew completed successfully with result: {
  "quiz_title": "Cybersecurity Fundamentals for Healthcare Professionals",
  "chapter_count": 4,
 ...
2025-05-09 07:17:27,306 - app.services.crew_service - INFO - Quiz generation crew completed successfully
2025-05-09 07:17:27,307 - app.services.crew_service - INFO - Parsing quiz generation crew result
2025-05-09 07:17:27,307 - app.services.crew_service - DEBUG - Result text first 200 chars: {
  "quiz_title": "Cybersecurity Fundamentals for Healthcare Professionals",
  "chapter_count": 4,
  "question_count": 20,
  "complete_quiz": {
    "title": "Cybersecurity Fundamentals for Healthcare 
2025-05-09 07:17:27,307 - app.services.crew_service - DEBUG - Result text length: 14445
2025-05-09 07:17:27,307 - app.services.crew_service - INFO - Successfully parsed result as direct JSON
2025-05-09 07:17:27,307 - app.services.crew_service - INFO - Found complete quiz in result
2025-05-09 07:17:27,500 - app.services.crew_service - INFO - Successfully inserted quiz with ID: 32
2025-05-09 07:17:27,557 - app.services.crew_service - INFO - Successfully inserted chapter with ID: 58
2025-05-09 07:17:27,603 - app.services.crew_service - DEBUG - Created question 1 in chapter 58
2025-05-09 07:17:27,770 - app.services.crew_service - DEBUG - Created question 2 in chapter 58
2025-05-09 07:17:27,818 - app.services.crew_service - DEBUG - Created question 3 in chapter 58
2025-05-09 07:17:27,863 - app.services.crew_service - DEBUG - Created question 4 in chapter 58
2025-05-09 07:17:28,066 - app.services.crew_service - DEBUG - Created question 5 in chapter 58
2025-05-09 07:17:28,116 - app.services.crew_service - INFO - Successfully inserted chapter with ID: 59
2025-05-09 07:17:28,160 - app.services.crew_service - DEBUG - Created question 1 in chapter 59
2025-05-09 07:17:28,213 - app.services.crew_service - DEBUG - Created question 2 in chapter 59
2025-05-09 07:17:28,285 - app.services.crew_service - DEBUG - Created question 3 in chapter 59
2025-05-09 07:17:28,358 - app.services.crew_service - DEBUG - Created question 4 in chapter 59
2025-05-09 07:17:28,559 - app.services.crew_service - DEBUG - Created question 5 in chapter 59
2025-05-09 07:17:28,608 - app.services.crew_service - INFO - Successfully inserted chapter with ID: 60
2025-05-09 07:17:28,668 - app.services.crew_service - DEBUG - Created question 1 in chapter 60
2025-05-09 07:17:28,849 - app.services.crew_service - DEBUG - Created question 2 in chapter 60
2025-05-09 07:17:28,901 - app.services.crew_service - DEBUG - Created question 3 in chapter 60
2025-05-09 07:17:28,954 - app.services.crew_service - DEBUG - Created question 4 in chapter 60
2025-05-09 07:17:29,032 - app.services.crew_service - DEBUG - Created question 5 in chapter 60
2025-05-09 07:17:29,118 - app.services.crew_service - INFO - Successfully inserted chapter with ID: 61
2025-05-09 07:17:29,175 - app.services.crew_service - DEBUG - Created question 1 in chapter 61
2025-05-09 07:17:29,235 - app.services.crew_service - DEBUG - Created question 2 in chapter 61
2025-05-09 07:17:29,300 - app.services.crew_service - DEBUG - Created question 3 in chapter 61
2025-05-09 07:17:29,349 - app.services.crew_service - DEBUG - Created question 4 in chapter 61
2025-05-09 07:17:29,399 - app.services.crew_service - DEBUG - Created question 5 in chapter 61
2025-05-09 07:17:29,399 - app.routes.agents - INFO - CrewAI quiz generation result: success
2025-05-09 07:37:15,172 - app.routes.agents - INFO - Starting registration process for user healthcare@example.com
2025-05-09 07:37:15,173 - app.routes.agents - INFO - Using CrewAI for registration process
2025-05-09 07:37:15,173 - app.services.crew_service - INFO - Creating registration crew for user: healthcare@example.com
2025-05-09 07:37:15,200 - app.services.crew_service - INFO - Starting registration crew workflow
2025-05-09 07:37:15,224 - LiteLLM - INFO - 
LiteLLM completion() model= gpt-4.1-mini; provider = openai
2025-05-09 07:37:19,430 - LiteLLM - INFO - Wrapper: Completed Call, calling success_handler
2025-05-09 07:37:19,469 - LiteLLM - INFO - 
LiteLLM completion() model= gpt-4.1-mini; provider = openai
2025-05-09 07:37:28,581 - LiteLLM - INFO - Wrapper: Completed Call, calling success_handler
2025-05-09 07:37:28,610 - LiteLLM - INFO - 
LiteLLM completion() model= gpt-4.1-mini; provider = openai
2025-05-09 07:37:37,889 - LiteLLM - INFO - Wrapper: Completed Call, calling success_handler
2025-05-09 07:37:37,908 - app.services.crew_service - INFO - Crew result: {
  "topic_priorities": [
    {
      "topic_id": 7,
      "topic_name": "Healthcare cybersecurity regulations and compliance",
      "relevance_score": 9.8
    },
    {
      "topic_id": 12,
      "topic_name": "Patient data protection and privacy strategies",
      "relevance_score": 9.7
    },
    {
      "topic_id": 15,
      "topic_name": "Data encryption and secure data sharing in healthcare",
      "relevance_score": 9.5
    },
    {
      "topic_id": 18,
      "topic_name": "Incident response and risk management in healthcare settings",
      "relevance_score": 9.3
    },
    {
      "topic_id": 21,
      "topic_name": "Healthcare IT infrastructure security",
      "relevance_score": 8.9
    },
    {
      "topic_id": 24,
      "topic_name": "Medical device cybersecurity",
      "relevance_score": 8.7
    },
    {
      "topic_id": 27,
      "topic_name": "Identity and access management for healthcare personnel",
      "relevance_score": 8.6
    }
  ],
  "sector_threats": {
    "Healthcare": [
      "Ransomware attacks targeting patient records and hospital systems",
      "Phishing campaigns aimed at healthcare staff to steal credentials",
      "Data breaches exposing sensitive patient health information",
      "Exploitation of vulnerabilities in connected medical devices",
      "Insider threats from employees with unauthorized access",
      "Compliance violations leading to regulatory penalties (HIPAA, GDPR)",
      "Advanced persistent threats (APTs) targeting healthcare research data"
    ]
  },
  "focus_areas": [
    "Advanced patient data protection techniques and encryption standards",
    "Emerging healthcare cybersecurity threats and mitigation strategies",
    "Regulatory updates and compliance best practices in healthcare sector",
    "Implementation of zero trust architecture in healthcare environments",
    "Incident response planning and disaster recovery specific to healthcare data breaches"
  ],
  "recommended_topic_id": 7
}
2025-05-09 07:37:37,908 - app.services.crew_service - INFO - Registration crew completed successfully
2025-05-09 07:37:37,908 - app.services.crew_service - INFO - Parsing registration crew result
2025-05-09 07:37:37,908 - app.services.crew_service - INFO - Found JSON in text: dict_keys(['topic_priorities', 'sector_threats', 'focus_areas', 'recommended_topic_id'])
2025-05-09 07:37:37,908 - app.routes.agents - INFO - CrewAI registration result: success
2025-05-09 07:37:37,917 - app.routes.agents - ERROR - No user_id returned from registration process
2025-05-09 07:37:37,917 - app.routes.agents - ERROR - CrewAI registration error: 500: Registration failed to return a user ID
2025-05-09 07:37:37,917 - app.routes.agents - ERROR - Traceback (most recent call last):
  File "C:\Users\Gameapp\Desktop\CY-X Reseach Doc\CYX_POC\cybersecurity-quiz-ai\app\routes\agents.py", line 154, in register_user
    raise HTTPException(status_code=500, detail="Registration failed to return a user ID")
fastapi.exceptions.HTTPException: 500: Registration failed to return a user ID

2025-05-09 07:37:37,917 - app.routes.agents - INFO - Falling back to traditional agent chain
2025-05-09 07:37:37,917 - app.routes.agents - INFO - Running registration agent
2025-05-09 07:37:38,713 - app.routes.agents - INFO - Registration agent result: next_agent=profile_analyzer
2025-05-09 07:37:38,713 - app.routes.agents - INFO - Running profile analyzer agent
2025-05-09 07:37:38,990 - app.routes.agents - INFO - Profile analyzer result: next_agent=topic_mapper
2025-05-09 07:37:38,990 - app.routes.agents - INFO - Running topic mapper agent
2025-05-09 07:37:39,235 - app.routes.agents - INFO - Topic mapper result: next_agent=quiz_generator
2025-05-09 07:37:39,235 - app.routes.agents - INFO - Running quiz generator agent
2025-05-09 07:37:39,236 - app.agents.quiz_generator_agent - INFO - Generating quiz for user_id=3, topic=Email Fraud, sector=Healthcare, role=Nurse
2025-05-09 07:37:39,236 - app.routes.agents - ERROR - Error in register_user: 'DatabaseService' object has no attribute 'execute_returning'
Traceback (most recent call last):
  File "C:\Users\Gameapp\Desktop\CY-X Reseach Doc\CYX_POC\cybersecurity-quiz-ai\app\routes\agents.py", line 241, in register_user
    quiz_result = quiz_generator_agent.run(topic_result)
                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Gameapp\Desktop\CY-X Reseach Doc\CYX_POC\cybersecurity-quiz-ai\app\agents\base_agent.py", line 33, in run
    result = self._execute(inputs)
             ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Gameapp\Desktop\CY-X Reseach Doc\CYX_POC\cybersecurity-quiz-ai\app\agents\quiz_generator_agent.py", line 60, in _execute
    quiz_id = db_service.execute_returning(
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'DatabaseService' object has no attribute 'execute_returning'
2025-05-09 07:42:35,666 - app.routes.agents - INFO - Starting registration process for user healthcare@example.com
2025-05-09 07:42:35,666 - app.routes.agents - INFO - Using CrewAI for registration process
2025-05-09 07:42:35,666 - app.services.crew_service - INFO - Creating registration crew for user: healthcare@example.com
2025-05-09 07:42:35,701 - app.services.crew_service - INFO - Starting registration crew workflow
2025-05-09 07:42:35,736 - LiteLLM - INFO - 
LiteLLM completion() model= gpt-4.1-mini; provider = openai
2025-05-09 07:42:38,674 - LiteLLM - INFO - Wrapper: Completed Call, calling success_handler
2025-05-09 07:42:38,694 - LiteLLM - INFO - 
LiteLLM completion() model= gpt-4.1-mini; provider = openai
2025-05-09 07:42:47,022 - LiteLLM - INFO - Wrapper: Completed Call, calling success_handler
2025-05-09 07:42:47,056 - LiteLLM - INFO - 
LiteLLM completion() model= gpt-4.1-mini; provider = openai
2025-05-09 07:43:02,984 - LiteLLM - INFO - Wrapper: Completed Call, calling success_handler
2025-05-09 07:43:03,013 - app.services.crew_service - INFO - Crew result: {
  "topic_priorities": [
    {
      "topic": "Healthcare Data Privacy and Compliance",
      "relevance_score": 9.8
    },
    {
      "topic": "Patient Data Protection and HIPAA Regulations",
      "relevance_score": 9.7
    },
    {
      "topic": "Healthcare Cybersecurity Frameworks and Best Practices",
      "relevance_score": 9.5
    },
    {
      "topic": "Medical Device Security",
      "relevance_score": 9.3
    },
    {
      "topic": "Incident Response in Healthcare Settings",
      "relevance_score": 9.2
    },
    {
      "topic": "Risk Management and Threat Analysis in Healthcare",
      "relevance_score": 9.0
    },
    {
      "topic": "Data Encryption and Access Controls for Healthcare Data",
      "relevance_score": 8.9
    },
    {
      "topic": "Secure Electronic Health Records (EHR) Systems",
      "relevance_score": 8.8
    },
    {
      "topic": "Emerging Threats in Healthcare IT",
      "relevance_score": 8.7
    }
  ],
  "sector_threats": {
    "Healthcare Sector": [
      "Ransomware attacks targeting hospital systems and EHRs",
      "Phishing and social engineering attacks targeting healthcare staff",
      "Insider threats compromising patient data confidentiality",
      "Vulnerabilities in connected medical devices and IoMT (Internet of Medical Things)",
      "Data breaches exposing sensitive patient health information",
      "Denial of Service (DoS) attacks disrupting healthcare services",
      "Non-compliance with HIPAA and other healthcare data regulations leading to fines",
      "Advanced persistent threats (APT) targeting healthcare research and patient data"
    ]
  },
  "focus_areas": [
    "Advanced patient data protection methodologies",
    "Latest healthcare cybersecurity regulatory updates including HIPAA",
    "Implementation of zero trust models in healthcare environments",
    "Improving incident response plans specific to healthcare breaches",
    "Integrating AI and machine learning for threat detection in healthcare systems"
  ],
  "recommended_topic_id": 7
}
2025-05-09 07:43:03,013 - app.services.crew_service - INFO - Registration crew completed successfully
2025-05-09 07:43:03,016 - app.services.crew_service - INFO - Parsing registration crew result
2025-05-09 07:43:03,016 - app.services.crew_service - INFO - Found JSON in text: dict_keys(['topic_priorities', 'sector_threats', 'focus_areas', 'recommended_topic_id'])
2025-05-09 07:43:03,016 - app.routes.agents - INFO - CrewAI registration result: success
2025-05-09 07:43:03,017 - app.routes.agents - ERROR - No user_id returned from registration process
2025-05-09 07:43:03,017 - app.routes.agents - ERROR - CrewAI registration error: 500: Registration failed to return a user ID
2025-05-09 07:43:03,018 - app.routes.agents - ERROR - Traceback (most recent call last):
  File "C:\Users\Gameapp\Desktop\CY-X Reseach Doc\CYX_POC\cybersecurity-quiz-ai\app\routes\agents.py", line 154, in register_user
    raise HTTPException(status_code=500, detail="Registration failed to return a user ID")
fastapi.exceptions.HTTPException: 500: Registration failed to return a user ID

2025-05-09 07:43:03,018 - app.routes.agents - INFO - Falling back to traditional agent chain
2025-05-09 07:43:03,019 - app.routes.agents - INFO - Running registration agent
2025-05-09 07:43:03,763 - app.routes.agents - INFO - Registration agent result: next_agent=profile_analyzer
2025-05-09 07:43:03,763 - app.routes.agents - INFO - Running profile analyzer agent
2025-05-09 07:43:04,020 - app.routes.agents - INFO - Profile analyzer result: next_agent=topic_mapper
2025-05-09 07:43:04,020 - app.routes.agents - INFO - Running topic mapper agent
2025-05-09 07:43:04,119 - app.routes.agents - INFO - Topic mapper result: next_agent=quiz_generator
2025-05-09 07:43:04,119 - app.routes.agents - INFO - Running quiz generator agent
2025-05-09 07:43:04,119 - app.agents.quiz_generator_agent - INFO - Generating quiz for user_id=3, topic=Email Fraud, sector=Healthcare, role=Nurse
2025-05-09 07:43:04,173 - app.agents.quiz_generator_agent - INFO - Requesting quiz generation from OpenAI for topic: Email Fraud
2025-05-09 07:43:16,516 - app.agents.quiz_generator_agent - INFO - Received response from OpenAI (length: 10284 chars)
2025-05-09 07:43:16,516 - app.agents.quiz_generator_agent - DEBUG - Response preview: {
  "chapters": [
    {
      "title": "Cybersecurity Basics related to Email Fraud",
      "description": "Understanding fundamental concepts of email security and common fraud tactics to build a sol...
2025-05-09 07:43:16,516 - app.agents.quiz_generator_agent - INFO - Successfully parsed quiz JSON with 4 chapters
2025-05-09 07:43:16,516 - app.agents.quiz_generator_agent - INFO - Quiz has 4 chapters with 20 total questions
2025-05-09 07:43:16,516 - app.routes.agents - ERROR - Error in register_user: 'DatabaseService' object has no attribute 'execute_returning'
Traceback (most recent call last):
  File "C:\Users\Gameapp\Desktop\CY-X Reseach Doc\CYX_POC\cybersecurity-quiz-ai\app\routes\agents.py", line 241, in register_user
    quiz_result = quiz_generator_agent.run(topic_result)
                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Gameapp\Desktop\CY-X Reseach Doc\CYX_POC\cybersecurity-quiz-ai\app\agents\base_agent.py", line 33, in run
    result = self._execute(inputs)
             ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Gameapp\Desktop\CY-X Reseach Doc\CYX_POC\cybersecurity-quiz-ai\app\agents\quiz_generator_agent.py", line 87, in _execute
    self._save_quiz_content(quiz_id, quiz_content)
  File "C:\Users\Gameapp\Desktop\CY-X Reseach Doc\CYX_POC\cybersecurity-quiz-ai\app\agents\quiz_generator_agent.py", line 285, in _save_quiz_content
    chapter_id = db_service.execute_returning(
                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'DatabaseService' object has no attribute 'execute_returning'
2025-05-09 07:44:39,113 - app.routes.agents - INFO - Starting registration process for user healthcare@example.com
2025-05-09 07:44:39,113 - app.routes.agents - INFO - Using CrewAI for registration process
2025-05-09 07:44:39,113 - app.services.crew_service - INFO - Creating registration crew for user: healthcare@example.com
2025-05-09 07:44:39,128 - app.services.crew_service - INFO - Starting registration crew workflow
2025-05-09 07:44:39,154 - LiteLLM - INFO - 
LiteLLM completion() model= gpt-4.1-mini; provider = openai
2025-05-09 07:44:41,820 - LiteLLM - INFO - Wrapper: Completed Call, calling success_handler
2025-05-09 07:44:41,843 - LiteLLM - INFO - 
LiteLLM completion() model= gpt-4.1-mini; provider = openai
2025-05-09 07:44:48,646 - LiteLLM - INFO - Wrapper: Completed Call, calling success_handler
2025-05-09 07:44:48,691 - LiteLLM - INFO - 
LiteLLM completion() model= gpt-4.1-mini; provider = openai
2025-05-09 07:44:59,783 - LiteLLM - INFO - Wrapper: Completed Call, calling success_handler
2025-05-09 07:44:59,827 - app.services.crew_service - INFO - Crew result: {
  "topic_priorities": [
    {
      "topic_id": 7,
      "topic_name": "Healthcare Information Security",
      "relevance_score": 9.8,
      "justification": "Directly aligns with user's sector (Healthcare), role (Cybersecurity Specialist/Manager), and expert skill level focusing on patient data protection."
    },
    {
      "topic_id": 12,
      "topic_name": "Patient Data Privacy Regulations (HIPAA, GDPR for healthcare)",
      "relevance_score": 9.5,
      "justification": "Crucial for compliance and audit readiness, highly relevant given user's learning goal on strengthening patient data protection."
    },
    {
      "topic_id": 15,
      "topic_name": "Medical Device Security",
      "relevance_score": 8.7,
      "justification": "Important due to healthcare environment's reliance on connected medical devices, fits user's expertise and sector focus."
    },
    {
      "topic_id": 20,
      "topic_name": "Incident Response and Breach Management in Healthcare Settings",
      "relevance_score": 8.5,
      "justification": "Key for users role in managing cybersecurity incidents and breach response tailored to healthcare."
    },
    {
      "topic_id": 25,
      "topic_name": "Security Frameworks applicable to Healthcare (e.g., NIST, HITRUST)",
      "relevance_score": 8.3,
      "justification": "Supports users advanced skill level and need for compliance and risk management strategies."
    }
  ],
  "sector_threats": {
    "Healthcare": [
      "Ransomware attacks targeting patient records and hospital operations",
      "Phishing campaigns targeting healthcare staff to gain access to Electronic Health Records (EHR)",
      "Insider threats including accidental or malicious data leaks",
      "Vulnerabilities in connected medical devices (IoMT) leading to unauthorized access or manipulation",
      "Data breaches resulting in exposure of sensitive patient health information",
      "Advanced Persistent Threats (APTs) aiming to steal healthcare research and patient data",
      "Compliance violations leading to heavy fines and reputational damage"
    ]
  },
  "focus_areas": [
    "Advanced patient data encryption and protection techniques",
    "Emerging threats in healthcare cybersecurity (ransomware, APTs, IoMT vulnerabilities)",
    "Compliance and audit readiness for healthcare data protection (HIPAA, HITRUST)",
    "Integration of AI and machine learning for threat detection in healthcare environments",
    "Developing and testing incident response plans tailored to patient data breaches"
  ],
  "recommended_topic_id": 7
}
2025-05-09 07:44:59,828 - app.services.crew_service - INFO - Registration crew completed successfully
2025-05-09 07:44:59,828 - app.services.crew_service - INFO - Parsing registration crew result
2025-05-09 07:44:59,829 - app.services.crew_service - INFO - Found JSON in text: dict_keys(['topic_priorities', 'sector_threats', 'focus_areas', 'recommended_topic_id'])
2025-05-09 07:44:59,829 - app.routes.agents - INFO - CrewAI registration result: success
2025-05-09 07:44:59,980 - app.routes.agents - INFO - Using CrewAI to generate quiz for topic: Cybersecurity Fundamentals
2025-05-09 07:44:59,980 - app.services.crew_service - INFO - Creating quiz generation crew for topic: Cybersecurity Fundamentals
2025-05-09 07:44:59,980 - app.services.crew_service - WARNING - No user_id provided in quiz_data, attempting to find a valid user
2025-05-09 07:45:00,042 - app.services.crew_service - INFO - Found valid user_id: 1
2025-05-09 07:45:00,042 - app.services.crew_service - INFO - Starting quiz generation crew workflow
2025-05-09 07:45:00,067 - LiteLLM - INFO - 
LiteLLM completion() model= gpt-4.1-mini; provider = openai
2025-05-09 07:45:37,518 - LiteLLM - INFO - Wrapper: Completed Call, calling success_handler
2025-05-09 07:45:37,545 - LiteLLM - INFO - 
LiteLLM completion() model= gpt-4.1-mini; provider = openai
2025-05-09 07:46:24,495 - LiteLLM - INFO - Wrapper: Completed Call, calling success_handler
2025-05-09 07:46:24,547 - LiteLLM - INFO - 
LiteLLM completion() model= gpt-4.1-mini; provider = openai
2025-05-09 07:47:11,297 - LiteLLM - INFO - Wrapper: Completed Call, calling success_handler
2025-05-09 07:47:11,316 - app.services.crew_service - INFO - Quiz generation crew completed successfully with result: {
  "quiz_title": "Cybersecurity Fundamentals - Healthcare Focus",
  "chapter_count": 4,
  "question...
2025-05-09 07:47:11,317 - app.services.crew_service - INFO - Quiz generation crew completed successfully
2025-05-09 07:47:11,318 - app.services.crew_service - INFO - Parsing quiz generation crew result
2025-05-09 07:47:11,318 - app.services.crew_service - DEBUG - Result text first 200 chars: {
  "quiz_title": "Cybersecurity Fundamentals - Healthcare Focus",
  "chapter_count": 4,
  "question_count": 20,
  "complete_quiz": {
    "title": "Cybersecurity Fundamentals - Healthcare Focus",
    
2025-05-09 07:47:11,318 - app.services.crew_service - DEBUG - Result text length: 14507
2025-05-09 07:47:11,318 - app.services.crew_service - INFO - Successfully parsed result as direct JSON
2025-05-09 07:47:11,318 - app.services.crew_service - INFO - Found complete quiz in result
2025-05-09 07:47:11,378 - app.services.crew_service - INFO - Successfully inserted quiz with ID: 34
2025-05-09 07:47:11,427 - app.services.crew_service - INFO - Successfully inserted chapter with ID: 62
2025-05-09 07:47:11,465 - app.services.crew_service - DEBUG - Created question 1 in chapter 62
2025-05-09 07:47:11,517 - app.services.crew_service - DEBUG - Created question 2 in chapter 62
2025-05-09 07:47:11,565 - app.services.crew_service - DEBUG - Created question 3 in chapter 62
2025-05-09 07:47:11,610 - app.services.crew_service - DEBUG - Created question 4 in chapter 62
2025-05-09 07:47:11,657 - app.services.crew_service - DEBUG - Created question 5 in chapter 62
2025-05-09 07:47:11,703 - app.services.crew_service - INFO - Successfully inserted chapter with ID: 63
2025-05-09 07:47:11,885 - app.services.crew_service - DEBUG - Created question 1 in chapter 63
2025-05-09 07:47:11,932 - app.services.crew_service - DEBUG - Created question 2 in chapter 63
2025-05-09 07:47:12,110 - app.services.crew_service - DEBUG - Created question 3 in chapter 63
2025-05-09 07:47:12,157 - app.services.crew_service - DEBUG - Created question 4 in chapter 63
2025-05-09 07:47:12,199 - app.services.crew_service - DEBUG - Created question 5 in chapter 63
2025-05-09 07:47:12,253 - app.services.crew_service - INFO - Successfully inserted chapter with ID: 64
2025-05-09 07:47:12,417 - app.services.crew_service - DEBUG - Created question 1 in chapter 64
2025-05-09 07:47:12,479 - app.services.crew_service - DEBUG - Created question 2 in chapter 64
2025-05-09 07:47:12,525 - app.services.crew_service - DEBUG - Created question 3 in chapter 64
2025-05-09 07:47:12,573 - app.services.crew_service - DEBUG - Created question 4 in chapter 64
2025-05-09 07:47:12,619 - app.services.crew_service - DEBUG - Created question 5 in chapter 64
2025-05-09 07:47:12,667 - app.services.crew_service - INFO - Successfully inserted chapter with ID: 65
2025-05-09 07:47:12,715 - app.services.crew_service - DEBUG - Created question 1 in chapter 65
2025-05-09 07:47:12,761 - app.services.crew_service - DEBUG - Created question 2 in chapter 65
2025-05-09 07:47:12,806 - app.services.crew_service - DEBUG - Created question 3 in chapter 65
2025-05-09 07:47:12,851 - app.services.crew_service - DEBUG - Created question 4 in chapter 65
2025-05-09 07:47:13,035 - app.services.crew_service - DEBUG - Created question 5 in chapter 65
2025-05-09 07:47:13,035 - app.routes.agents - INFO - CrewAI quiz generation result: success
2025-05-09 07:47:53,355 - app.routes.agents - INFO - Starting registration process for user banking@example.com
2025-05-09 07:47:53,355 - app.routes.agents - INFO - Using CrewAI for registration process
2025-05-09 07:47:53,355 - app.services.crew_service - INFO - Creating registration crew for user: banking@example.com
2025-05-09 07:47:53,362 - app.services.crew_service - INFO - Starting registration crew workflow
2025-05-09 07:47:53,382 - LiteLLM - INFO - 
LiteLLM completion() model= gpt-4.1-mini; provider = openai
2025-05-09 07:47:55,263 - LiteLLM - INFO - Wrapper: Completed Call, calling success_handler
2025-05-09 07:47:55,331 - LiteLLM - INFO - 
LiteLLM completion() model= gpt-4.1-mini; provider = openai
2025-05-09 07:48:01,240 - LiteLLM - INFO - Wrapper: Completed Call, calling success_handler
2025-05-09 07:48:01,273 - LiteLLM - INFO - 
LiteLLM completion() model= gpt-4.1-mini; provider = openai
2025-05-09 07:48:08,664 - LiteLLM - INFO - Wrapper: Completed Call, calling success_handler
2025-05-09 07:48:08,697 - app.services.crew_service - INFO - Crew result: {
  "topic_priorities": [
    {
      "topic_id": 7,
      "topic_name": "Advanced Financial Cybersecurity Threats",
      "relevance_score": 9.8
    },
    {
      "topic_id": 12,
      "topic_name": "Regulatory Compliance and Risk Management",
      "relevance_score": 9.5
    },
    {
      "topic_id": 15,
      "topic_name": "Incident Response and Forensics in Banking",
      "relevance_score": 9.3
    },
    {
      "topic_id": 18,
      "topic_name": "Emerging Technologies in Financial Security",
      "relevance_score": 9.0
    },
    {
      "topic_id": 22,
      "topic_name": "Cryptography Applications in Financial Transactions",
      "relevance_score": 8.7
    }
  ],
  "sector_threats": {
    "Phishing and Social Engineering Attacks": "Highly targeted attempts to deceive banking employees and customers to gain unauthorized access.",
    "Advanced Persistent Threats (APTs)": "Sophisticated, long-term attacks aimed at stealing sensitive financial data or disrupting operations.",
    "Insider Threats": "Risks from employees or contractors with access to critical systems who may misuse credentials either maliciously or inadvertently.",
    "Ransomware Attacks": "Malware that encrypts banking data demanding ransom, potentially disrupting financial services.",
    "Fraudulent Transaction Attempts": "Exploitation of vulnerabilities in transaction processing systems to commit financial fraud.",
    "Regulatory Non-Compliance Penalties": "Risks related to failing to comply with PCI DSS, SOX, and other financial regulations leading to fines and reputational damage.",
    "Data Breaches and Privacy Violations": "Unauthorized access or leakage of sensitive customer financial information causing legal and trust issues."
  },
  "focus_areas": [
    "Threat detection and mitigation in financial environments",
    "Compliance standards including PCI DSS and SOX",
    "Incident handling and response tailored for banking incidents",
    "Risk assessment and management in financial institutions",
    "Advanced behavioral analytics for fraud detection"
  ],
  "recommended_topic_id": 7
}
2025-05-09 07:48:08,697 - app.services.crew_service - INFO - Registration crew completed successfully
2025-05-09 07:48:08,698 - app.services.crew_service - INFO - Parsing registration crew result
2025-05-09 07:48:08,699 - app.services.crew_service - INFO - Found JSON in text: dict_keys(['topic_priorities', 'sector_threats', 'focus_areas', 'recommended_topic_id'])
2025-05-09 07:48:08,699 - app.routes.agents - INFO - CrewAI registration result: success
2025-05-09 07:48:08,748 - app.routes.agents - INFO - Using CrewAI to generate quiz for topic: Cybersecurity Fundamentals
2025-05-09 07:48:08,748 - app.services.crew_service - INFO - Creating quiz generation crew for topic: Cybersecurity Fundamentals
2025-05-09 07:48:08,748 - app.services.crew_service - WARNING - No user_id provided in quiz_data, attempting to find a valid user
2025-05-09 07:48:08,795 - app.services.crew_service - INFO - Found valid user_id: 1
2025-05-09 07:48:08,803 - app.services.crew_service - INFO - Starting quiz generation crew workflow
2025-05-09 07:48:08,851 - LiteLLM - INFO - 
LiteLLM completion() model= gpt-4.1-mini; provider = openai
2025-05-09 07:48:57,006 - LiteLLM - INFO - Wrapper: Completed Call, calling success_handler
2025-05-09 07:48:57,036 - LiteLLM - INFO - 
LiteLLM completion() model= gpt-4.1-mini; provider = openai
2025-05-09 07:49:48,766 - LiteLLM - INFO - Wrapper: Completed Call, calling success_handler
2025-05-09 07:49:48,793 - LiteLLM - INFO - 
LiteLLM completion() model= gpt-4.1-mini; provider = openai
2025-05-09 07:50:45,783 - LiteLLM - INFO - Wrapper: Completed Call, calling success_handler
2025-05-09 07:50:45,808 - app.services.crew_service - INFO - Quiz generation crew completed successfully with result: {
  "quiz_title": "Cybersecurity Fundamentals in Financial Environments",
  "chapter_count": 4,
  "q...
2025-05-09 07:50:45,808 - app.services.crew_service - INFO - Quiz generation crew completed successfully
2025-05-09 07:50:45,808 - app.services.crew_service - INFO - Parsing quiz generation crew result
2025-05-09 07:50:45,808 - app.services.crew_service - DEBUG - Result text first 200 chars: {
  "quiz_title": "Cybersecurity Fundamentals in Financial Environments",
  "chapter_count": 4,
  "question_count": 20,
  "complete_quiz": {
    "title": "Cybersecurity Fundamentals in Financial Envir
2025-05-09 07:50:45,808 - app.services.crew_service - DEBUG - Result text length: 14886
2025-05-09 07:50:45,809 - app.services.crew_service - INFO - Successfully parsed result as direct JSON
2025-05-09 07:50:45,809 - app.services.crew_service - INFO - Found complete quiz in result
2025-05-09 07:50:45,995 - app.services.crew_service - INFO - Successfully inserted quiz with ID: 35
2025-05-09 07:50:46,175 - app.services.crew_service - INFO - Successfully inserted chapter with ID: 66
2025-05-09 07:50:46,222 - app.services.crew_service - DEBUG - Created question 1 in chapter 66
2025-05-09 07:50:46,269 - app.services.crew_service - DEBUG - Created question 2 in chapter 66
2025-05-09 07:50:46,316 - app.services.crew_service - DEBUG - Created question 3 in chapter 66
2025-05-09 07:50:46,497 - app.services.crew_service - DEBUG - Created question 4 in chapter 66
2025-05-09 07:50:46,544 - app.services.crew_service - DEBUG - Created question 5 in chapter 66
2025-05-09 07:50:46,590 - app.services.crew_service - INFO - Successfully inserted chapter with ID: 67
2025-05-09 07:50:46,784 - app.services.crew_service - DEBUG - Created question 1 in chapter 67
2025-05-09 07:50:46,954 - app.services.crew_service - DEBUG - Created question 2 in chapter 67
2025-05-09 07:50:47,001 - app.services.crew_service - DEBUG - Created question 3 in chapter 67
2025-05-09 07:50:47,046 - app.services.crew_service - DEBUG - Created question 4 in chapter 67
2025-05-09 07:50:47,091 - app.services.crew_service - DEBUG - Created question 5 in chapter 67
2025-05-09 07:50:47,256 - app.services.crew_service - INFO - Successfully inserted chapter with ID: 68
2025-05-09 07:50:47,431 - app.services.crew_service - DEBUG - Created question 1 in chapter 68
2025-05-09 07:50:47,479 - app.services.crew_service - DEBUG - Created question 2 in chapter 68
2025-05-09 07:50:47,523 - app.services.crew_service - DEBUG - Created question 3 in chapter 68
2025-05-09 07:50:47,568 - app.services.crew_service - DEBUG - Created question 4 in chapter 68
2025-05-09 07:50:47,724 - app.services.crew_service - DEBUG - Created question 5 in chapter 68
2025-05-09 07:50:47,771 - app.services.crew_service - INFO - Successfully inserted chapter with ID: 69
2025-05-09 07:50:47,818 - app.services.crew_service - DEBUG - Created question 1 in chapter 69
2025-05-09 07:50:47,863 - app.services.crew_service - DEBUG - Created question 2 in chapter 69
2025-05-09 07:50:47,909 - app.services.crew_service - DEBUG - Created question 3 in chapter 69
2025-05-09 07:50:48,080 - app.services.crew_service - DEBUG - Created question 4 in chapter 69
2025-05-09 07:50:48,126 - app.services.crew_service - DEBUG - Created question 5 in chapter 69
2025-05-09 07:50:48,126 - app.routes.agents - INFO - CrewAI quiz generation result: success
2025-05-09 08:38:05,413 - app.routes.agents - INFO - Starting registration process for user banking@example.com
2025-05-09 08:38:05,426 - app.routes.agents - INFO - Using CrewAI for registration process
2025-05-09 08:38:05,427 - app.services.crew_service - INFO - Creating registration crew for user: banking@example.com
2025-05-09 08:38:05,499 - app.services.crew_service - INFO - Starting registration crew workflow
2025-05-09 08:38:05,550 - LiteLLM - INFO - 
LiteLLM completion() model= gpt-4.1-mini; provider = openai
2025-05-09 08:38:08,069 - LiteLLM - INFO - Wrapper: Completed Call, calling success_handler
2025-05-09 08:38:08,098 - LiteLLM - INFO - 
LiteLLM completion() model= gpt-4.1-mini; provider = openai
2025-05-09 08:38:15,136 - LiteLLM - INFO - Wrapper: Completed Call, calling success_handler
2025-05-09 08:38:15,166 - LiteLLM - INFO - 
LiteLLM completion() model= gpt-4.1-mini; provider = openai
2025-05-09 08:38:24,225 - LiteLLM - INFO - Wrapper: Completed Call, calling success_handler
2025-05-09 08:38:24,255 - app.services.crew_service - INFO - Crew result: {
  "topic_priorities": [
    {
      "topic_id": 4,
      "topic_name": "Financial Cybersecurity Threats and Mitigation",
      "relevance_score": 9.8
    },
    {
      "topic_id": 7,
      "topic_name": "Regulatory Compliance in Banking and Finance",
      "relevance_score": 9.5
    },
    {
      "topic_id": 12,
      "topic_name": "Advanced Threat Intelligence and Anomaly Detection",
      "relevance_score": 9.3
    },
    {
      "topic_id": 15,
      "topic_name": "Cryptography and Secure Transaction Protocols",
      "relevance_score": 9.0
    },
    {
      "topic_id": 18,
      "topic_name": "Incident Response and Fraud Detection in Financial Environments",
      "relevance_score": 8.8
    }
  ],
  "sector_threats": {
    "Advanced Persistent Threats (APTs)": "Sophisticated, targeted attacks aiming to steal sensitive financial data or disrupt banking operations.",
    "Phishing and Social Engineering": "Techniques aimed at deceiving banking staff and customers to gain unauthorized access.",
    "Ransomware Attacks": "Malware that encrypts critical banking systems and demands ransom to restore access.",
    "Insider Threats": "Malicious or negligent actions by employees that compromise financial data integrity and security.",
    "Regulatory Non-compliance Risks": "Penalties and legal exposure from failing to meet PCI DSS, SOX, GDPR, and other regulations.",
    "Cloud Security Vulnerabilities": "Risks associated with the migration and storage of financial data in cloud environments."
  },
  "focus_areas": [
    "Identification and mitigation of Advanced Persistent Threats (APTs) in banking",
    "Implementation of regulatory compliance frameworks (PCI DSS, SOX, GDPR)",
    "Advanced cryptography applications for secure financial transactions",
    "Threat intelligence gathering and anomaly detection tools for financial institutions",
    "Incident response strategies and fraud detection techniques in banking"
  ],
  "recommended_topic_id": 4
}
2025-05-09 08:38:24,256 - app.services.crew_service - INFO - Registration crew completed successfully
2025-05-09 08:38:24,258 - app.services.crew_service - INFO - Parsing registration crew result
2025-05-09 08:38:24,259 - app.services.crew_service - INFO - Found JSON in text: dict_keys(['topic_priorities', 'sector_threats', 'focus_areas', 'recommended_topic_id'])
2025-05-09 08:38:24,259 - app.routes.agents - INFO - CrewAI registration result: success
2025-05-09 08:38:24,331 - app.routes.agents - INFO - Using CrewAI to generate quiz for topic: Cybersecurity Fundamentals
2025-05-09 08:38:24,331 - app.services.crew_service - INFO - Creating quiz generation crew for topic: Cybersecurity Fundamentals
2025-05-09 08:38:24,331 - app.services.crew_service - WARNING - No user_id provided in quiz_data, attempting to find a valid user
2025-05-09 08:38:24,383 - app.services.crew_service - INFO - Found valid user_id: 1
2025-05-09 08:38:24,399 - app.services.crew_service - INFO - Starting quiz generation crew workflow
2025-05-09 08:38:24,471 - LiteLLM - INFO - 
LiteLLM completion() model= gpt-4.1-mini; provider = openai
2025-05-09 08:38:27,446 - opentelemetry.sdk.trace.export - ERROR - Exception while exporting Span batch.
Traceback (most recent call last):
  File "C:\Users\Gameapp\AppData\Local\Programs\Python\Python312\Lib\site-packages\urllib3\connectionpool.py", line 787, in urlopen
    response = self._make_request(
               ^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Gameapp\AppData\Local\Programs\Python\Python312\Lib\site-packages\urllib3\connectionpool.py", line 534, in _make_request
    response = conn.getresponse()
               ^^^^^^^^^^^^^^^^^^
  File "C:\Users\Gameapp\AppData\Local\Programs\Python\Python312\Lib\site-packages\urllib3\connection.py", line 516, in getresponse
    httplib_response = super().getresponse()
                       ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Gameapp\AppData\Local\Programs\Python\Python312\Lib\http\client.py", line 1428, in getresponse
    response.begin()
  File "C:\Users\Gameapp\AppData\Local\Programs\Python\Python312\Lib\http\client.py", line 331, in begin
    version, status, reason = self._read_status()
                              ^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Gameapp\AppData\Local\Programs\Python\Python312\Lib\http\client.py", line 300, in _read_status
    raise RemoteDisconnected("Remote end closed connection without"
http.client.RemoteDisconnected: Remote end closed connection without response

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\Gameapp\AppData\Local\Programs\Python\Python312\Lib\site-packages\requests\adapters.py", line 667, in send
    resp = conn.urlopen(
           ^^^^^^^^^^^^^
  File "C:\Users\Gameapp\AppData\Local\Programs\Python\Python312\Lib\site-packages\urllib3\connectionpool.py", line 841, in urlopen
    retries = retries.increment(
              ^^^^^^^^^^^^^^^^^^
  File "C:\Users\Gameapp\AppData\Local\Programs\Python\Python312\Lib\site-packages\urllib3\util\retry.py", line 474, in increment
    raise reraise(type(error), error, _stacktrace)
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Gameapp\AppData\Local\Programs\Python\Python312\Lib\site-packages\urllib3\util\util.py", line 38, in reraise
    raise value.with_traceback(tb)
  File "C:\Users\Gameapp\AppData\Local\Programs\Python\Python312\Lib\site-packages\urllib3\connectionpool.py", line 787, in urlopen
    response = self._make_request(
               ^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Gameapp\AppData\Local\Programs\Python\Python312\Lib\site-packages\urllib3\connectionpool.py", line 534, in _make_request
    response = conn.getresponse()
               ^^^^^^^^^^^^^^^^^^
  File "C:\Users\Gameapp\AppData\Local\Programs\Python\Python312\Lib\site-packages\urllib3\connection.py", line 516, in getresponse
    httplib_response = super().getresponse()
                       ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Gameapp\AppData\Local\Programs\Python\Python312\Lib\http\client.py", line 1428, in getresponse
    response.begin()
  File "C:\Users\Gameapp\AppData\Local\Programs\Python\Python312\Lib\http\client.py", line 331, in begin
    version, status, reason = self._read_status()
                              ^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Gameapp\AppData\Local\Programs\Python\Python312\Lib\http\client.py", line 300, in _read_status
    raise RemoteDisconnected("Remote end closed connection without"
urllib3.exceptions.ProtocolError: ('Connection aborted.', RemoteDisconnected('Remote end closed connection without response'))

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\Gameapp\AppData\Local\Programs\Python\Python312\Lib\site-packages\opentelemetry\sdk\trace\export\__init__.py", line 360, in _export_batch
    self.span_exporter.export(self.spans_list[:idx])  # type: ignore
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Gameapp\AppData\Local\Programs\Python\Python312\Lib\site-packages\opentelemetry\exporter\otlp\proto\http\trace_exporter\__init__.py", line 189, in export
    return self._export_serialized_spans(serialized_data)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Gameapp\AppData\Local\Programs\Python\Python312\Lib\site-packages\opentelemetry\exporter\otlp\proto\http\trace_exporter\__init__.py", line 159, in _export_serialized_spans
    resp = self._export(serialized_data)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Gameapp\AppData\Local\Programs\Python\Python312\Lib\site-packages\opentelemetry\exporter\otlp\proto\http\trace_exporter\__init__.py", line 133, in _export
    return self._session.post(
           ^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Gameapp\AppData\Local\Programs\Python\Python312\Lib\site-packages\requests\sessions.py", line 637, in post
    return self.request("POST", url, data=data, json=json, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Gameapp\AppData\Local\Programs\Python\Python312\Lib\site-packages\requests\sessions.py", line 589, in request
    resp = self.send(prep, **send_kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Gameapp\AppData\Local\Programs\Python\Python312\Lib\site-packages\requests\sessions.py", line 703, in send
    r = adapter.send(request, **kwargs)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Gameapp\AppData\Local\Programs\Python\Python312\Lib\site-packages\requests\adapters.py", line 682, in send
    raise ConnectionError(err, request=request)
requests.exceptions.ConnectionError: ('Connection aborted.', RemoteDisconnected('Remote end closed connection without response'))
2025-05-09 08:39:13,592 - LiteLLM - INFO - Wrapper: Completed Call, calling success_handler
2025-05-09 08:39:13,644 - LiteLLM - INFO - 
LiteLLM completion() model= gpt-4.1-mini; provider = openai
2025-05-09 08:40:15,785 - LiteLLM - INFO - Wrapper: Completed Call, calling success_handler
2025-05-09 08:40:15,826 - LiteLLM - INFO - 
LiteLLM completion() model= gpt-4.1-mini; provider = openai
2025-05-09 08:41:02,179 - LiteLLM - INFO - Wrapper: Completed Call, calling success_handler
2025-05-09 08:41:02,208 - app.services.crew_service - INFO - Quiz generation crew completed successfully with result: {
  "quiz_title": "Cybersecurity Fundamentals: Advanced Challenges in Banking",
  "chapter_count": 4...
2025-05-09 08:41:02,208 - app.services.crew_service - INFO - Quiz generation crew completed successfully
2025-05-09 08:41:02,209 - app.services.crew_service - INFO - Parsing quiz generation crew result
2025-05-09 08:41:02,209 - app.services.crew_service - DEBUG - Result text first 200 chars: {
  "quiz_title": "Cybersecurity Fundamentals: Advanced Challenges in Banking",
  "chapter_count": 4,
  "question_count": 20,
  "complete_quiz": {
    "title": "Cybersecurity Fundamentals: Advanced Ch
2025-05-09 08:41:02,209 - app.services.crew_service - DEBUG - Result text length: 14157
2025-05-09 08:41:02,209 - app.services.crew_service - INFO - Successfully parsed result as direct JSON
2025-05-09 08:41:02,209 - app.services.crew_service - INFO - Found complete quiz in result
2025-05-09 08:41:02,273 - app.services.crew_service - INFO - Successfully inserted quiz with ID: 36
2025-05-09 08:41:02,322 - app.services.crew_service - INFO - Successfully inserted chapter with ID: 70
2025-05-09 08:41:02,380 - app.services.crew_service - DEBUG - Created question 1 in chapter 70
2025-05-09 08:41:02,424 - app.services.crew_service - DEBUG - Created question 2 in chapter 70
2025-05-09 08:41:02,468 - app.services.crew_service - DEBUG - Created question 3 in chapter 70
2025-05-09 08:41:02,512 - app.services.crew_service - DEBUG - Created question 4 in chapter 70
2025-05-09 08:41:02,553 - app.services.crew_service - DEBUG - Created question 5 in chapter 70
2025-05-09 08:41:02,602 - app.services.crew_service - INFO - Successfully inserted chapter with ID: 71
2025-05-09 08:41:02,647 - app.services.crew_service - DEBUG - Created question 1 in chapter 71
2025-05-09 08:41:02,694 - app.services.crew_service - DEBUG - Created question 2 in chapter 71
2025-05-09 08:41:02,872 - app.services.crew_service - DEBUG - Created question 3 in chapter 71
2025-05-09 08:41:02,919 - app.services.crew_service - DEBUG - Created question 4 in chapter 71
2025-05-09 08:41:02,970 - app.services.crew_service - DEBUG - Created question 5 in chapter 71
2025-05-09 08:41:03,120 - app.services.crew_service - INFO - Successfully inserted chapter with ID: 72
2025-05-09 08:41:03,164 - app.services.crew_service - DEBUG - Created question 1 in chapter 72
2025-05-09 08:41:03,348 - app.services.crew_service - DEBUG - Created question 2 in chapter 72
2025-05-09 08:41:03,395 - app.services.crew_service - DEBUG - Created question 3 in chapter 72
2025-05-09 08:41:03,437 - app.services.crew_service - DEBUG - Created question 4 in chapter 72
2025-05-09 08:41:03,486 - app.services.crew_service - DEBUG - Created question 5 in chapter 72
2025-05-09 08:41:03,532 - app.services.crew_service - INFO - Successfully inserted chapter with ID: 73
2025-05-09 08:41:03,577 - app.services.crew_service - DEBUG - Created question 1 in chapter 73
2025-05-09 08:41:03,622 - app.services.crew_service - DEBUG - Created question 2 in chapter 73
2025-05-09 08:41:03,668 - app.services.crew_service - DEBUG - Created question 3 in chapter 73
2025-05-09 08:41:03,712 - app.services.crew_service - DEBUG - Created question 4 in chapter 73
2025-05-09 08:41:03,756 - app.services.crew_service - DEBUG - Created question 5 in chapter 73
2025-05-09 08:41:03,756 - app.routes.agents - INFO - CrewAI quiz generation result: success
2025-05-09 09:08:03,316 - app.routes.agents - INFO - Starting registration process for user banking@example.com
2025-05-09 09:08:03,319 - app.routes.agents - INFO - Using CrewAI for registration process
2025-05-09 09:08:03,319 - app.services.crew_service - INFO - Creating registration crew for user: banking@example.com
2025-05-09 09:08:03,357 - app.services.crew_service - INFO - Starting registration crew workflow
2025-05-09 09:08:03,407 - LiteLLM - INFO - 
LiteLLM completion() model= gpt-4.1-nano; provider = openai
2025-05-09 09:08:04,995 - LiteLLM - INFO - Wrapper: Completed Call, calling success_handler
2025-05-09 09:08:05,024 - LiteLLM - INFO - 
LiteLLM completion() model= gpt-4.1-nano; provider = openai
2025-05-09 09:08:07,023 - LiteLLM - INFO - Wrapper: Completed Call, calling success_handler
2025-05-09 09:08:07,051 - LiteLLM - INFO - 
LiteLLM completion() model= gpt-4.1-nano; provider = openai
2025-05-09 09:08:08,622 - LiteLLM - INFO - Wrapper: Completed Call, calling success_handler
2025-05-09 09:08:08,643 - app.services.crew_service - INFO - Crew result: {
  "topic_priorities": [
    {
      "topic_id": 10,
      "relevance_score": 0.95,
      "topic_name": "Financial Cybersecurity"
    }
  ],
  "sector_threats": [
    "Financial fraud and identity theft via phishing and social engineering",
    "Data breaches compromising sensitive banking information",
    "Advanced persistent threats (APTs) targeting financial infrastructure",
    "Malware and ransomware attacks on banking systems",
    "Insider threats leading to data leaks and financial losses",
    "Fraudulent transactions exploiting vulnerabilities in payment systems"
  ],
  "focus_areas": [
    "Advanced threat detection techniques for financial systems",
    "Securing transaction protocols and payment systems",
    "Implementing and managing encryption and data protection measures",
    "Incident response planning tailored for banking cybersecurity threats",
    "Compliance with financial industry regulations like PCI DSS and GDPR"
  ],
  "recommended_topic_id": 10
}
2025-05-09 09:08:08,643 - app.services.crew_service - INFO - Registration crew completed successfully
2025-05-09 09:08:08,644 - app.services.crew_service - INFO - Parsing registration crew result
2025-05-09 09:08:08,645 - app.services.crew_service - INFO - Found JSON in text: dict_keys(['topic_priorities', 'sector_threats', 'focus_areas', 'recommended_topic_id'])
2025-05-09 09:08:08,645 - app.routes.agents - INFO - CrewAI registration result: success
2025-05-09 09:08:08,717 - app.routes.agents - INFO - Using CrewAI to generate quiz for topic: Cybersecurity Fundamentals
2025-05-09 09:08:08,717 - app.services.crew_service - INFO - Creating quiz generation crew for topic: Cybersecurity Fundamentals
2025-05-09 09:08:08,718 - app.services.crew_service - WARNING - No user_id provided in quiz_data, attempting to find a valid user
2025-05-09 09:08:08,864 - app.services.crew_service - INFO - Found valid user_id: 1
2025-05-09 09:08:08,876 - app.services.crew_service - INFO - Starting quiz generation crew workflow
2025-05-09 09:08:08,893 - LiteLLM - INFO - 
LiteLLM completion() model= gpt-4.1-nano; provider = openai
2025-05-09 09:08:21,496 - LiteLLM - INFO - Wrapper: Completed Call, calling success_handler
2025-05-09 09:08:21,499 - LiteLLM - INFO - 
LiteLLM completion() model= gpt-4.1-nano; provider = openai
2025-05-09 09:08:31,491 - LiteLLM - INFO - Wrapper: Completed Call, calling success_handler
2025-05-09 09:08:31,542 - LiteLLM - INFO - 
LiteLLM completion() model= gpt-4.1-nano; provider = openai
2025-05-09 09:08:46,341 - LiteLLM - INFO - Wrapper: Completed Call, calling success_handler
2025-05-09 09:08:46,368 - LiteLLM - INFO - 
LiteLLM completion() model= gpt-4.1-nano; provider = openai
2025-05-09 09:09:01,197 - LiteLLM - INFO - Wrapper: Completed Call, calling success_handler
2025-05-09 09:09:01,253 - app.services.crew_service - INFO - Quiz generation crew completed successfully with result: {
  "quiz_title": "Cybersecurity Fundamentals for Financial Systems",
  "chapter_count": 4,
  "quest...
2025-05-09 09:09:01,254 - app.services.crew_service - INFO - Quiz generation crew completed successfully
2025-05-09 09:09:01,254 - app.services.crew_service - INFO - Parsing quiz generation crew result
2025-05-09 09:09:01,254 - app.services.crew_service - DEBUG - Result text first 200 chars: {
  "quiz_title": "Cybersecurity Fundamentals for Financial Systems",
  "chapter_count": 4,
  "question_count": 20,
  "complete_quiz": {
    "title": "Cybersecurity Fundamentals for Financial Systems"
2025-05-09 09:09:01,255 - app.services.crew_service - DEBUG - Result text length: 12736
2025-05-09 09:09:01,255 - app.services.crew_service - INFO - Successfully parsed result as direct JSON
2025-05-09 09:09:01,255 - app.services.crew_service - INFO - Found complete quiz in result
2025-05-09 09:09:01,343 - app.services.crew_service - INFO - Successfully inserted quiz with ID: 37
2025-05-09 09:09:01,555 - app.services.crew_service - INFO - Successfully inserted chapter with ID: 74
2025-05-09 09:09:01,614 - app.services.crew_service - DEBUG - Created question 1 in chapter 74
2025-05-09 09:09:01,677 - app.services.crew_service - DEBUG - Created question 2 in chapter 74
2025-05-09 09:09:01,735 - app.services.crew_service - DEBUG - Created question 3 in chapter 74
2025-05-09 09:09:01,793 - app.services.crew_service - DEBUG - Created question 4 in chapter 74
2025-05-09 09:09:01,850 - app.services.crew_service - DEBUG - Created question 5 in chapter 74
2025-05-09 09:09:01,909 - app.services.crew_service - INFO - Successfully inserted chapter with ID: 75
2025-05-09 09:09:01,965 - app.services.crew_service - DEBUG - Created question 1 in chapter 75
2025-05-09 09:09:02,024 - app.services.crew_service - DEBUG - Created question 2 in chapter 75
2025-05-09 09:09:02,082 - app.services.crew_service - DEBUG - Created question 3 in chapter 75
2025-05-09 09:09:02,273 - app.services.crew_service - DEBUG - Created question 4 in chapter 75
2025-05-09 09:09:02,334 - app.services.crew_service - DEBUG - Created question 5 in chapter 75
2025-05-09 09:09:02,392 - app.services.crew_service - INFO - Successfully inserted chapter with ID: 76
2025-05-09 09:09:02,449 - app.services.crew_service - DEBUG - Created question 1 in chapter 76
2025-05-09 09:09:02,507 - app.services.crew_service - DEBUG - Created question 2 in chapter 76
2025-05-09 09:09:02,570 - app.services.crew_service - DEBUG - Created question 3 in chapter 76
2025-05-09 09:09:02,628 - app.services.crew_service - DEBUG - Created question 4 in chapter 76
2025-05-09 09:09:02,698 - app.services.crew_service - DEBUG - Created question 5 in chapter 76
2025-05-09 09:09:02,758 - app.services.crew_service - INFO - Successfully inserted chapter with ID: 77
2025-05-09 09:09:02,818 - app.services.crew_service - DEBUG - Created question 1 in chapter 77
2025-05-09 09:09:02,876 - app.services.crew_service - DEBUG - Created question 2 in chapter 77
2025-05-09 09:09:02,934 - app.services.crew_service - DEBUG - Created question 3 in chapter 77
2025-05-09 09:09:02,995 - app.services.crew_service - DEBUG - Created question 4 in chapter 77
2025-05-09 09:09:03,053 - app.services.crew_service - DEBUG - Created question 5 in chapter 77
2025-05-09 09:09:03,053 - app.routes.agents - INFO - CrewAI quiz generation result: success
2025-05-09 09:36:45,695 - app.routes.agents - INFO - Starting registration process for user banking@example.com
2025-05-09 09:36:45,714 - app.routes.agents - INFO - Using CrewAI for registration process
2025-05-09 09:36:45,717 - app.services.crew_service - INFO - Creating registration crew for user: banking@example.com
2025-05-09 09:36:45,876 - app.services.crew_service - INFO - Starting registration crew workflow
2025-05-09 09:36:46,005 - LiteLLM - INFO - 
LiteLLM completion() model= gpt-4.1-nano; provider = openai
2025-05-09 09:36:47,427 - LiteLLM - INFO - Wrapper: Completed Call, calling success_handler
2025-05-09 09:36:47,462 - LiteLLM - INFO - 
LiteLLM completion() model= gpt-4.1-nano; provider = openai
2025-05-09 09:36:49,468 - LiteLLM - INFO - Wrapper: Completed Call, calling success_handler
2025-05-09 09:36:49,509 - LiteLLM - INFO - 
LiteLLM completion() model= gpt-4.1-nano; provider = openai
2025-05-09 09:36:51,791 - LiteLLM - INFO - Wrapper: Completed Call, calling success_handler
2025-05-09 09:36:51,810 - app.services.crew_service - INFO - Crew result: {
  "topic_priorities": [
    {
      "topic_id": 5,
      "relevance_score": 0.95,
      "justification": "Given John's extensive experience in banking cybersecurity, advanced knowledge in financial-specific threats and security protocols is highly relevant. The focus on emerging financial cyber threats and incident response aligns closely with his learning goals."
    },
    {
      "topic_id": 3,
      "relevance_score": 0.85,
      "justification": "Fraud detection techniques are crucial in banking to prevent financial crimes. John's interest in advanced threat detection makes this topic highly pertinent."
    },
    {
      "topic_id": 7,
      "relevance_score": 0.80,
      "justification": "Cryptography and data encryption are foundational for securing financial transactions and data, matching his expert level and focus areas."
    }
  ],
  "sector_threats": [
    "Financial phishing attacks targeting banking customers",
    "Money laundering facilitated through digital channels",
    "Ransomware attacks on banking infrastructure",
    "ATM skimming and card cloning schemes",
    "Insider threats involving unauthorized data access",
    "Advanced persistent threats (APTs) targeting banking networks",
    "Fraudulent transaction schemes and account takeover"
  ],
  "focus_areas": [
    "Emerging financial cyber threats and attack vectors",
    "Advanced fraud detection and prevention strategies",
    "Implementation of secure transaction methods and encryption",
    "Regulatory compliance and adapting to new legal standards",
    "Incident response planning and threat mitigation in banking"
  ],
  "recommended_topic_id": 5
}
2025-05-09 09:36:51,810 - app.services.crew_service - INFO - Registration crew completed successfully
2025-05-09 09:36:51,815 - app.services.crew_service - INFO - Parsing registration crew result
2025-05-09 09:36:51,815 - app.services.crew_service - INFO - Found JSON in text: dict_keys(['topic_priorities', 'sector_threats', 'focus_areas', 'recommended_topic_id'])
2025-05-09 09:36:51,815 - app.routes.agents - INFO - CrewAI registration result: success
2025-05-09 09:36:51,884 - app.routes.agents - INFO - Using CrewAI to generate quiz for topic: Cybersecurity Fundamentals
2025-05-09 09:36:51,884 - app.services.crew_service - INFO - Creating quiz generation crew for topic: Cybersecurity Fundamentals
2025-05-09 09:36:51,884 - app.services.crew_service - WARNING - No user_id provided in quiz_data, attempting to find a valid user
2025-05-09 09:36:52,045 - app.services.crew_service - INFO - Found valid user_id: 1
2025-05-09 09:36:52,052 - app.services.crew_service - INFO - Starting quiz generation crew workflow
2025-05-09 09:36:52,071 - LiteLLM - INFO - 
LiteLLM completion() model= gpt-4.1-nano; provider = openai
2025-05-09 09:37:03,602 - LiteLLM - INFO - Wrapper: Completed Call, calling success_handler
2025-05-09 09:37:03,646 - LiteLLM - INFO - 
LiteLLM completion() model= gpt-4.1-nano; provider = openai
2025-05-09 09:37:15,933 - LiteLLM - INFO - Wrapper: Completed Call, calling success_handler
2025-05-09 09:37:15,968 - LiteLLM - INFO - 
LiteLLM completion() model= gpt-4.1-nano; provider = openai
2025-05-09 09:37:31,448 - LiteLLM - INFO - Wrapper: Completed Call, calling success_handler
2025-05-09 09:37:31,470 - app.services.crew_service - INFO - Quiz generation crew completed successfully with result: {
  "quiz_title": "Cybersecurity Fundamentals for General Sector - Intermediate Level",
  "chapter_c...
2025-05-09 09:37:31,470 - app.services.crew_service - INFO - Quiz generation crew completed successfully
2025-05-09 09:37:31,472 - app.services.crew_service - INFO - Parsing quiz generation crew result
2025-05-09 09:37:31,472 - app.services.crew_service - DEBUG - Result text first 200 chars: {
  "quiz_title": "Cybersecurity Fundamentals for General Sector - Intermediate Level",
  "chapter_count": 4,
  "question_count": 20,
  "complete_quiz": {
    "title": "Cybersecurity Fundamentals for 
2025-05-09 09:37:31,472 - app.services.crew_service - DEBUG - Result text length: 13035
2025-05-09 09:37:31,473 - app.services.crew_service - INFO - Successfully parsed result as direct JSON
2025-05-09 09:37:31,474 - app.services.crew_service - INFO - Found complete quiz in result
2025-05-09 09:37:31,546 - app.services.crew_service - INFO - Successfully inserted quiz with ID: 38
2025-05-09 09:37:31,615 - app.services.crew_service - INFO - Successfully inserted chapter with ID: 78
2025-05-09 09:37:31,800 - app.services.crew_service - DEBUG - Created question 1 in chapter 78
2025-05-09 09:37:31,846 - app.services.crew_service - DEBUG - Created question 2 in chapter 78
2025-05-09 09:37:31,894 - app.services.crew_service - DEBUG - Created question 3 in chapter 78
2025-05-09 09:37:31,941 - app.services.crew_service - DEBUG - Created question 4 in chapter 78
2025-05-09 09:37:31,985 - app.services.crew_service - DEBUG - Created question 5 in chapter 78
2025-05-09 09:37:32,033 - app.services.crew_service - INFO - Successfully inserted chapter with ID: 79
2025-05-09 09:37:32,192 - app.services.crew_service - DEBUG - Created question 1 in chapter 79
2025-05-09 09:37:32,240 - app.services.crew_service - DEBUG - Created question 2 in chapter 79
2025-05-09 09:37:32,410 - app.services.crew_service - DEBUG - Created question 3 in chapter 79
2025-05-09 09:37:32,462 - app.services.crew_service - DEBUG - Created question 4 in chapter 79
2025-05-09 09:37:32,510 - app.services.crew_service - DEBUG - Created question 5 in chapter 79
2025-05-09 09:37:32,680 - app.services.crew_service - INFO - Successfully inserted chapter with ID: 80
2025-05-09 09:37:32,736 - app.services.crew_service - DEBUG - Created question 1 in chapter 80
2025-05-09 09:37:32,794 - app.services.crew_service - DEBUG - Created question 2 in chapter 80
2025-05-09 09:37:32,965 - app.services.crew_service - DEBUG - Created question 3 in chapter 80
2025-05-09 09:37:33,018 - app.services.crew_service - DEBUG - Created question 4 in chapter 80
2025-05-09 09:37:33,239 - app.services.crew_service - DEBUG - Created question 5 in chapter 80
2025-05-09 09:37:33,284 - app.services.crew_service - INFO - Successfully inserted chapter with ID: 81
2025-05-09 09:37:33,329 - app.services.crew_service - DEBUG - Created question 1 in chapter 81
2025-05-09 09:37:33,491 - app.services.crew_service - DEBUG - Created question 2 in chapter 81
2025-05-09 09:37:33,637 - app.services.crew_service - DEBUG - Created question 3 in chapter 81
2025-05-09 09:37:33,686 - app.services.crew_service - DEBUG - Created question 4 in chapter 81
2025-05-09 09:37:33,839 - app.services.crew_service - DEBUG - Created question 5 in chapter 81
2025-05-09 09:37:33,840 - app.routes.agents - INFO - CrewAI quiz generation result: success
2025-05-09 09:40:20,806 - app.routes.agents - INFO - Starting registration process for user banking@example.com
2025-05-09 09:40:20,806 - app.routes.agents - INFO - Using CrewAI for registration process
2025-05-09 09:40:20,806 - app.services.crew_service - INFO - Creating registration crew for user: banking@example.com
2025-05-09 09:40:20,823 - app.services.crew_service - INFO - Starting registration crew workflow
2025-05-09 09:40:20,850 - LiteLLM - INFO - 
LiteLLM completion() model= gpt-4.1-nano; provider = openai
2025-05-09 09:40:21,998 - LiteLLM - INFO - Wrapper: Completed Call, calling success_handler
2025-05-09 09:40:22,055 - LiteLLM - INFO - 
LiteLLM completion() model= gpt-4.1-nano; provider = openai
2025-05-09 09:40:24,109 - LiteLLM - INFO - Wrapper: Completed Call, calling success_handler
2025-05-09 09:40:24,142 - LiteLLM - INFO - 
LiteLLM completion() model= gpt-4.1-nano; provider = openai
2025-05-09 09:40:26,836 - LiteLLM - INFO - Wrapper: Completed Call, calling success_handler
2025-05-09 09:40:26,892 - app.services.crew_service - INFO - Crew result: {
  "topic_priorities": [
    {
      "topic_id": 1,
      "topic_name": "Financial Cybersecurity Threats",
      "relevance_score": 0.95
    },
    {
      "topic_id": 2,
      "topic_name": "Banking Sector-Specific Security Protocols",
      "relevance_score": 0.90
    },
    {
      "topic_id": 3,
      "topic_name": "Fraud Detection and Prevention",
      "relevance_score": 0.88
    },
    {
      "topic_id": 4,
      "topic_name": "Regulatory Compliance (GDPR, PCI DSS)",
      "relevance_score": 0.85
    },
    {
      "topic_id": 5,
      "topic_name": "Cyber Threat Intelligence for Financial Institutions",
      "relevance_score": 0.80
    }
  ],
  "sector_threats": [
    "Phishing attacks targeting banking credentials",
    "Loan and credit fraud schemes",
    "Banking malware and ransomware attacks",
    "Insider threats compromising customer data",
    "Advanced persistent threats (APTs) targeting financial data",
    "Data breaches exposing sensitive financial information",
    "Synthetic identity fraud"
  ],
  "focus_areas": [
    "Advanced threat detection techniques in banking",
    "Emerging financial cyber threats (e.g., deepfake fraud, new malware variants)",
    "Security best practices for banking applications and APIs",
    "Risk management and mitigation strategies specific to financial institutions",
    "Understanding and implementing legal and regulatory frameworks in banking cybersecurity"
  ],
  "recommended_topic_id": 1
}
2025-05-09 09:40:26,892 - app.services.crew_service - INFO - Registration crew completed successfully
2025-05-09 09:40:26,894 - app.services.crew_service - INFO - Parsing registration crew result
2025-05-09 09:40:26,895 - app.services.crew_service - INFO - Found JSON in text: dict_keys(['topic_priorities', 'sector_threats', 'focus_areas', 'recommended_topic_id'])
2025-05-09 09:40:26,896 - app.routes.agents - INFO - CrewAI registration result: success
2025-05-09 09:40:26,954 - app.routes.agents - INFO - Using CrewAI to generate quiz for topic: Cybersecurity Fundamentals
2025-05-09 09:40:26,954 - app.services.crew_service - INFO - Creating quiz generation crew for topic: Cybersecurity Fundamentals
2025-05-09 09:40:26,954 - app.services.crew_service - WARNING - No user_id provided in quiz_data, attempting to find a valid user
2025-05-09 09:40:27,000 - app.services.crew_service - INFO - Found valid user_id: 1
2025-05-09 09:40:27,016 - app.services.crew_service - INFO - Starting quiz generation crew workflow
2025-05-09 09:40:27,035 - LiteLLM - INFO - 
LiteLLM completion() model= gpt-4.1-nano; provider = openai
2025-05-09 09:40:37,468 - LiteLLM - INFO - Wrapper: Completed Call, calling success_handler
2025-05-09 09:40:37,509 - LiteLLM - INFO - 
LiteLLM completion() model= gpt-4.1-nano; provider = openai
2025-05-09 09:40:53,223 - LiteLLM - INFO - Wrapper: Completed Call, calling success_handler
2025-05-09 09:40:53,317 - LiteLLM - INFO - 
LiteLLM completion() model= gpt-4.1-nano; provider = openai
2025-05-09 09:41:10,017 - LiteLLM - INFO - Wrapper: Completed Call, calling success_handler
2025-05-09 09:41:10,048 - app.services.crew_service - INFO - Quiz generation crew completed successfully with result: {
  "quiz_title": "Cybersecurity Fundamentals for Banking and Financial Institutions",
  "chapter_co...
2025-05-09 09:41:10,049 - app.services.crew_service - INFO - Quiz generation crew completed successfully
2025-05-09 09:41:10,052 - app.services.crew_service - INFO - Parsing quiz generation crew result
2025-05-09 09:41:10,053 - app.services.crew_service - DEBUG - Result text first 200 chars: {
  "quiz_title": "Cybersecurity Fundamentals for Banking and Financial Institutions",
  "chapter_count": 4,
  "question_count": 20,
  "complete_quiz": {
    "title": "Cybersecurity Fundamentals for B
2025-05-09 09:41:10,054 - app.services.crew_service - DEBUG - Result text length: 13223
2025-05-09 09:41:10,054 - app.services.crew_service - INFO - Successfully parsed result as direct JSON
2025-05-09 09:41:10,054 - app.services.crew_service - INFO - Found complete quiz in result
2025-05-09 09:41:10,226 - app.services.crew_service - INFO - Successfully inserted quiz with ID: 39
2025-05-09 09:41:10,284 - app.services.crew_service - INFO - Successfully inserted chapter with ID: 82
2025-05-09 09:41:10,482 - app.services.crew_service - DEBUG - Created question 1 in chapter 82
2025-05-09 09:41:10,643 - app.services.crew_service - DEBUG - Created question 2 in chapter 82
2025-05-09 09:41:10,706 - app.services.crew_service - DEBUG - Created question 3 in chapter 82
2025-05-09 09:41:10,773 - app.services.crew_service - DEBUG - Created question 4 in chapter 82
2025-05-09 09:41:10,835 - app.services.crew_service - DEBUG - Created question 5 in chapter 82
2025-05-09 09:41:10,906 - app.services.crew_service - INFO - Successfully inserted chapter with ID: 83
2025-05-09 09:41:10,974 - app.services.crew_service - DEBUG - Created question 1 in chapter 83
2025-05-09 09:41:11,132 - app.services.crew_service - DEBUG - Created question 2 in chapter 83
2025-05-09 09:41:11,304 - app.services.crew_service - DEBUG - Created question 3 in chapter 83
2025-05-09 09:41:11,383 - app.services.crew_service - DEBUG - Created question 4 in chapter 83
2025-05-09 09:41:11,453 - app.services.crew_service - DEBUG - Created question 5 in chapter 83
2025-05-09 09:41:11,516 - app.services.crew_service - INFO - Successfully inserted chapter with ID: 84
2025-05-09 09:41:11,680 - app.services.crew_service - DEBUG - Created question 1 in chapter 84
2025-05-09 09:41:11,748 - app.services.crew_service - DEBUG - Created question 2 in chapter 84
2025-05-09 09:41:11,810 - app.services.crew_service - DEBUG - Created question 3 in chapter 84
2025-05-09 09:41:11,872 - app.services.crew_service - DEBUG - Created question 4 in chapter 84
2025-05-09 09:41:11,940 - app.services.crew_service - DEBUG - Created question 5 in chapter 84
2025-05-09 09:41:12,002 - app.services.crew_service - INFO - Successfully inserted chapter with ID: 85
2025-05-09 09:41:12,161 - app.services.crew_service - DEBUG - Created question 1 in chapter 85
2025-05-09 09:41:12,330 - app.services.crew_service - DEBUG - Created question 2 in chapter 85
2025-05-09 09:41:12,528 - app.services.crew_service - DEBUG - Created question 3 in chapter 85
2025-05-09 09:41:12,686 - app.services.crew_service - DEBUG - Created question 4 in chapter 85
2025-05-09 09:41:12,749 - app.services.crew_service - DEBUG - Created question 5 in chapter 85
2025-05-09 09:41:12,750 - app.routes.agents - INFO - CrewAI quiz generation result: success
2025-05-09 09:50:49,623 - app.routes.agents - INFO - Starting registration process for user banking@example.com
2025-05-09 09:50:49,628 - app.routes.agents - INFO - Using CrewAI for registration process
2025-05-09 09:50:49,630 - app.services.crew_service - INFO - Creating registration crew for user: banking@example.com
2025-05-09 09:50:49,695 - app.services.crew_service - INFO - Starting registration crew workflow
2025-05-09 09:50:49,752 - LiteLLM - INFO - 
LiteLLM completion() model= gpt-4.1-nano; provider = openai
2025-05-09 09:50:50,910 - LiteLLM - INFO - Wrapper: Completed Call, calling success_handler
2025-05-09 09:50:50,936 - LiteLLM - INFO - 
LiteLLM completion() model= gpt-4.1-nano; provider = openai
2025-05-09 09:50:53,129 - LiteLLM - INFO - Wrapper: Completed Call, calling success_handler
2025-05-09 09:50:53,174 - LiteLLM - INFO - 
LiteLLM completion() model= gpt-4.1-nano; provider = openai
2025-05-09 09:50:55,651 - LiteLLM - INFO - Wrapper: Completed Call, calling success_handler
2025-05-09 09:50:55,976 - app.services.crew_service - INFO - Crew result: {
  "topic_priorities": [
    {
      "topic_id": 5,
      "topic_name": "Financial Cybersecurity Threats",
      "relevance_score": 0.95
    },
    {
      "topic_id": 12,
      "topic_name": "Fraud Detection and Prevention",
      "relevance_score": 0.90
    },
    {
      "topic_id": 18,
      "topic_name": "Data Protection and Encryption",
      "relevance_score": 0.88
    },
    {
      "topic_id": 22,
      "topic_name": "Regulatory Compliance (AML, KYC, GDPR)",
      "relevance_score": 0.85
    },
    {
      "topic_id": 30,
      "topic_name": "Threat Mitigation Strategies in Banking",
      "relevance_score": 0.83
    }
  ],
  "sector_threats": [
    "Banking Fraud (e.g., identity theft, account takeover)",
    "ATM and POS device hacking",
    "Mobile banking malware",
    "Insider threats within financial institutions",
    "Social engineering targeted at banking clients",
    "Data breaches compromising customer information",
    "Regulatory non-compliance leading to penalties"
  ],
  "focus_areas": [
    "Advanced threat detection techniques in banking systems",
    "Emerging cyber threats in financial services",
    "Implementing and managing security frameworks like ISO 27001/27002",
    "Incident response planning for banking cyber incidents",
    "Securing banking applications and APIs"
  ],
  "recommended_topic_id": 5
}
2025-05-09 09:50:55,977 - app.services.crew_service - INFO - Registration crew completed successfully
2025-05-09 09:50:56,109 - app.services.crew_service - INFO - Parsing registration crew result
2025-05-09 09:50:56,110 - app.services.crew_service - INFO - Found JSON in text: dict_keys(['topic_priorities', 'sector_threats', 'focus_areas', 'recommended_topic_id'])
2025-05-09 09:50:56,110 - app.routes.agents - INFO - CrewAI registration result: success
2025-05-09 09:50:56,192 - app.routes.agents - INFO - Using CrewAI to generate quiz for topic: Cybersecurity Fundamentals
2025-05-09 09:50:56,192 - app.services.crew_service - INFO - Creating quiz generation crew for topic: Cybersecurity Fundamentals
2025-05-09 09:50:56,194 - app.services.crew_service - WARNING - No user_id provided in quiz_data, attempting to find a valid user
2025-05-09 09:50:56,391 - app.services.crew_service - INFO - Found valid user_id: 1
2025-05-09 09:50:56,440 - app.services.crew_service - INFO - Starting quiz generation crew workflow
2025-05-09 09:50:56,688 - LiteLLM - INFO - 
LiteLLM completion() model= gpt-4.1-nano; provider = openai
2025-05-09 09:51:07,414 - LiteLLM - INFO - Wrapper: Completed Call, calling success_handler
2025-05-09 09:51:07,477 - LiteLLM - INFO - 
LiteLLM completion() model= gpt-4.1-nano; provider = openai
2025-05-09 09:51:22,048 - LiteLLM - INFO - Wrapper: Completed Call, calling success_handler
2025-05-09 09:51:22,130 - LiteLLM - INFO - 
LiteLLM completion() model= gpt-4.1-nano; provider = openai
2025-05-09 09:51:39,370 - LiteLLM - INFO - Wrapper: Completed Call, calling success_handler
2025-05-09 09:51:39,390 - app.services.crew_service - INFO - Quiz generation crew completed successfully with result: {
  "quiz_title": "Cybersecurity Fundamentals in Banking and Financial Services",
  "chapter_count":...
2025-05-09 09:51:39,390 - app.services.crew_service - INFO - Quiz generation crew completed successfully
2025-05-09 09:51:39,391 - app.services.crew_service - INFO - Parsing quiz generation crew result
2025-05-09 09:51:39,391 - app.services.crew_service - DEBUG - Result text first 200 chars: {
  "quiz_title": "Cybersecurity Fundamentals in Banking and Financial Services",
  "chapter_count": 4,
  "question_count": 20,
  "complete_quiz": {
    "title": "Cybersecurity Fundamentals in Banking
2025-05-09 09:51:39,391 - app.services.crew_service - DEBUG - Result text length: 12919
2025-05-09 09:51:39,391 - app.services.crew_service - INFO - Successfully parsed result as direct JSON
2025-05-09 09:51:39,391 - app.services.crew_service - INFO - Found complete quiz in result
2025-05-09 09:51:39,445 - app.services.crew_service - INFO - Successfully inserted quiz with ID: 40
2025-05-09 09:51:39,496 - app.services.crew_service - INFO - Successfully inserted chapter with ID: 86
2025-05-09 09:51:39,544 - app.services.crew_service - DEBUG - Created question 1 in chapter 86
2025-05-09 09:51:39,696 - app.services.crew_service - DEBUG - Created question 2 in chapter 86
2025-05-09 09:51:39,746 - app.services.crew_service - DEBUG - Created question 3 in chapter 86
2025-05-09 09:51:39,792 - app.services.crew_service - DEBUG - Created question 4 in chapter 86
2025-05-09 09:51:39,839 - app.services.crew_service - DEBUG - Created question 5 in chapter 86
2025-05-09 09:51:40,013 - app.services.crew_service - INFO - Successfully inserted chapter with ID: 87
2025-05-09 09:51:40,060 - app.services.crew_service - DEBUG - Created question 1 in chapter 87
2025-05-09 09:51:40,213 - app.services.crew_service - DEBUG - Created question 2 in chapter 87
2025-05-09 09:51:40,260 - app.services.crew_service - DEBUG - Created question 3 in chapter 87
2025-05-09 09:51:40,319 - app.services.crew_service - DEBUG - Created question 4 in chapter 87
2025-05-09 09:51:40,366 - app.services.crew_service - DEBUG - Created question 5 in chapter 87
2025-05-09 09:51:40,522 - app.services.crew_service - INFO - Successfully inserted chapter with ID: 88
2025-05-09 09:51:40,571 - app.services.crew_service - DEBUG - Created question 1 in chapter 88
2025-05-09 09:51:40,617 - app.services.crew_service - DEBUG - Created question 2 in chapter 88
2025-05-09 09:51:40,670 - app.services.crew_service - DEBUG - Created question 3 in chapter 88
2025-05-09 09:51:40,721 - app.services.crew_service - DEBUG - Created question 4 in chapter 88
2025-05-09 09:51:40,896 - app.services.crew_service - DEBUG - Created question 5 in chapter 88
2025-05-09 09:51:40,956 - app.services.crew_service - INFO - Successfully inserted chapter with ID: 89
2025-05-09 09:51:41,013 - app.services.crew_service - DEBUG - Created question 1 in chapter 89
2025-05-09 09:51:41,073 - app.services.crew_service - DEBUG - Created question 2 in chapter 89
2025-05-09 09:51:41,122 - app.services.crew_service - DEBUG - Created question 3 in chapter 89
2025-05-09 09:51:41,272 - app.services.crew_service - DEBUG - Created question 4 in chapter 89
2025-05-09 09:51:41,331 - app.services.crew_service - DEBUG - Created question 5 in chapter 89
2025-05-09 09:51:41,332 - app.routes.agents - INFO - CrewAI quiz generation result: success
2025-05-09 09:55:51,914 - app.routes.agents - INFO - Starting registration process for user banking@example.com
2025-05-09 09:55:51,915 - app.routes.agents - INFO - Using CrewAI for registration process
2025-05-09 09:55:51,915 - app.services.crew_service - INFO - Creating registration crew for user: banking@example.com
2025-05-09 09:55:51,924 - app.services.crew_service - INFO - Starting registration crew workflow
2025-05-09 09:55:51,948 - LiteLLM - INFO - 
LiteLLM completion() model= gpt-4.1-nano; provider = openai
2025-05-09 09:55:53,008 - LiteLLM - INFO - Wrapper: Completed Call, calling success_handler
2025-05-09 09:55:53,033 - LiteLLM - INFO - 
LiteLLM completion() model= gpt-4.1-nano; provider = openai
2025-05-09 09:55:55,025 - LiteLLM - INFO - Wrapper: Completed Call, calling success_handler
2025-05-09 09:55:55,065 - LiteLLM - INFO - 
LiteLLM completion() model= gpt-4.1-nano; provider = openai
2025-05-09 09:55:56,793 - LiteLLM - INFO - Wrapper: Completed Call, calling success_handler
2025-05-09 09:55:56,814 - app.services.crew_service - INFO - Crew result: {
  "topic_priorities": [
    {
      "topic_id": 9,
      "topic_name": "Financial cybersecurity threats",
      "relevance_score": 9.5
    },
    {
      "topic_id": 10,
      "topic_name": "Risk management in financial services",
      "relevance_score": 8.8
    },
    {
      "topic_id": 11,
      "topic_name": "Compliance standards",
      "relevance_score": 8.2
    }
  ],
  "sector_threats": [
    "Phishing attacks targeting banking credentials",
    "SIM swapping and account takeover",
    "Ransomware attacks on financial data",
    "Advanced persistent threats (APTs) aimed at banking infrastructure",
    "Fraudulent transaction schemes and insider threats"
  ],
  "focus_areas": [
    "Emerging cyber threats in banking",
    "Advanced threat detection techniques",
    "Security frameworks and best practices for financial institutions",
    "Regulatory compliance and updates",
    "Incident response and recovery planning"
  ],
  "recommended_topic_id": 9
}
2025-05-09 09:55:56,815 - app.services.crew_service - INFO - Registration crew completed successfully
2025-05-09 09:55:56,816 - app.services.crew_service - INFO - Parsing registration crew result
2025-05-09 09:55:56,816 - app.services.crew_service - INFO - Found JSON in text: dict_keys(['topic_priorities', 'sector_threats', 'focus_areas', 'recommended_topic_id'])
2025-05-09 09:55:56,816 - app.routes.agents - INFO - CrewAI registration result: success
2025-05-09 09:55:56,870 - app.routes.agents - INFO - Using CrewAI to generate quiz for topic: Cybersecurity Fundamentals
2025-05-09 09:55:56,870 - app.services.crew_service - INFO - Creating quiz generation crew for topic: Cybersecurity Fundamentals
2025-05-09 09:55:56,871 - app.services.crew_service - WARNING - No user_id provided in quiz_data, attempting to find a valid user
2025-05-09 09:55:56,916 - app.services.crew_service - INFO - Found valid user_id: 1
2025-05-09 09:55:56,924 - app.services.crew_service - INFO - Starting quiz generation crew workflow
2025-05-09 09:55:56,946 - LiteLLM - INFO - 
LiteLLM completion() model= gpt-4.1-nano; provider = openai
2025-05-09 09:56:06,946 - LiteLLM - INFO - Wrapper: Completed Call, calling success_handler
2025-05-09 09:56:06,954 - LiteLLM - INFO - 
LiteLLM completion() model= gpt-4.1-nano; provider = openai
2025-05-09 09:56:19,670 - LiteLLM - INFO - Wrapper: Completed Call, calling success_handler
2025-05-09 09:56:19,716 - LiteLLM - INFO - 
LiteLLM completion() model= gpt-4.1-nano; provider = openai
2025-05-09 09:56:34,940 - LiteLLM - INFO - Wrapper: Completed Call, calling success_handler
2025-05-09 09:56:34,970 - LiteLLM - INFO - 
LiteLLM completion() model= gpt-4.1-nano; provider = openai
2025-05-09 09:56:51,084 - LiteLLM - INFO - Wrapper: Completed Call, calling success_handler
2025-05-09 09:56:51,103 - app.services.crew_service - INFO - Quiz generation crew completed successfully with result: {
  "quiz_title": "Cybersecurity Fundamentals Quiz",
  "chapter_count": 4,
  "question_count": 20,
 ...
2025-05-09 09:56:51,105 - app.services.crew_service - INFO - Quiz generation crew completed successfully
2025-05-09 09:56:51,105 - app.services.crew_service - INFO - Parsing quiz generation crew result
2025-05-09 09:56:51,105 - app.services.crew_service - DEBUG - Result text first 200 chars: {
  "quiz_title": "Cybersecurity Fundamentals Quiz",
  "chapter_count": 4,
  "question_count": 20,
  "complete_quiz": {
    "title": "Cybersecurity Fundamentals Quiz",
    "description": "A comprehens
2025-05-09 09:56:51,105 - app.services.crew_service - DEBUG - Result text length: 12852
2025-05-09 09:56:51,106 - app.services.crew_service - INFO - Successfully parsed result as direct JSON
2025-05-09 09:56:51,106 - app.services.crew_service - INFO - Found complete quiz in result
2025-05-09 09:56:51,170 - app.services.crew_service - INFO - Successfully inserted quiz with ID: 41
2025-05-09 09:56:51,323 - app.services.crew_service - INFO - Successfully inserted chapter with ID: 90
2025-05-09 09:56:51,377 - app.services.crew_service - DEBUG - Created question 1 in chapter 90
2025-05-09 09:56:51,527 - app.services.crew_service - DEBUG - Created question 2 in chapter 90
2025-05-09 09:56:51,573 - app.services.crew_service - DEBUG - Created question 3 in chapter 90
2025-05-09 09:56:51,617 - app.services.crew_service - DEBUG - Created question 4 in chapter 90
2025-05-09 09:56:51,663 - app.services.crew_service - DEBUG - Created question 5 in chapter 90
2025-05-09 09:56:51,707 - app.services.crew_service - INFO - Successfully inserted chapter with ID: 91
2025-05-09 09:56:51,751 - app.services.crew_service - DEBUG - Created question 1 in chapter 91
2025-05-09 09:56:51,798 - app.services.crew_service - DEBUG - Created question 2 in chapter 91
2025-05-09 09:56:51,843 - app.services.crew_service - DEBUG - Created question 3 in chapter 91
2025-05-09 09:56:51,889 - app.services.crew_service - DEBUG - Created question 4 in chapter 91
2025-05-09 09:56:51,941 - app.services.crew_service - DEBUG - Created question 5 in chapter 91
2025-05-09 09:56:51,985 - app.services.crew_service - INFO - Successfully inserted chapter with ID: 92
2025-05-09 09:56:52,140 - app.services.crew_service - DEBUG - Created question 1 in chapter 92
2025-05-09 09:56:52,187 - app.services.crew_service - DEBUG - Created question 2 in chapter 92
2025-05-09 09:56:52,240 - app.services.crew_service - DEBUG - Created question 3 in chapter 92
2025-05-09 09:56:52,286 - app.services.crew_service - DEBUG - Created question 4 in chapter 92
2025-05-09 09:56:52,335 - app.services.crew_service - DEBUG - Created question 5 in chapter 92
2025-05-09 09:56:52,481 - app.services.crew_service - INFO - Successfully inserted chapter with ID: 93
2025-05-09 09:56:52,537 - app.services.crew_service - DEBUG - Created question 1 in chapter 93
2025-05-09 09:56:52,588 - app.services.crew_service - DEBUG - Created question 2 in chapter 93
2025-05-09 09:56:52,632 - app.services.crew_service - DEBUG - Created question 3 in chapter 93
2025-05-09 09:56:52,678 - app.services.crew_service - DEBUG - Created question 4 in chapter 93
2025-05-09 09:56:52,722 - app.services.crew_service - DEBUG - Created question 5 in chapter 93
2025-05-09 09:56:52,722 - app.routes.agents - INFO - CrewAI quiz generation result: success
2025-05-09 10:03:14,132 - app.routes.agents - INFO - Starting registration process for user healthcare@example.com
2025-05-09 10:03:14,143 - app.routes.agents - INFO - Using CrewAI for registration process
2025-05-09 10:03:14,144 - app.services.crew_service - INFO - Creating registration crew for user: healthcare@example.com
2025-05-09 10:03:14,210 - app.services.crew_service - INFO - Starting registration crew workflow
2025-05-09 10:03:14,259 - LiteLLM - INFO - 
LiteLLM completion() model= gpt-4.1-nano; provider = openai
2025-05-09 10:03:15,347 - LiteLLM - INFO - Wrapper: Completed Call, calling success_handler
2025-05-09 10:03:15,376 - LiteLLM - INFO - 
LiteLLM completion() model= gpt-4.1-nano; provider = openai
2025-05-09 10:03:17,205 - LiteLLM - INFO - Wrapper: Completed Call, calling success_handler
2025-05-09 10:03:17,308 - LiteLLM - INFO - 
LiteLLM completion() model= gpt-4.1-nano; provider = openai
2025-05-09 10:03:18,905 - LiteLLM - INFO - Wrapper: Completed Call, calling success_handler
2025-05-09 10:03:18,945 - app.services.crew_service - INFO - Crew result: {
  "topic_priorities": [
    {
      "topic_id": 7,
      "topic_name": "Healthcare Cybersecurity",
      "relevance_score": 0.95,
      "notes": "Highly relevant due to user's healthcare sector, focus on patient data security, compliance, and cybersecurity best practices."
    }
  ],
  "sector_threats": [
    "Ransomware attacks targeting healthcare institutions",
    "Phishing campaigns exploiting healthcare staff",
    "Data breaches involving patient records",
    "Insider threats compromising sensitive health data",
    "Supply chain vulnerabilities affecting medical devices and software"
  ],
  "focus_areas": [
    "Patient Data Security",
    "Healthcare Data Compliance",
    "Encryption and Data Protection Measures",
    "Incident Response Planning in Healthcare",
    "Risk Management and Threat Mitigation in Healthcare"
  ],
  "recommended_topic_id": 7
}
2025-05-09 10:03:18,945 - app.services.crew_service - INFO - Registration crew completed successfully
2025-05-09 10:03:18,949 - app.services.crew_service - INFO - Parsing registration crew result
2025-05-09 10:03:18,949 - app.services.crew_service - INFO - Found JSON in text: dict_keys(['topic_priorities', 'sector_threats', 'focus_areas', 'recommended_topic_id'])
2025-05-09 10:03:18,949 - app.routes.agents - INFO - CrewAI registration result: success
2025-05-09 10:03:19,026 - app.routes.agents - INFO - Using CrewAI to generate quiz for topic: Cybersecurity Fundamentals
2025-05-09 10:03:19,027 - app.services.crew_service - INFO - Creating quiz generation crew for topic: Cybersecurity Fundamentals
2025-05-09 10:03:19,027 - app.services.crew_service - WARNING - No user_id provided in quiz_data, attempting to find a valid user
2025-05-09 10:03:19,180 - app.services.crew_service - INFO - Found valid user_id: 1
2025-05-09 10:03:19,199 - app.services.crew_service - INFO - Starting quiz generation crew workflow
2025-05-09 10:03:19,219 - LiteLLM - INFO - 
LiteLLM completion() model= gpt-4.1-nano; provider = openai
2025-05-09 10:03:32,895 - LiteLLM - INFO - Wrapper: Completed Call, calling success_handler
2025-05-09 10:03:32,902 - LiteLLM - INFO - 
LiteLLM completion() model= gpt-4.1-nano; provider = openai
2025-05-09 10:03:44,493 - LiteLLM - INFO - Wrapper: Completed Call, calling success_handler
2025-05-09 10:03:44,523 - LiteLLM - INFO - 
LiteLLM completion() model= gpt-4.1-nano; provider = openai
2025-05-09 10:04:04,831 - LiteLLM - INFO - Wrapper: Completed Call, calling success_handler
2025-05-09 10:04:04,870 - LiteLLM - INFO - 
LiteLLM completion() model= gpt-4.1-nano; provider = openai
2025-05-09 10:04:22,091 - LiteLLM - INFO - Wrapper: Completed Call, calling success_handler
2025-05-09 10:04:22,128 - app.services.crew_service - INFO - Quiz generation crew completed successfully with result: {
  "quiz_title": "Cybersecurity Fundamentals in Healthcare",
  "chapter_count": 4,
  "question_coun...
2025-05-09 10:04:22,128 - app.services.crew_service - INFO - Quiz generation crew completed successfully
2025-05-09 10:04:22,131 - app.services.crew_service - INFO - Parsing quiz generation crew result
2025-05-09 10:04:22,131 - app.services.crew_service - DEBUG - Result text first 200 chars: {
  "quiz_title": "Cybersecurity Fundamentals in Healthcare",
  "chapter_count": 4,
  "question_count": 20,
  "complete_quiz": {
    "title": "Cybersecurity Fundamentals in Healthcare",
    "descripti
2025-05-09 10:04:22,131 - app.services.crew_service - DEBUG - Result text length: 13115
2025-05-09 10:04:22,131 - app.services.crew_service - INFO - Successfully parsed result as direct JSON
2025-05-09 10:04:22,131 - app.services.crew_service - INFO - Found complete quiz in result
2025-05-09 10:04:22,213 - app.services.crew_service - INFO - Successfully inserted quiz with ID: 42
2025-05-09 10:04:22,272 - app.services.crew_service - INFO - Successfully inserted chapter with ID: 94
2025-05-09 10:04:22,337 - app.services.crew_service - DEBUG - Created question 1 in chapter 94
2025-05-09 10:04:22,536 - app.services.crew_service - DEBUG - Created question 2 in chapter 94
2025-05-09 10:04:22,630 - app.services.crew_service - DEBUG - Created question 3 in chapter 94
2025-05-09 10:04:22,802 - app.services.crew_service - DEBUG - Created question 4 in chapter 94
2025-05-09 10:04:22,911 - app.services.crew_service - DEBUG - Created question 5 in chapter 94
2025-05-09 10:04:22,986 - app.services.crew_service - INFO - Successfully inserted chapter with ID: 95
2025-05-09 10:04:23,095 - app.services.crew_service - DEBUG - Created question 1 in chapter 95
2025-05-09 10:04:23,214 - app.services.crew_service - DEBUG - Created question 2 in chapter 95
2025-05-09 10:04:23,312 - app.services.crew_service - DEBUG - Created question 3 in chapter 95
2025-05-09 10:04:23,379 - app.services.crew_service - DEBUG - Created question 4 in chapter 95
2025-05-09 10:04:23,513 - app.services.crew_service - DEBUG - Created question 5 in chapter 95
2025-05-09 10:04:23,789 - app.services.crew_service - INFO - Successfully inserted chapter with ID: 96
2025-05-09 10:04:23,852 - app.services.crew_service - DEBUG - Created question 1 in chapter 96
2025-05-09 10:04:23,921 - app.services.crew_service - DEBUG - Created question 2 in chapter 96
2025-05-09 10:04:24,060 - app.services.crew_service - DEBUG - Created question 3 in chapter 96
2025-05-09 10:04:24,194 - app.services.crew_service - DEBUG - Created question 4 in chapter 96
2025-05-09 10:04:24,361 - app.services.crew_service - DEBUG - Created question 5 in chapter 96
2025-05-09 10:04:24,571 - app.services.crew_service - INFO - Successfully inserted chapter with ID: 97
2025-05-09 10:04:24,661 - app.services.crew_service - DEBUG - Created question 1 in chapter 97
2025-05-09 10:04:24,758 - app.services.crew_service - DEBUG - Created question 2 in chapter 97
2025-05-09 10:04:24,855 - app.services.crew_service - DEBUG - Created question 3 in chapter 97
2025-05-09 10:04:24,931 - app.services.crew_service - DEBUG - Created question 4 in chapter 97
2025-05-09 10:04:25,173 - app.services.crew_service - DEBUG - Created question 5 in chapter 97
2025-05-09 10:04:25,175 - app.routes.agents - INFO - CrewAI quiz generation result: success
2025-05-12 12:25:07,017 - app.routes.agents - INFO - Starting registration process for user finance@example.com
2025-05-12 12:25:07,029 - app.routes.agents - INFO - Using CrewAI for registration process
2025-05-12 12:25:07,029 - app.services.crew_service - INFO - Creating registration crew for user: finance@example.com
2025-05-12 12:25:07,570 - app.services.crew_service - INFO - Starting registration crew workflow
2025-05-12 12:25:07,667 - LiteLLM - INFO - 
LiteLLM completion() model= gpt-4.1-nano; provider = openai
2025-05-12 12:25:10,621 - LiteLLM - INFO - Wrapper: Completed Call, calling success_handler
2025-05-12 12:25:10,651 - LiteLLM - INFO - 
LiteLLM completion() model= gpt-4.1-nano; provider = openai
2025-05-12 12:25:12,401 - LiteLLM - INFO - Wrapper: Completed Call, calling success_handler
2025-05-12 12:25:12,428 - LiteLLM - INFO - 
LiteLLM completion() model= gpt-4.1-nano; provider = openai
2025-05-12 12:25:13,948 - LiteLLM - INFO - Wrapper: Completed Call, calling success_handler
2025-05-12 12:25:13,979 - app.services.crew_service - INFO - Crew result: {
  "topic_priorities": [
    {
      "topic_id": 1,
      "relevance_score": 0.95,
      "justification": "Given Emily's focus on investment fraud detection within the finance sector, this topic aligns closely with her advanced expertise and learning goals, making it highly relevant."
    }
  ],
  "sector_threats": [
    "Financial fraud schemes (e.g., Ponzi schemes, insider trading)",
    "Advanced persistent threats targeting financial institutions",
    "Money laundering via digital channels",
    "Data breaches involving sensitive financial data",
    "Emerging fintech vulnerabilities"
  ],
  "focus_areas": [
    "Advanced investment fraud detection techniques",
    "Emerging financial technologies and associated security risks",
    "Machine learning applications in financial anomaly detection",
    "Regulatory compliance updates and their cybersecurity implications",
    "Case studies on recent financial fraud incidents"
  ],
  "recommended_topic_id": 1
}
2025-05-12 12:25:13,979 - app.services.crew_service - INFO - Registration crew completed successfully
2025-05-12 12:25:13,981 - app.services.crew_service - INFO - Parsing registration crew result
2025-05-12 12:25:13,981 - app.services.crew_service - INFO - Found JSON in text: dict_keys(['topic_priorities', 'sector_threats', 'focus_areas', 'recommended_topic_id'])
2025-05-12 12:25:13,982 - app.routes.agents - INFO - CrewAI registration result: success
2025-05-12 12:25:14,028 - app.routes.agents - INFO - Using CrewAI to generate quiz for topic: Cybersecurity Fundamentals
2025-05-12 12:25:14,028 - app.services.crew_service - INFO - Creating quiz generation crew for topic: Cybersecurity Fundamentals
2025-05-12 12:25:14,028 - app.services.crew_service - WARNING - No user_id provided in quiz_data, attempting to find a valid user
2025-05-12 12:25:14,088 - app.services.crew_service - INFO - Found valid user_id: 1
2025-05-12 12:25:14,088 - app.services.crew_service - INFO - Starting quiz generation crew workflow
2025-05-12 12:25:14,114 - LiteLLM - INFO - 
LiteLLM completion() model= gpt-4.1-nano; provider = openai
2025-05-12 12:25:24,856 - LiteLLM - INFO - Wrapper: Completed Call, calling success_handler
2025-05-12 12:25:24,880 - LiteLLM - INFO - 
LiteLLM completion() model= gpt-4.1-nano; provider = openai
2025-05-12 12:25:34,884 - LiteLLM - INFO - Wrapper: Completed Call, calling success_handler
2025-05-12 12:25:34,924 - LiteLLM - INFO - 
LiteLLM completion() model= gpt-4.1-nano; provider = openai
2025-05-12 12:25:46,830 - LiteLLM - INFO - Wrapper: Completed Call, calling success_handler
2025-05-12 12:25:46,897 - LiteLLM - INFO - 
LiteLLM completion() model= gpt-4.1-nano; provider = openai
2025-05-12 12:26:04,846 - LiteLLM - INFO - Wrapper: Completed Call, calling success_handler
2025-05-12 12:26:04,883 - app.services.crew_service - INFO - Quiz generation crew completed successfully with result: {
  "quiz_title": "Cybersecurity Fundamentals for Financial Sector",
  "chapter_count": 4,
  "questi...
2025-05-12 12:26:04,883 - app.services.crew_service - INFO - Quiz generation crew completed successfully
2025-05-12 12:26:04,884 - app.services.crew_service - INFO - Parsing quiz generation crew result
2025-05-12 12:26:04,884 - app.services.crew_service - DEBUG - Result text first 200 chars: {
  "quiz_title": "Cybersecurity Fundamentals for Financial Sector",
  "chapter_count": 4,
  "question_count": 20,
  "complete_quiz": {
    "title": "Cybersecurity Fundamentals for Financial Sector",

2025-05-12 12:26:04,884 - app.services.crew_service - DEBUG - Result text length: 13157
2025-05-12 12:26:04,884 - app.services.crew_service - INFO - Successfully parsed result as direct JSON
2025-05-12 12:26:04,885 - app.services.crew_service - INFO - Found complete quiz in result
2025-05-12 12:26:04,956 - app.services.crew_service - INFO - Successfully inserted quiz with ID: 43
2025-05-12 12:26:05,004 - app.services.crew_service - INFO - Successfully inserted chapter with ID: 98
2025-05-12 12:26:05,052 - app.services.crew_service - DEBUG - Created question 1 in chapter 98
2025-05-12 12:26:05,095 - app.services.crew_service - DEBUG - Created question 2 in chapter 98
2025-05-12 12:26:05,138 - app.services.crew_service - DEBUG - Created question 3 in chapter 98
2025-05-12 12:26:05,181 - app.services.crew_service - DEBUG - Created question 4 in chapter 98
2025-05-12 12:26:05,224 - app.services.crew_service - DEBUG - Created question 5 in chapter 98
2025-05-12 12:26:05,269 - app.services.crew_service - INFO - Successfully inserted chapter with ID: 99
2025-05-12 12:26:05,312 - app.services.crew_service - DEBUG - Created question 1 in chapter 99
2025-05-12 12:26:05,356 - app.services.crew_service - DEBUG - Created question 2 in chapter 99
2025-05-12 12:26:05,517 - app.services.crew_service - DEBUG - Created question 3 in chapter 99
2025-05-12 12:26:05,710 - app.services.crew_service - DEBUG - Created question 4 in chapter 99
2025-05-12 12:26:05,756 - app.services.crew_service - DEBUG - Created question 5 in chapter 99
2025-05-12 12:26:05,909 - app.services.crew_service - INFO - Successfully inserted chapter with ID: 100
2025-05-12 12:26:06,089 - app.services.crew_service - DEBUG - Created question 1 in chapter 100
2025-05-12 12:26:06,252 - app.services.crew_service - DEBUG - Created question 2 in chapter 100
2025-05-12 12:26:06,288 - app.services.crew_service - DEBUG - Created question 3 in chapter 100
2025-05-12 12:26:06,343 - app.services.crew_service - DEBUG - Created question 4 in chapter 100
2025-05-12 12:26:06,387 - app.services.crew_service - DEBUG - Created question 5 in chapter 100
2025-05-12 12:26:06,431 - app.services.crew_service - INFO - Successfully inserted chapter with ID: 101
2025-05-12 12:26:06,475 - app.services.crew_service - DEBUG - Created question 1 in chapter 101
2025-05-12 12:26:06,515 - app.services.crew_service - DEBUG - Created question 2 in chapter 101
2025-05-12 12:26:06,563 - app.services.crew_service - DEBUG - Created question 3 in chapter 101
2025-05-12 12:26:06,607 - app.services.crew_service - DEBUG - Created question 4 in chapter 101
2025-05-12 12:26:06,767 - app.services.crew_service - DEBUG - Created question 5 in chapter 101
2025-05-12 12:26:06,767 - app.routes.agents - INFO - CrewAI quiz generation result: success
2025-05-14 00:43:10,479 - app.routes.agents - INFO - Starting registration process for user banking@example.com
2025-05-14 00:43:10,503 - app.routes.agents - INFO - Using CrewAI for registration process
2025-05-14 00:43:10,503 - app.services.crew_service - INFO - Creating registration crew for user: banking@example.com
2025-05-14 00:43:12,417 - app.services.crew_service - INFO - Starting registration crew workflow
2025-05-14 00:43:12,702 - LiteLLM - INFO - 
LiteLLM completion() model= gpt-4.1-nano; provider = openai
2025-05-14 00:43:15,418 - LiteLLM - INFO - Wrapper: Completed Call, calling success_handler
2025-05-14 00:43:15,587 - LiteLLM - INFO - 
LiteLLM completion() model= gpt-4.1-nano; provider = openai
2025-05-14 00:43:17,655 - LiteLLM - INFO - Wrapper: Completed Call, calling success_handler
2025-05-14 00:43:17,688 - LiteLLM - INFO - 
LiteLLM completion() model= gpt-4.1-nano; provider = openai
2025-05-14 00:43:20,100 - LiteLLM - INFO - Wrapper: Completed Call, calling success_handler
2025-05-14 00:43:20,132 - app.services.crew_service - INFO - Crew result: {
  "topic_priorities": [
    {
      "topic_id": 2,
      "topic_name": "Financial cybersecurity threats",
      "relevance_score": 0.95
    },
    {
      "topic_id": 3,
      "topic_name": "Fraud detection and prevention",
      "relevance_score": 0.90
    },
    {
      "topic_id": 4,
      "topic_name": "Data privacy regulations in banking",
      "relevance_score": 0.88
    },
    {
      "topic_id": 5,
      "topic_name": "Risk management frameworks",
      "relevance_score": 0.85
    },
    {
      "topic_id": 6,
      "topic_name": "Cybersecurity policies for financial institutions",
      "relevance_score": 0.83
    }
  ],
  "sector_threats": [
    "Phishing attacks targeting banking customers",
    "Ransomware attacks on financial institutions",
    "Account takeover frauds",
    "Insider threats and fraud",
    "Data breaches exposing sensitive customer information",
    "Advanced persistent threats (APTs) aimed at financial data",
    "Money laundering facilitated through cyber means"
  ],
  "focus_areas": [
    "Advanced threat detection techniques in banking",
    "Emerging cybersecurity threats in finance",
    "Implementation of security controls and best practices",
    "Incident response and recovery strategies",
    "Regulatory compliance and adaptive security measures"
  ],
  "recommended_topic_id": 2
}
2025-05-14 00:43:20,133 - app.services.crew_service - INFO - Registration crew completed successfully
2025-05-14 00:43:20,135 - app.services.crew_service - INFO - Parsing registration crew result
2025-05-14 00:43:20,137 - app.services.crew_service - INFO - Found JSON in text: dict_keys(['topic_priorities', 'sector_threats', 'focus_areas', 'recommended_topic_id'])
2025-05-14 00:43:20,137 - app.routes.agents - INFO - CrewAI registration result: success
2025-05-14 00:43:20,313 - app.routes.agents - INFO - Using CrewAI to generate quiz for topic: Cybersecurity Fundamentals
2025-05-14 00:43:20,313 - app.services.crew_service - INFO - Creating quiz generation crew for topic: Cybersecurity Fundamentals
2025-05-14 00:43:20,313 - app.services.crew_service - WARNING - No user_id provided in quiz_data, attempting to find a valid user
2025-05-14 00:43:20,369 - app.services.crew_service - INFO - Found valid user_id: 1
2025-05-14 00:43:20,389 - app.services.crew_service - INFO - Starting quiz generation crew workflow
2025-05-14 00:43:20,448 - LiteLLM - INFO - 
LiteLLM completion() model= gpt-4.1-nano; provider = openai
2025-05-14 00:43:35,228 - LiteLLM - INFO - Wrapper: Completed Call, calling success_handler
2025-05-14 00:43:35,264 - LiteLLM - INFO - 
LiteLLM completion() model= gpt-4.1-nano; provider = openai
2025-05-14 00:43:49,421 - LiteLLM - INFO - Wrapper: Completed Call, calling success_handler
2025-05-14 00:43:49,468 - LiteLLM - INFO - 
LiteLLM completion() model= gpt-4.1-nano; provider = openai
2025-05-14 00:44:05,182 - LiteLLM - INFO - Wrapper: Completed Call, calling success_handler
2025-05-14 00:44:05,234 - LiteLLM - INFO - 
LiteLLM completion() model= gpt-4.1-nano; provider = openai
2025-05-14 00:44:25,783 - LiteLLM - INFO - Wrapper: Completed Call, calling success_handler
2025-05-14 00:44:25,812 - app.services.crew_service - INFO - Quiz generation crew completed successfully with result: {
  "quiz_title": "Cybersecurity Fundamentals",
  "chapter_count": 4,
  "question_count": 20,
  "com...
2025-05-14 00:44:25,812 - app.services.crew_service - INFO - Quiz generation crew completed successfully
2025-05-14 00:44:25,812 - app.services.crew_service - INFO - Parsing quiz generation crew result
2025-05-14 00:44:25,812 - app.services.crew_service - DEBUG - Result text first 200 chars: {
  "quiz_title": "Cybersecurity Fundamentals",
  "chapter_count": 4,
  "question_count": 20,
  "complete_quiz": {
    "title": "Cybersecurity Fundamentals",
    "description": "A comprehensive quiz d
2025-05-14 00:44:25,812 - app.services.crew_service - DEBUG - Result text length: 12714
2025-05-14 00:44:25,812 - app.services.crew_service - INFO - Successfully parsed result as direct JSON
2025-05-14 00:44:25,812 - app.services.crew_service - INFO - Found complete quiz in result
2025-05-14 00:44:25,998 - app.services.crew_service - INFO - Successfully inserted quiz with ID: 44
2025-05-14 00:44:26,148 - app.services.crew_service - INFO - Successfully inserted chapter with ID: 102
2025-05-14 00:44:26,318 - app.services.crew_service - DEBUG - Created question 1 in chapter 102
2025-05-14 00:44:26,485 - app.services.crew_service - DEBUG - Created question 2 in chapter 102
2025-05-14 00:44:26,525 - app.services.crew_service - DEBUG - Created question 3 in chapter 102
2025-05-14 00:44:26,572 - app.services.crew_service - DEBUG - Created question 4 in chapter 102
2025-05-14 00:44:26,624 - app.services.crew_service - DEBUG - Created question 5 in chapter 102
2025-05-14 00:44:26,672 - app.services.crew_service - INFO - Successfully inserted chapter with ID: 103
2025-05-14 00:44:26,704 - app.services.crew_service - DEBUG - Created question 1 in chapter 103
2025-05-14 00:44:26,751 - app.services.crew_service - DEBUG - Created question 2 in chapter 103
2025-05-14 00:44:26,799 - app.services.crew_service - DEBUG - Created question 3 in chapter 103
2025-05-14 00:44:26,978 - app.services.crew_service - DEBUG - Created question 4 in chapter 103
2025-05-14 00:44:27,024 - app.services.crew_service - DEBUG - Created question 5 in chapter 103
2025-05-14 00:44:27,219 - app.services.crew_service - INFO - Successfully inserted chapter with ID: 104
2025-05-14 00:44:27,392 - app.services.crew_service - DEBUG - Created question 1 in chapter 104
2025-05-14 00:44:27,557 - app.services.crew_service - DEBUG - Created question 2 in chapter 104
2025-05-14 00:44:27,594 - app.services.crew_service - DEBUG - Created question 3 in chapter 104
2025-05-14 00:44:27,644 - app.services.crew_service - DEBUG - Created question 4 in chapter 104
2025-05-14 00:44:27,825 - app.services.crew_service - DEBUG - Created question 5 in chapter 104
2025-05-14 00:44:27,864 - app.services.crew_service - INFO - Successfully inserted chapter with ID: 105
2025-05-14 00:44:27,912 - app.services.crew_service - DEBUG - Created question 1 in chapter 105
2025-05-14 00:44:28,071 - app.services.crew_service - DEBUG - Created question 2 in chapter 105
2025-05-14 00:44:28,231 - app.services.crew_service - DEBUG - Created question 3 in chapter 105
2025-05-14 00:44:28,400 - app.services.crew_service - DEBUG - Created question 4 in chapter 105
2025-05-14 00:44:28,555 - app.services.crew_service - DEBUG - Created question 5 in chapter 105
2025-05-14 00:44:28,555 - app.routes.agents - INFO - CrewAI quiz generation result: success
2025-05-14 02:38:19,273 - app.routes.agents - INFO - Starting registration process for user finance@example.com
2025-05-14 02:38:19,292 - app.routes.agents - INFO - Using CrewAI for registration process
2025-05-14 02:38:19,292 - app.services.crew_service - INFO - Creating registration crew for user: finance@example.com
2025-05-14 02:38:19,395 - app.services.crew_service - INFO - Starting registration crew workflow
2025-05-14 02:38:19,464 - LiteLLM - INFO - 
LiteLLM completion() model= gpt-4.1-nano; provider = openai
2025-05-14 02:38:21,857 - LiteLLM - INFO - Wrapper: Completed Call, calling success_handler
2025-05-14 02:38:21,890 - LiteLLM - INFO - 
LiteLLM completion() model= gpt-4.1-nano; provider = openai
2025-05-14 02:38:23,973 - LiteLLM - INFO - Wrapper: Completed Call, calling success_handler
2025-05-14 02:38:24,015 - LiteLLM - INFO - 
LiteLLM completion() model= gpt-4.1-nano; provider = openai
2025-05-14 02:38:26,390 - LiteLLM - INFO - Wrapper: Completed Call, calling success_handler
2025-05-14 02:38:26,414 - app.services.crew_service - INFO - Crew result: {
  "topic_priorities": [
    {
      "topic_id": 1,
      "topic_name": "Financial Sector Regulations and Compliance",
      "relevance_score": 0.95
    },
    {
      "topic_id": 2,
      "topic_name": "Fraud Detection and Prevention Techniques",
      "relevance_score": 0.92
    },
    {
      "topic_id": 3,
      "topic_name": "Cybersecurity Measures in Financial Services",
      "relevance_score": 0.89
    },
    {
      "topic_id": 4,
      "topic_name": "Data Analysis and Forensics in Finance",
      "relevance_score": 0.87
    },
    {
      "topic_id": 5,
      "topic_name": "Emerging Threats in Financial Cybersecurity",
      "relevance_score": 0.84
    }
  ],
  "sector_threats": [
    "Investment fraud and insider trading",
    "Phishing attacks targeting financial data",
    "Money laundering facilitated through digital channels",
    "Cyber heists and unauthorized access to banking systems",
    "Advanced persistent threats (APTs) aimed at financial institutions"
  ],
  "focus_areas": [
    "Advanced investment fraud detection methods",
    "Cybersecurity strategies for protecting financial transactions",
    "Legal and regulatory frameworks for financial cybersecurity",
    "Machine learning applications in fraud detection",
    "Forensic techniques for financial data analysis"
  ],
  "recommended_topic_id": 1
}
2025-05-14 02:38:26,414 - app.services.crew_service - INFO - Registration crew completed successfully
2025-05-14 02:38:26,414 - app.services.crew_service - INFO - Parsing registration crew result
2025-05-14 02:38:26,414 - app.services.crew_service - INFO - Found JSON in text: dict_keys(['topic_priorities', 'sector_threats', 'focus_areas', 'recommended_topic_id'])
2025-05-14 02:38:26,414 - app.routes.agents - INFO - CrewAI registration result: success
2025-05-14 02:38:26,618 - app.routes.agents - INFO - Using CrewAI to generate quiz for topic: Cybersecurity Fundamentals
2025-05-14 02:38:26,618 - app.services.crew_service - INFO - Creating quiz generation crew for topic: Cybersecurity Fundamentals
2025-05-14 02:38:26,618 - app.services.crew_service - WARNING - No user_id provided in quiz_data, attempting to find a valid user
2025-05-14 02:38:26,665 - app.services.crew_service - INFO - Found valid user_id: 1
2025-05-14 02:38:26,673 - app.services.crew_service - INFO - Starting quiz generation crew workflow
2025-05-14 02:38:26,690 - LiteLLM - INFO - 
LiteLLM completion() model= gpt-4.1-nano; provider = openai
2025-05-14 02:38:37,357 - LiteLLM - INFO - Wrapper: Completed Call, calling success_handler
2025-05-14 02:38:37,373 - LiteLLM - INFO - 
LiteLLM completion() model= gpt-4.1-nano; provider = openai
2025-05-14 02:38:47,247 - LiteLLM - INFO - Wrapper: Completed Call, calling success_handler
2025-05-14 02:38:47,298 - LiteLLM - INFO - 
LiteLLM completion() model= gpt-4.1-nano; provider = openai
2025-05-14 02:38:59,569 - LiteLLM - INFO - Wrapper: Completed Call, calling success_handler
2025-05-14 02:38:59,607 - LiteLLM - INFO - 
LiteLLM completion() model= gpt-4.1-nano; provider = openai
2025-05-14 02:39:13,330 - LiteLLM - INFO - Wrapper: Completed Call, calling success_handler
2025-05-14 02:39:13,363 - app.services.crew_service - INFO - Quiz generation crew completed successfully with result: {
  "quiz_title": "Cybersecurity Fundamentals for Financial Transactions",
  "chapter_count": 4,
  "...
2025-05-14 02:39:13,364 - app.services.crew_service - INFO - Quiz generation crew completed successfully
2025-05-14 02:39:13,364 - app.services.crew_service - INFO - Parsing quiz generation crew result
2025-05-14 02:39:13,364 - app.services.crew_service - DEBUG - Result text first 200 chars: {
  "quiz_title": "Cybersecurity Fundamentals for Financial Transactions",
  "chapter_count": 4,
  "question_count": 20,
  "complete_quiz": {
    "title": "Cybersecurity Fundamentals for Financial Tra
2025-05-14 02:39:13,367 - app.services.crew_service - DEBUG - Result text length: 12709
2025-05-14 02:39:13,367 - app.services.crew_service - INFO - Successfully parsed result as direct JSON
2025-05-14 02:39:13,367 - app.services.crew_service - INFO - Found complete quiz in result
2025-05-14 02:39:13,446 - app.services.crew_service - INFO - Successfully inserted quiz with ID: 45
2025-05-14 02:39:13,506 - app.services.crew_service - INFO - Successfully inserted chapter with ID: 106
2025-05-14 02:39:13,556 - app.services.crew_service - DEBUG - Created question 1 in chapter 106
2025-05-14 02:39:13,717 - app.services.crew_service - DEBUG - Created question 2 in chapter 106
2025-05-14 02:39:13,780 - app.services.crew_service - DEBUG - Created question 3 in chapter 106
2025-05-14 02:39:13,834 - app.services.crew_service - DEBUG - Created question 4 in chapter 106
2025-05-14 02:39:13,880 - app.services.crew_service - DEBUG - Created question 5 in chapter 106
2025-05-14 02:39:13,937 - app.services.crew_service - INFO - Successfully inserted chapter with ID: 107
2025-05-14 02:39:13,987 - app.services.crew_service - DEBUG - Created question 1 in chapter 107
2025-05-14 02:39:14,064 - app.services.crew_service - DEBUG - Created question 2 in chapter 107
2025-05-14 02:39:14,211 - app.services.crew_service - DEBUG - Created question 3 in chapter 107
2025-05-14 02:39:14,272 - app.services.crew_service - DEBUG - Created question 4 in chapter 107
2025-05-14 02:39:14,323 - app.services.crew_service - DEBUG - Created question 5 in chapter 107
2025-05-14 02:39:14,373 - app.services.crew_service - INFO - Successfully inserted chapter with ID: 108
2025-05-14 02:39:14,423 - app.services.crew_service - DEBUG - Created question 1 in chapter 108
2025-05-14 02:39:14,491 - app.services.crew_service - DEBUG - Created question 2 in chapter 108
2025-05-14 02:39:14,551 - app.services.crew_service - DEBUG - Created question 3 in chapter 108
2025-05-14 02:39:14,717 - app.services.crew_service - DEBUG - Created question 4 in chapter 108
2025-05-14 02:39:14,876 - app.services.crew_service - DEBUG - Created question 5 in chapter 108
2025-05-14 02:39:14,939 - app.services.crew_service - INFO - Successfully inserted chapter with ID: 109
2025-05-14 02:39:15,100 - app.services.crew_service - DEBUG - Created question 1 in chapter 109
2025-05-14 02:39:15,279 - app.services.crew_service - DEBUG - Created question 2 in chapter 109
2025-05-14 02:39:15,355 - app.services.crew_service - DEBUG - Created question 3 in chapter 109
2025-05-14 02:39:15,423 - app.services.crew_service - DEBUG - Created question 4 in chapter 109
2025-05-14 02:39:15,488 - app.services.crew_service - DEBUG - Created question 5 in chapter 109
2025-05-14 02:39:15,488 - app.routes.agents - INFO - CrewAI quiz generation result: success
