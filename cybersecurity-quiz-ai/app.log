2025-05-08 20:02:14,120 - app.routes.agents - INFO - Starting registration process for user banking@example.com
2025-05-08 20:02:14,121 - app.routes.agents - INFO - Using CrewAI for registration process
2025-05-08 20:02:14,121 - app.services.crew_service - INFO - Creating registration crew for user: banking@example.com
2025-05-08 20:02:14,154 - app.services.crew_service - INFO - Starting registration crew workflow
2025-05-08 20:02:14,179 - LiteLLM - INFO - 
LiteLLM completion() model= gpt-4.1-mini; provider = openai
2025-05-08 20:02:16,863 - LiteLLM - INFO - Wrapper: Completed Call, calling success_handler
2025-05-08 20:02:16,889 - LiteLLM - INFO - 
LiteLLM completion() model= gpt-4.1-mini; provider = openai
2025-05-08 20:02:24,751 - LiteLLM - INFO - Wrapper: Completed Call, calling success_handler
2025-05-08 20:02:24,775 - LiteLLM - INFO - 
LiteLLM completion() model= gpt-4.1-mini; provider = openai
2025-05-08 20:02:34,590 - LiteLLM - INFO - Wrapper: Completed Call, calling success_handler
2025-05-08 20:02:34,614 - app.services.crew_service - INFO - Crew result: {
  "topic_priorities": [
    {
      "topic_id": 7,
      "topic_name": "Financial Cybersecurity Threats and Risk Management",
      "relevance_score": 9.8
    },
    {
      "topic_id": 12,
      "topic_name": "Regulatory Compliance in Financial Sector (PCI DSS, FFIEC, SOX)",
      "relevance_score": 9.5
    },
    {
      "topic_id": 15,
      "topic_name": "Fraud Detection and Prevention Technologies",
      "relevance_score": 9.3
    },
    {
      "topic_id": 18,
      "topic_name": "Incident Response and Threat Intelligence for Financial Institutions",
      "relevance_score": 9.0
    },
    {
      "topic_id": 21,
      "topic_name": "Data Protection and Encryption Techniques in Banking",
      "relevance_score": 8.7
    }
  ],
  "sector_threats": {
    "Financial Sector": [
      "Advanced persistent threats (APTs) targeting banking infrastructure",
      "Ransomware attacks specifically designed to disrupt financial operations",
      "Phishing and spear-phishing campaigns targeting bank employees and customers",
      "Insider threats including fraudulent activities and data exfiltration",
      "Regulatory compliance violations leading to legal and financial penalties",
      "Credential theft and identity fraud affecting financial accounts",
      "Exploitation of vulnerabilities in financial software and mobile banking apps"
    ]
  },
  "focus_areas": [
    "Advanced threat detection methods for financial malware and phishing",
    "Ransomware and insider threat mitigation strategies in banking",
    "Compliance and regulatory frameworks relevant to financial cybersecurity",
    "Incident response and business continuity planning specific to financial services",
    "Utilizing threat intelligence sharing platforms in the financial sector"
  ],
  "recommended_topic_id": 7
}
2025-05-08 20:02:34,614 - app.services.crew_service - INFO - Registration crew completed successfully
2025-05-08 20:02:34,615 - app.services.crew_service - INFO - Parsing registration crew result
2025-05-08 20:02:34,615 - app.services.crew_service - INFO - Found JSON in text: dict_keys(['topic_priorities', 'sector_threats', 'focus_areas', 'recommended_topic_id'])
2025-05-08 20:02:34,615 - app.routes.agents - INFO - CrewAI registration result: success
2025-05-08 20:02:34,674 - app.routes.agents - INFO - Using CrewAI to generate quiz for topic: Cybersecurity Fundamentals
2025-05-08 20:02:34,675 - app.services.crew_service - INFO - Creating quiz generation crew for topic: Cybersecurity Fundamentals
2025-05-08 20:02:34,675 - app.services.crew_service - WARNING - No user_id provided in quiz_data, attempting to find a valid user
2025-05-08 20:02:34,718 - app.services.crew_service - INFO - Found valid user_id: 1
2025-05-08 20:02:34,727 - app.services.crew_service - INFO - Starting quiz generation crew workflow
2025-05-08 20:02:34,742 - LiteLLM - INFO - 
LiteLLM completion() model= gpt-4.1-mini; provider = openai
2025-05-08 20:03:12,597 - LiteLLM - INFO - Wrapper: Completed Call, calling success_handler
2025-05-08 20:03:12,632 - LiteLLM - INFO - 
LiteLLM completion() model= gpt-4.1-mini; provider = openai
2025-05-08 20:04:17,597 - LiteLLM - INFO - Wrapper: Completed Call, calling success_handler
2025-05-08 20:04:17,623 - LiteLLM - INFO - 
LiteLLM completion() model= gpt-4.1-mini; provider = openai
2025-05-08 20:05:09,112 - LiteLLM - INFO - Wrapper: Completed Call, calling success_handler
2025-05-08 20:05:09,137 - app.services.crew_service - INFO - Quiz generation crew completed successfully with result: {
  "quiz_title": "Cybersecurity Fundamentals in Financial Sector",
  "chapter_count": 4,
  "questio...
2025-05-08 20:05:09,138 - app.services.crew_service - INFO - Quiz generation crew completed successfully
2025-05-08 20:05:09,139 - app.services.crew_service - INFO - Parsing quiz generation crew result
2025-05-08 20:05:09,139 - app.services.crew_service - DEBUG - Result text first 200 chars: {
  "quiz_title": "Cybersecurity Fundamentals in Financial Sector",
  "chapter_count": 4,
  "question_count": 20,
  "complete_quiz": {
    "title": "Cybersecurity Fundamentals in Financial Sector",
  
2025-05-08 20:05:09,139 - app.services.crew_service - DEBUG - Result text length: 14450
2025-05-08 20:05:09,139 - app.services.crew_service - INFO - Successfully parsed result as direct JSON
2025-05-08 20:05:09,140 - app.services.crew_service - INFO - Found complete_quiz field in result
2025-05-08 20:05:09,140 - app.services.crew_service - INFO - Found valid complete quiz with title: Cybersecurity Fundamentals in Financial Sector
2025-05-08 20:05:09,140 - app.services.crew_service - INFO - Saving complete quiz with chapters and questions
2025-05-08 20:05:09,217 - app.services.crew_service - INFO - Created quiz with ID: 18
2025-05-08 20:05:09,272 - app.services.crew_service - INFO - Created chapter with ID: 9
2025-05-08 20:05:09,329 - app.services.crew_service - DEBUG - Created question 1 in chapter 1
2025-05-08 20:05:09,375 - app.services.db_service - ERROR - Error executing query: invalid input syntax for type json
LINE 5: ...ds are compromised.', '["True", "False"]'::jsonb, 'True', 'M...
                                                             ^
DETAIL:  Token "True" is invalid.
CONTEXT:  JSON data, line 1: True

2025-05-08 20:05:09,375 - app.services.crew_service - DEBUG - Created question 2 in chapter 1
2025-05-08 20:05:09,519 - app.services.db_service - ERROR - Error executing query: invalid input syntax for type json
LINE 5: ...rized access is called __________.', '[]'::jsonb, 'encryptio...
                                                             ^
DETAIL:  Token "encryption" is invalid.
CONTEXT:  JSON data, line 1: encryption

2025-05-08 20:05:09,519 - app.services.crew_service - DEBUG - Created question 3 in chapter 1
2025-05-08 20:05:09,567 - app.services.crew_service - DEBUG - Created question 4 in chapter 1
2025-05-08 20:05:09,610 - app.services.db_service - ERROR - Error executing query: invalid input syntax for type json
LINE 5: ...tware is installed.', '["True", "False"]'::jsonb, 'False', '...
                                                             ^
DETAIL:  Token "False" is invalid.
CONTEXT:  JSON data, line 1: False

2025-05-08 20:05:09,611 - app.services.crew_service - DEBUG - Created question 5 in chapter 1
2025-05-08 20:05:09,654 - app.services.crew_service - INFO - Created chapter with ID: 10
2025-05-08 20:05:09,697 - app.services.crew_service - DEBUG - Created question 1 in chapter 2
2025-05-08 20:05:09,738 - app.services.db_service - ERROR - Error executing query: invalid input syntax for type json
LINE 5: ...onal and malicious.', '["True", "False"]'::jsonb, 'False', '...
                                                             ^
DETAIL:  Token "False" is invalid.
CONTEXT:  JSON data, line 1: False

2025-05-08 20:05:09,739 - app.services.crew_service - DEBUG - Created question 2 in chapter 2
2025-05-08 20:05:09,781 - app.services.db_service - ERROR - Error executing query: invalid input syntax for type json
LINE 5: ...unauthorized access to an account.', '[]'::jsonb, 'brute for...
                                                             ^
DETAIL:  Token "brute" is invalid.
CONTEXT:  JSON data, line 1: brute...

2025-05-08 20:05:09,781 - app.services.crew_service - DEBUG - Created question 3 in chapter 2
2025-05-08 20:05:09,826 - app.services.crew_service - DEBUG - Created question 4 in chapter 2
2025-05-08 20:05:09,865 - app.services.db_service - ERROR - Error executing query: invalid input syntax for type json
LINE 5: ...ybersecurity risks.', '["True", "False"]'::jsonb, 'True', 'P...
                                                             ^
DETAIL:  Token "True" is invalid.
CONTEXT:  JSON data, line 1: True

2025-05-08 20:05:09,866 - app.services.crew_service - DEBUG - Created question 5 in chapter 2
2025-05-08 20:05:09,910 - app.services.crew_service - INFO - Created chapter with ID: 11
2025-05-08 20:05:10,066 - app.services.crew_service - DEBUG - Created question 1 in chapter 3
2025-05-08 20:05:10,112 - app.services.db_service - ERROR - Error executing query: invalid input syntax for type json
LINE 5: ...s control policies.', '["True", "False"]'::jsonb, 'True', 'C...
                                                             ^
DETAIL:  Token "True" is invalid.
CONTEXT:  JSON data, line 1: True

2025-05-08 20:05:10,112 - app.services.crew_service - DEBUG - Created question 2 in chapter 3
2025-05-08 20:05:10,156 - app.services.db_service - ERROR - Error executing query: invalid input syntax for type json
LINE 5: ...ts is known as __________ sharing.', '[]'::jsonb, 'threat in...
                                                             ^
DETAIL:  Token "threat" is invalid.
CONTEXT:  JSON data, line 1: threat...

2025-05-08 20:05:10,157 - app.services.crew_service - DEBUG - Created question 3 in chapter 3
2025-05-08 20:05:10,205 - app.services.crew_service - DEBUG - Created question 4 in chapter 3
2025-05-08 20:05:10,246 - app.services.db_service - ERROR - Error executing query: invalid input syntax for type json
LINE 5: ...awareness training.', '["True", "False"]'::jsonb, 'True', 'R...
                                                             ^
DETAIL:  Token "True" is invalid.
CONTEXT:  JSON data, line 1: True

2025-05-08 20:05:10,246 - app.services.crew_service - DEBUG - Created question 5 in chapter 3
2025-05-08 20:05:10,414 - app.services.crew_service - INFO - Created chapter with ID: 12
2025-05-08 20:05:10,461 - app.services.crew_service - DEBUG - Created question 1 in chapter 4
2025-05-08 20:05:10,618 - app.services.db_service - ERROR - Error executing query: invalid input syntax for type json
LINE 5: ...ransomware attacks.', '["True", "False"]'::jsonb, 'True', 'B...
                                                             ^
DETAIL:  Token "True" is invalid.
CONTEXT:  JSON data, line 1: True

2025-05-08 20:05:10,619 - app.services.crew_service - DEBUG - Created question 2 in chapter 4
2025-05-08 20:05:10,766 - app.services.db_service - ERROR - Error executing query: invalid input syntax for type json
LINE 5: ...ta to improve collective security.', '[]'::jsonb, 'threat in...
                                                             ^
DETAIL:  Token "threat" is invalid.
CONTEXT:  JSON data, line 1: threat...

2025-05-08 20:05:10,766 - app.services.crew_service - DEBUG - Created question 3 in chapter 4
2025-05-08 20:05:10,817 - app.services.crew_service - DEBUG - Created question 4 in chapter 4
2025-05-08 20:05:10,872 - app.services.db_service - ERROR - Error executing query: invalid input syntax for type json
LINE 5: ...ve behavior safely.', '["True", "False"]'::jsonb, 'True', 'S...
                                                             ^
DETAIL:  Token "True" is invalid.
CONTEXT:  JSON data, line 1: True

2025-05-08 20:05:10,873 - app.services.crew_service - DEBUG - Created question 5 in chapter 4
2025-05-08 20:05:10,873 - app.routes.agents - INFO - CrewAI quiz generation result: success
2025-05-08 20:08:34,309 - app.routes.agents - INFO - Starting registration process for user banking@example.com
2025-05-08 20:08:34,309 - app.routes.agents - INFO - Using CrewAI for registration process
2025-05-08 20:08:34,309 - app.services.crew_service - INFO - Creating registration crew for user: banking@example.com
2025-05-08 20:08:34,317 - app.services.crew_service - INFO - Starting registration crew workflow
2025-05-08 20:08:34,337 - LiteLLM - INFO - 
LiteLLM completion() model= gpt-4.1-mini; provider = openai
2025-05-08 20:08:37,566 - LiteLLM - INFO - Wrapper: Completed Call, calling success_handler
2025-05-08 20:08:37,591 - LiteLLM - INFO - 
LiteLLM completion() model= gpt-4.1-mini; provider = openai
2025-05-08 20:08:47,632 - LiteLLM - INFO - Wrapper: Completed Call, calling success_handler
2025-05-08 20:08:47,658 - LiteLLM - INFO - 
LiteLLM completion() model= gpt-4.1-mini; provider = openai
2025-05-08 20:08:58,693 - LiteLLM - INFO - Wrapper: Completed Call, calling success_handler
2025-05-08 20:08:58,710 - app.services.crew_service - INFO - Crew result: {
  "topic_priorities": [
    {
      "topic_id": 8,
      "topic_name": "Advanced Financial Cybersecurity Threats",
      "relevance_score": 9.8
    },
    {
      "topic_id": 12,
      "topic_name": "Regulatory Compliance and Security Controls",
      "relevance_score": 9.5
    },
    {
      "topic_id": 15,
      "topic_name": "Incident Response Strategies for Financial Sector",
      "relevance_score": 9.3
    },
    {
      "topic_id": 10,
      "topic_name": "Advanced Network Security for Banking",
      "relevance_score": 9.0
    },
    {
      "topic_id": 14,
      "topic_name": "Threat Intelligence and Fraud Prevention",
      "relevance_score": 8.9
    }
  ],
  "sector_threats": {
    "Financial Sector": [
      "Business Email Compromise (BEC) targeting financial institutions",
      "Ransomware attacks affecting banking operations",
      "Advanced Persistent Threats (APTs) aimed at stealing financial data",
      "Insider threats and fraudulent activities within banking systems",
      "Phishing and spear-phishing campaigns targeting bank employees",
      "Exploitation of vulnerabilities in banking applications and APIs",
      "Regulatory non-compliance risks leading to financial penalties",
      "Supply chain attacks compromising banking software and services"
    ]
  },
  "focus_areas": [
    "Emerging financial cyber threats and attack vectors",
    "Advanced threat hunting and mitigation techniques",
    "Regulatory updates and compliance best practices",
    "Incident response tailored to financial breaches",
    "Security automation and orchestration in banking environments"
  ],
  "recommended_topic_id": 8
}
2025-05-08 20:08:58,711 - app.services.crew_service - INFO - Registration crew completed successfully
2025-05-08 20:08:58,711 - app.services.crew_service - INFO - Parsing registration crew result
2025-05-08 20:08:58,711 - app.services.crew_service - INFO - Found JSON in text: dict_keys(['topic_priorities', 'sector_threats', 'focus_areas', 'recommended_topic_id'])
2025-05-08 20:08:58,711 - app.routes.agents - INFO - CrewAI registration result: success
2025-05-08 20:08:58,767 - app.routes.agents - INFO - Using CrewAI to generate quiz for topic: Cybersecurity Fundamentals
2025-05-08 20:08:58,767 - app.services.crew_service - INFO - Creating quiz generation crew for topic: Cybersecurity Fundamentals
2025-05-08 20:08:58,768 - app.services.crew_service - WARNING - No user_id provided in quiz_data, attempting to find a valid user
2025-05-08 20:08:58,815 - app.services.crew_service - INFO - Found valid user_id: 1
2025-05-08 20:08:58,852 - app.services.crew_service - INFO - Starting quiz generation crew workflow
2025-05-08 20:08:58,881 - LiteLLM - INFO - 
LiteLLM completion() model= gpt-4.1-mini; provider = openai
2025-05-08 20:09:48,890 - LiteLLM - INFO - Wrapper: Completed Call, calling success_handler
2025-05-08 20:09:48,927 - LiteLLM - INFO - 
LiteLLM completion() model= gpt-4.1-mini; provider = openai
2025-05-08 20:10:45,175 - LiteLLM - INFO - Wrapper: Completed Call, calling success_handler
2025-05-08 20:10:45,213 - LiteLLM - INFO - 
LiteLLM completion() model= gpt-4.1-mini; provider = openai
2025-05-08 20:11:32,275 - LiteLLM - INFO - Wrapper: Completed Call, calling success_handler
2025-05-08 20:11:32,310 - app.services.crew_service - INFO - Quiz generation crew completed successfully with result: {
  "quiz_title": "Cybersecurity Fundamentals: Emerging Financial Threats and Advanced Mitigation",
...
2025-05-08 20:11:32,310 - app.services.crew_service - INFO - Quiz generation crew completed successfully
2025-05-08 20:11:32,311 - app.services.crew_service - INFO - Parsing quiz generation crew result
2025-05-08 20:11:32,311 - app.services.crew_service - DEBUG - Result text first 200 chars: {
  "quiz_title": "Cybersecurity Fundamentals: Emerging Financial Threats and Advanced Mitigation",
  "chapter_count": 4,
  "question_count": 20,
  "complete_quiz": {
    "title": "Cybersecurity Funda
2025-05-08 20:11:32,311 - app.services.crew_service - DEBUG - Result text length: 14347
2025-05-08 20:11:32,311 - app.services.crew_service - INFO - Successfully parsed result as direct JSON
2025-05-08 20:11:32,311 - app.services.crew_service - INFO - Found complete_quiz field in result
2025-05-08 20:11:32,311 - app.services.crew_service - INFO - Found valid complete quiz with title: Cybersecurity Fundamentals: Emerging Financial Threats and Advanced Mitigation
2025-05-08 20:11:32,311 - app.services.crew_service - INFO - Saving complete quiz with chapters and questions
2025-05-08 20:11:32,362 - app.services.crew_service - INFO - Created quiz with ID: 19
2025-05-08 20:11:32,526 - app.services.crew_service - INFO - Created chapter with ID: 13
2025-05-08 20:11:32,574 - app.services.crew_service - DEBUG - Created question 1 in chapter 1
2025-05-08 20:11:32,619 - app.services.crew_service - DEBUG - Created question 2 in chapter 1
2025-05-08 20:11:32,663 - app.services.crew_service - DEBUG - Created question 3 in chapter 1
2025-05-08 20:11:32,708 - app.services.crew_service - DEBUG - Created question 4 in chapter 1
2025-05-08 20:11:32,752 - app.services.crew_service - DEBUG - Created question 5 in chapter 1
2025-05-08 20:11:32,924 - app.services.crew_service - INFO - Created chapter with ID: 14
2025-05-08 20:11:33,075 - app.services.crew_service - DEBUG - Created question 1 in chapter 2
2025-05-08 20:11:33,124 - app.services.crew_service - DEBUG - Created question 2 in chapter 2
2025-05-08 20:11:33,288 - app.services.crew_service - DEBUG - Created question 3 in chapter 2
2025-05-08 20:11:33,469 - app.services.crew_service - DEBUG - Created question 4 in chapter 2
2025-05-08 20:11:33,513 - app.services.crew_service - DEBUG - Created question 5 in chapter 2
2025-05-08 20:11:33,689 - app.services.crew_service - INFO - Created chapter with ID: 15
2025-05-08 20:11:33,733 - app.services.crew_service - DEBUG - Created question 1 in chapter 3
2025-05-08 20:11:33,777 - app.services.crew_service - DEBUG - Created question 2 in chapter 3
2025-05-08 20:11:33,953 - app.services.crew_service - DEBUG - Created question 3 in chapter 3
2025-05-08 20:11:33,999 - app.services.crew_service - DEBUG - Created question 4 in chapter 3
2025-05-08 20:11:34,175 - app.services.crew_service - DEBUG - Created question 5 in chapter 3
2025-05-08 20:11:34,361 - app.services.crew_service - INFO - Created chapter with ID: 16
2025-05-08 20:11:34,534 - app.services.crew_service - DEBUG - Created question 1 in chapter 4
2025-05-08 20:11:34,583 - app.services.crew_service - DEBUG - Created question 2 in chapter 4
2025-05-08 20:11:34,626 - app.services.crew_service - DEBUG - Created question 3 in chapter 4
2025-05-08 20:11:34,670 - app.services.crew_service - DEBUG - Created question 4 in chapter 4
2025-05-08 20:11:34,713 - app.services.crew_service - DEBUG - Created question 5 in chapter 4
2025-05-08 20:11:34,714 - app.routes.agents - INFO - CrewAI quiz generation result: success
2025-05-08 20:15:22,688 - app.routes.agents - INFO - Starting registration process for user banking@example.com
2025-05-08 20:15:22,689 - app.routes.agents - INFO - Using CrewAI for registration process
2025-05-08 20:15:22,689 - app.services.crew_service - INFO - Creating registration crew for user: banking@example.com
2025-05-08 20:15:22,697 - app.services.crew_service - INFO - Starting registration crew workflow
2025-05-08 20:15:22,718 - LiteLLM - INFO - 
LiteLLM completion() model= gpt-4.1-mini; provider = openai
2025-05-08 20:15:24,874 - LiteLLM - INFO - Wrapper: Completed Call, calling success_handler
2025-05-08 20:15:24,905 - LiteLLM - INFO - 
LiteLLM completion() model= gpt-4.1-mini; provider = openai
2025-05-08 20:15:31,406 - LiteLLM - INFO - Wrapper: Completed Call, calling success_handler
2025-05-08 20:15:31,429 - LiteLLM - INFO - 
LiteLLM completion() model= gpt-4.1-mini; provider = openai
2025-05-08 20:15:37,953 - LiteLLM - INFO - Wrapper: Completed Call, calling success_handler
2025-05-08 20:15:37,976 - app.services.crew_service - INFO - Crew result: {
  "topic_priorities": [
    {
      "topic_id": 14,
      "topic_name": "Financial cybersecurity threats and mitigation",
      "relevance_score": 9.8
    },
    {
      "topic_id": 21,
      "topic_name": "Regulatory compliance for financial institutions (PCI-DSS, SOX, GDPR)",
      "relevance_score": 9.5
    },
    {
      "topic_id": 35,
      "topic_name": "Fraud detection and prevention techniques",
      "relevance_score": 9.3
    },
    {
      "topic_id": 42,
      "topic_name": "Incident response and forensic analysis in financial sector",
      "relevance_score": 9.1
    },
    {
      "topic_id": 50,
      "topic_name": "Network security specific to banking infrastructure",
      "relevance_score": 8.9
    }
  ],
  "sector_threats": {
    "Financial Sector": [
      "Ransomware targeting banking institutions to disrupt services and demand payment",
      "Advanced Persistent Threats (APTs) focused on stealing financial data and credentials",
      "Phishing and social engineering attacks targeting bank employees and customers",
      "Insider threats including fraud and unauthorized data access",
      "Regulatory compliance violations leading to fines and reputational damage",
      "Supply chain attacks compromising third-party financial software providers",
      "Distributed Denial of Service (DDoS) attacks disrupting online banking platforms",
      "Cryptojacking and malware exploiting banking infrastructure"
    ]
  },
  "focus_areas": [
    "Emerging financial cyber threats such as ransomware and APTs targeting banks",
    "Advanced incident response strategies tailored to financial sector incidents",
    "Regulatory compliance updates and evolving financial cybersecurity regulations",
    "Threat intelligence and real-time monitoring to detect sophisticated attacks",
    "User awareness training focused on social engineering and phishing in banking"
  ],
  "recommended_topic_id": 14
}
2025-05-08 20:15:37,976 - app.services.crew_service - INFO - Registration crew completed successfully
2025-05-08 20:15:37,977 - app.services.crew_service - INFO - Parsing registration crew result
2025-05-08 20:15:37,978 - app.services.crew_service - INFO - Found JSON in text: dict_keys(['topic_priorities', 'sector_threats', 'focus_areas', 'recommended_topic_id'])
2025-05-08 20:15:37,978 - app.routes.agents - INFO - CrewAI registration result: success
2025-05-08 20:15:38,023 - app.routes.agents - INFO - Using CrewAI to generate quiz for topic: Cybersecurity Fundamentals
2025-05-08 20:15:38,023 - app.services.crew_service - INFO - Creating quiz generation crew for topic: Cybersecurity Fundamentals
2025-05-08 20:15:38,023 - app.services.crew_service - WARNING - No user_id provided in quiz_data, attempting to find a valid user
2025-05-08 20:15:38,070 - app.services.crew_service - INFO - Found valid user_id: 1
2025-05-08 20:15:38,078 - app.services.crew_service - INFO - Starting quiz generation crew workflow
2025-05-08 20:15:38,094 - LiteLLM - INFO - 
LiteLLM completion() model= gpt-4.1-mini; provider = openai
2025-05-08 20:16:27,357 - LiteLLM - INFO - Wrapper: Completed Call, calling success_handler
2025-05-08 20:16:27,381 - LiteLLM - INFO - 
LiteLLM completion() model= gpt-4.1-mini; provider = openai
2025-05-08 20:17:52,111 - LiteLLM - INFO - Wrapper: Completed Call, calling success_handler
2025-05-08 20:17:52,144 - LiteLLM - INFO - 
LiteLLM completion() model= gpt-4.1-mini; provider = openai
2025-05-08 20:18:45,397 - LiteLLM - INFO - Wrapper: Completed Call, calling success_handler
2025-05-08 20:18:45,419 - app.services.crew_service - INFO - Quiz generation crew completed successfully with result: {
  "quiz_title": "Cybersecurity Fundamentals: Emerging Financial Threats and Incident Response",
  ...
2025-05-08 20:18:45,419 - app.services.crew_service - INFO - Quiz generation crew completed successfully
2025-05-08 20:18:45,419 - app.services.crew_service - INFO - Parsing quiz generation crew result
2025-05-08 20:18:45,419 - app.services.crew_service - DEBUG - Result text first 200 chars: {
  "quiz_title": "Cybersecurity Fundamentals: Emerging Financial Threats and Incident Response",
  "chapter_count": 4,
  "question_count": 20,
  "complete_quiz": {
    "title": "Cybersecurity Fundame
2025-05-08 20:18:45,419 - app.services.crew_service - DEBUG - Result text length: 14879
2025-05-08 20:18:45,419 - app.services.crew_service - INFO - Successfully parsed result as direct JSON
2025-05-08 20:18:45,420 - app.services.crew_service - INFO - Found complete_quiz field in result
2025-05-08 20:18:45,420 - app.services.crew_service - INFO - Found valid complete quiz with title: Cybersecurity Fundamentals: Emerging Financial Threats and Incident Response
2025-05-08 20:18:45,420 - app.services.crew_service - INFO - Saving complete quiz with chapters and questions
2025-05-08 20:18:45,617 - app.services.crew_service - INFO - Created quiz with ID: 20
2025-05-08 20:18:45,792 - app.services.crew_service - INFO - Created chapter with ID: 17
2025-05-08 20:18:45,838 - app.services.crew_service - DEBUG - Created question 1 in chapter 1
2025-05-08 20:18:45,888 - app.services.crew_service - DEBUG - Created question 2 in chapter 1
2025-05-08 20:18:45,934 - app.services.crew_service - DEBUG - Created question 3 in chapter 1
2025-05-08 20:18:45,976 - app.services.crew_service - DEBUG - Created question 4 in chapter 1
2025-05-08 20:18:46,020 - app.services.crew_service - DEBUG - Created question 5 in chapter 1
2025-05-08 20:18:46,180 - app.services.crew_service - INFO - Created chapter with ID: 18
2025-05-08 20:18:46,226 - app.services.crew_service - DEBUG - Created question 1 in chapter 2
2025-05-08 20:18:46,402 - app.services.crew_service - DEBUG - Created question 2 in chapter 2
2025-05-08 20:18:46,452 - app.services.crew_service - DEBUG - Created question 3 in chapter 2
2025-05-08 20:18:46,499 - app.services.crew_service - DEBUG - Created question 4 in chapter 2
2025-05-08 20:18:46,543 - app.services.crew_service - DEBUG - Created question 5 in chapter 2
2025-05-08 20:18:46,714 - app.services.crew_service - INFO - Created chapter with ID: 19
2025-05-08 20:18:46,880 - app.services.crew_service - DEBUG - Created question 1 in chapter 3
2025-05-08 20:18:46,926 - app.services.crew_service - DEBUG - Created question 2 in chapter 3
2025-05-08 20:18:46,972 - app.services.crew_service - DEBUG - Created question 3 in chapter 3
2025-05-08 20:18:47,015 - app.services.crew_service - DEBUG - Created question 4 in chapter 3
2025-05-08 20:18:47,058 - app.services.crew_service - DEBUG - Created question 5 in chapter 3
2025-05-08 20:18:47,236 - app.services.crew_service - INFO - Created chapter with ID: 20
2025-05-08 20:18:47,283 - app.services.crew_service - DEBUG - Created question 1 in chapter 4
2025-05-08 20:18:47,479 - app.services.crew_service - DEBUG - Created question 2 in chapter 4
2025-05-08 20:18:47,529 - app.services.crew_service - DEBUG - Created question 3 in chapter 4
2025-05-08 20:18:47,574 - app.services.crew_service - DEBUG - Created question 4 in chapter 4
2025-05-08 20:18:47,619 - app.services.crew_service - DEBUG - Created question 5 in chapter 4
2025-05-08 20:18:47,619 - app.routes.agents - INFO - CrewAI quiz generation result: success
2025-05-08 20:23:08,534 - app.routes.agents - INFO - Starting registration process for user banking@example.com
2025-05-08 20:23:08,535 - app.routes.agents - INFO - Using CrewAI for registration process
2025-05-08 20:23:08,535 - app.services.crew_service - INFO - Creating registration crew for user: banking@example.com
2025-05-08 20:23:08,549 - app.services.crew_service - INFO - Starting registration crew workflow
2025-05-08 20:23:08,639 - LiteLLM - INFO - 
LiteLLM completion() model= gpt-4.1-mini; provider = openai
2025-05-08 20:23:11,152 - LiteLLM - INFO - Wrapper: Completed Call, calling success_handler
2025-05-08 20:23:11,173 - LiteLLM - INFO - 
LiteLLM completion() model= gpt-4.1-mini; provider = openai
2025-05-08 20:23:20,051 - LiteLLM - INFO - Wrapper: Completed Call, calling success_handler
2025-05-08 20:23:20,099 - LiteLLM - INFO - 
LiteLLM completion() model= gpt-4.1-mini; provider = openai
2025-05-08 20:23:28,383 - LiteLLM - INFO - Wrapper: Completed Call, calling success_handler
2025-05-08 20:23:28,401 - app.services.crew_service - INFO - Crew result: {
  "topic_priorities": [
    {
      "topic_id": 7,
      "topic_name": "Financial Cybersecurity Threats and Mitigation",
      "relevance_score": 9.8
    },
    {
      "topic_id": 12,
      "topic_name": "Regulatory Compliance in Financial Sector (PCI DSS, SOX, GDPR)",
      "relevance_score": 9.5
    },
    {
      "topic_id": 15,
      "topic_name": "Fraud Detection and Prevention Techniques",
      "relevance_score": 9.3
    },
    {
      "topic_id": 22,
      "topic_name": "Incident Response and Forensic Analysis in Financial Environments",
      "relevance_score": 9.0
    },
    {
      "topic_id": 18,
      "topic_name": "Identity and Access Management in Banking Systems",
      "relevance_score": 8.7
    }
  ],
  "sector_threats": {
    "Banking": [
      "Ransomware attacks targeting banking customers and internal systems",
      "Phishing campaigns aimed at stealing customer credentials and banking details",
      "Advanced Persistent Threats (APTs) focused on financial data exfiltration",
      "Fraudulent transaction attempts via compromised accounts",
      "Insider threats leading to unauthorized access or data leakage",
      "Exploitation of vulnerabilities in mobile banking applications",
      "Supply chain attacks impacting third-party financial software providers",
      "Regulatory non-compliance penalties due to inadequate security controls"
    ]
  },
  "focus_areas": [
    "Emerging ransomware and phishing tactics targeting banking customers",
    "Advanced threat intelligence and proactive defense mechanisms in financial IT",
    "Security architecture for banking and mobile banking applications",
    "Regulatory compliance updates and their impact on cybersecurity strategies",
    "Incident response and forensic analysis tailored to financial sector breaches"
  ],
  "recommended_topic_id": 7
}
2025-05-08 20:23:28,402 - app.services.crew_service - INFO - Registration crew completed successfully
2025-05-08 20:23:28,404 - app.services.crew_service - INFO - Parsing registration crew result
2025-05-08 20:23:28,404 - app.services.crew_service - INFO - Found JSON in text: dict_keys(['topic_priorities', 'sector_threats', 'focus_areas', 'recommended_topic_id'])
2025-05-08 20:23:28,404 - app.routes.agents - INFO - CrewAI registration result: success
2025-05-08 20:23:28,455 - app.routes.agents - INFO - Using CrewAI to generate quiz for topic: Cybersecurity Fundamentals
2025-05-08 20:23:28,455 - app.services.crew_service - INFO - Creating quiz generation crew for topic: Cybersecurity Fundamentals
2025-05-08 20:23:28,455 - app.services.crew_service - WARNING - No user_id provided in quiz_data, attempting to find a valid user
2025-05-08 20:23:28,504 - app.services.crew_service - INFO - Found valid user_id: 1
2025-05-08 20:23:28,510 - app.services.crew_service - INFO - Starting quiz generation crew workflow
2025-05-08 20:23:28,528 - LiteLLM - INFO - 
LiteLLM completion() model= gpt-4.1-mini; provider = openai
2025-05-08 20:24:24,828 - LiteLLM - INFO - Wrapper: Completed Call, calling success_handler
2025-05-08 20:24:24,850 - LiteLLM - INFO - 
LiteLLM completion() model= gpt-4.1-mini; provider = openai
2025-05-08 20:25:13,623 - LiteLLM - INFO - Wrapper: Completed Call, calling success_handler
2025-05-08 20:25:13,675 - LiteLLM - INFO - 
LiteLLM completion() model= gpt-4.1-mini; provider = openai
2025-05-08 20:26:01,983 - LiteLLM - INFO - Wrapper: Completed Call, calling success_handler
2025-05-08 20:26:02,018 - app.services.crew_service - INFO - Quiz generation crew completed successfully with result: {
  "quiz_title": "Cybersecurity Fundamentals - Financial Sector Focus",
  "chapter_count": 4,
  "qu...
2025-05-08 20:26:02,018 - app.services.crew_service - INFO - Quiz generation crew completed successfully
2025-05-08 20:26:02,019 - app.services.crew_service - INFO - Parsing quiz generation crew result
2025-05-08 20:26:02,019 - app.services.crew_service - DEBUG - Result text first 200 chars: {
  "quiz_title": "Cybersecurity Fundamentals - Financial Sector Focus",
  "chapter_count": 4,
  "question_count": 20,
  "complete_quiz": {
    "title": "Cybersecurity Fundamentals - Financial Sector 
2025-05-08 20:26:02,019 - app.services.crew_service - DEBUG - Result text length: 14134
2025-05-08 20:26:02,019 - app.services.crew_service - INFO - Successfully parsed result as direct JSON
2025-05-08 20:26:02,019 - app.services.crew_service - INFO - Found complete_quiz field in result
2025-05-08 20:26:02,019 - app.services.crew_service - INFO - Found valid complete quiz with title: Cybersecurity Fundamentals - Financial Sector Focus
2025-05-08 20:26:02,019 - app.services.crew_service - INFO - Saving complete quiz with chapters and questions
2025-05-08 20:26:02,082 - app.services.crew_service - INFO - Created quiz with ID: 21
2025-05-08 20:26:02,132 - app.services.crew_service - INFO - Created chapter with ID: 21
2025-05-08 20:26:02,177 - app.services.crew_service - DEBUG - Created question 1 in chapter 1
2025-05-08 20:26:02,221 - app.services.crew_service - DEBUG - Created question 2 in chapter 1
2025-05-08 20:26:02,401 - app.services.crew_service - DEBUG - Created question 3 in chapter 1
2025-05-08 20:26:02,446 - app.services.crew_service - DEBUG - Created question 4 in chapter 1
2025-05-08 20:26:02,491 - app.services.crew_service - DEBUG - Created question 5 in chapter 1
2025-05-08 20:26:02,534 - app.services.crew_service - INFO - Created chapter with ID: 22
2025-05-08 20:26:02,692 - app.services.crew_service - DEBUG - Created question 1 in chapter 2
2025-05-08 20:26:02,739 - app.services.crew_service - DEBUG - Created question 2 in chapter 2
2025-05-08 20:26:02,785 - app.services.crew_service - DEBUG - Created question 3 in chapter 2
2025-05-08 20:26:02,829 - app.services.crew_service - DEBUG - Created question 4 in chapter 2
2025-05-08 20:26:02,874 - app.services.crew_service - DEBUG - Created question 5 in chapter 2
2025-05-08 20:26:02,918 - app.services.crew_service - INFO - Created chapter with ID: 23
2025-05-08 20:26:02,961 - app.services.crew_service - DEBUG - Created question 1 in chapter 3
2025-05-08 20:26:03,004 - app.services.crew_service - DEBUG - Created question 2 in chapter 3
2025-05-08 20:26:03,047 - app.services.crew_service - DEBUG - Created question 3 in chapter 3
2025-05-08 20:26:03,091 - app.services.crew_service - DEBUG - Created question 4 in chapter 3
2025-05-08 20:26:03,135 - app.services.crew_service - DEBUG - Created question 5 in chapter 3
2025-05-08 20:26:03,178 - app.services.crew_service - INFO - Created chapter with ID: 24
2025-05-08 20:26:03,224 - app.services.crew_service - DEBUG - Created question 1 in chapter 4
2025-05-08 20:26:03,405 - app.services.crew_service - DEBUG - Created question 2 in chapter 4
2025-05-08 20:26:03,569 - app.services.crew_service - DEBUG - Created question 3 in chapter 4
2025-05-08 20:26:03,757 - app.services.crew_service - DEBUG - Created question 4 in chapter 4
2025-05-08 20:26:03,937 - app.services.crew_service - DEBUG - Created question 5 in chapter 4
2025-05-08 20:26:03,937 - app.routes.agents - INFO - CrewAI quiz generation result: success
2025-05-08 20:37:52,024 - app.routes.agents - INFO - Starting registration process for user banking@example.com
2025-05-08 20:37:52,025 - app.routes.agents - INFO - Using CrewAI for registration process
2025-05-08 20:37:52,025 - app.services.crew_service - INFO - Creating registration crew for user: banking@example.com
2025-05-08 20:37:52,054 - app.services.crew_service - INFO - Starting registration crew workflow
2025-05-08 20:37:52,098 - LiteLLM - INFO - 
LiteLLM completion() model= gpt-4.1-mini; provider = openai
2025-05-08 20:37:54,397 - LiteLLM - INFO - Wrapper: Completed Call, calling success_handler
2025-05-08 20:37:54,416 - LiteLLM - INFO - 
LiteLLM completion() model= gpt-4.1-mini; provider = openai
2025-05-08 20:37:59,607 - LiteLLM - INFO - Wrapper: Completed Call, calling success_handler
2025-05-08 20:37:59,632 - LiteLLM - INFO - 
LiteLLM completion() model= gpt-4.1-mini; provider = openai
2025-05-08 20:38:09,923 - LiteLLM - INFO - Wrapper: Completed Call, calling success_handler
2025-05-08 20:38:09,943 - app.services.crew_service - INFO - Crew result: {
  "topic_priorities": [
    {
      "topic_id": 2,
      "topic_name": "Financial Cybersecurity Threats and Mitigation",
      "relevance_score": 9.8
    },
    {
      "topic_id": 5,
      "topic_name": "Regulatory Compliance in Banking (PCI DSS, GDPR, SOX)",
      "relevance_score": 9.5
    },
    {
      "topic_id": 7,
      "topic_name": "Fraud Detection and Prevention",
      "relevance_score": 9.4
    },
    {
      "topic_id": 9,
      "topic_name": "Network Security Specific to Financial Institutions",
      "relevance_score": 9.2
    },
    {
      "topic_id": 11,
      "topic_name": "Incident Response and Disaster Recovery in Banking",
      "relevance_score": 9.0
    },
    {
      "topic_id": 13,
      "topic_name": "Identity and Access Management (IAM) in Financial Services",
      "relevance_score": 8.8
    },
    {
      "topic_id": 15,
      "topic_name": "Cryptography and Secure Transaction Protocols",
      "relevance_score": 8.7
    }
  ],
  "sector_threats": {
    "Phishing Attacks Targeting Bank Customers and Employees": "Highly prevalent, often used to steal credentials and launch further attacks.",
    "Ransomware Targeting Financial Institutions": "Disrupts banking operations and attempts data encryption for ransom.",
    "Business Email Compromise (BEC)": "Fraudulent email campaigns aimed at financial fraud and unauthorized transactions.",
    "Insider Threats": "Malicious or negligent actions by employees causing data breaches or fraud.",
    "Advanced Persistent Threats (APTs)": "Sophisticated, targeted attacks aiming at stealing sensitive financial data.",
    "Third-party Vendor Vulnerabilities": "Supply chain attacks compromising banking infrastructure.",
    "Regulatory Non-compliance Risks": "Penalties arising from failure to comply with PCI DSS, GDPR, SOX requirements."
  },
  "focus_areas": [
    "Emerging financial cyber threats: phishing, ransomware, and BEC",
    "Advanced threat hunting and anomaly detection techniques",
    "Regulatory compliance updates and their impact on banking cybersecurity",
    "Incident response strategies tailored for banking cybersecurity incidents",
    "Application of AI and machine learning for fraud detection"
  ],
  "recommended_topic_id": 2
}
2025-05-08 20:38:09,943 - app.services.crew_service - INFO - Registration crew completed successfully
2025-05-08 20:38:09,944 - app.services.crew_service - INFO - Parsing registration crew result
2025-05-08 20:38:09,945 - app.services.crew_service - INFO - Found JSON in text: dict_keys(['topic_priorities', 'sector_threats', 'focus_areas', 'recommended_topic_id'])
2025-05-08 20:38:09,945 - app.routes.agents - INFO - CrewAI registration result: success
2025-05-08 20:38:10,001 - app.routes.agents - INFO - Using CrewAI to generate quiz for topic: Cybersecurity Fundamentals
2025-05-08 20:38:10,001 - app.services.crew_service - INFO - Creating quiz generation crew for topic: Cybersecurity Fundamentals
2025-05-08 20:38:10,002 - app.services.crew_service - WARNING - No user_id provided in quiz_data, attempting to find a valid user
2025-05-08 20:38:10,147 - app.services.crew_service - INFO - Found valid user_id: 1
2025-05-08 20:38:10,158 - app.services.crew_service - INFO - Starting quiz generation crew workflow
2025-05-08 20:38:10,183 - LiteLLM - INFO - 
LiteLLM completion() model= gpt-4.1-mini; provider = openai
2025-05-08 20:38:31,944 - LiteLLM - INFO - Wrapper: Completed Call, calling success_handler
2025-05-08 20:38:31,978 - LiteLLM - INFO - 
LiteLLM completion() model= gpt-4.1-mini; provider = openai
2025-05-08 20:39:17,051 - LiteLLM - INFO - Wrapper: Completed Call, calling success_handler
2025-05-08 20:39:17,059 - LiteLLM - INFO - 
LiteLLM completion() model= gpt-4.1-mini; provider = openai
2025-05-08 20:39:42,603 - LiteLLM - INFO - Wrapper: Completed Call, calling success_handler
2025-05-08 20:39:42,644 - LiteLLM - INFO - 
LiteLLM completion() model= gpt-4.1-mini; provider = openai
2025-05-08 20:40:13,256 - LiteLLM - INFO - Wrapper: Completed Call, calling success_handler
2025-05-08 20:40:13,277 - app.services.crew_service - INFO - Quiz generation crew completed successfully with result: {
  "quiz_title": "Cybersecurity Fundamentals",
  "chapter_count": 4,
  "question_count": 20,
  "com...
2025-05-08 20:40:13,277 - app.services.crew_service - INFO - Quiz generation crew completed successfully
2025-05-08 20:40:13,278 - app.services.crew_service - INFO - Parsing quiz generation crew result
2025-05-08 20:40:13,278 - app.services.crew_service - DEBUG - Result text first 200 chars: {
  "quiz_title": "Cybersecurity Fundamentals",
  "chapter_count": 4,
  "question_count": 20,
  "complete_quiz": {
    "title": "Cybersecurity Fundamentals",
    "description": "This quiz covers found
2025-05-08 20:40:13,278 - app.services.crew_service - DEBUG - Result text length: 14857
2025-05-08 20:40:13,280 - app.services.crew_service - INFO - Successfully parsed result as direct JSON
2025-05-08 20:40:13,280 - app.services.crew_service - INFO - Found complete quiz in result
2025-05-08 20:40:13,348 - app.services.crew_service - INFO - Successfully inserted quiz with ID: 22
2025-05-08 20:40:13,529 - app.services.crew_service - INFO - Successfully inserted chapter with ID: 25
2025-05-08 20:40:13,530 - app.services.crew_service - ERROR - Error in _parse_quiz_generation_result: 'CrewService' object has no attribute '_store_question_adaptive'
2025-05-08 20:40:13,530 - app.services.crew_service - ERROR - Exception traceback:
Traceback (most recent call last):
  File "C:\Users\Gameapp\Desktop\CY-X Reseach Doc\CYX_POC\cybersecurity-quiz-ai\app\services\crew_service.py", line 743, in _parse_quiz_generation_result
    self._store_question_adaptive(db_service, chapter_id, j, question)
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'CrewService' object has no attribute '_store_question_adaptive'
2025-05-08 20:40:13,535 - app.routes.agents - INFO - CrewAI quiz generation result: error
2025-05-08 20:47:13,601 - app.routes.agents - INFO - Starting registration process for user banking@example.com
2025-05-08 20:47:13,601 - app.routes.agents - INFO - Using CrewAI for registration process
2025-05-08 20:47:13,601 - app.services.crew_service - INFO - Creating registration crew for user: banking@example.com
2025-05-08 20:47:13,617 - app.services.crew_service - INFO - Starting registration crew workflow
2025-05-08 20:47:13,641 - LiteLLM - INFO - 
LiteLLM completion() model= gpt-4.1-mini; provider = openai
2025-05-08 20:47:15,399 - LiteLLM - INFO - Wrapper: Completed Call, calling success_handler
2025-05-08 20:47:15,419 - LiteLLM - INFO - 
LiteLLM completion() model= gpt-4.1-mini; provider = openai
2025-05-08 20:47:19,627 - LiteLLM - INFO - Wrapper: Completed Call, calling success_handler
2025-05-08 20:47:19,660 - LiteLLM - INFO - 
LiteLLM completion() model= gpt-4.1-mini; provider = openai
2025-05-08 20:47:25,774 - LiteLLM - INFO - Wrapper: Completed Call, calling success_handler
2025-05-08 20:47:25,811 - app.services.crew_service - INFO - Crew result: {
  "topic_priorities": [
    {
      "topic_id": 8,
      "topic_name": "Financial cybersecurity threats and mitigation",
      "relevance_score": 9.8
    },
    {
      "topic_id": 12,
      "topic_name": "Regulatory compliance in banking and finance (PCI DSS, SOX, GDPR)",
      "relevance_score": 9.5
    },
    {
      "topic_id": 15,
      "topic_name": "Risk management and fraud detection",
      "relevance_score": 9.3
    },
    {
      "topic_id": 20,
      "topic_name": "Incident response and threat intelligence in financial sector",
      "relevance_score": 9.0
    },
    {
      "topic_id": 23,
      "topic_name": "Identity and access management (IAM) in banking environments",
      "relevance_score": 8.7
    }
  ],
  "sector_threats": {
    "Financial Sector": [
      "Ransomware attacks targeting banking infrastructure",
      "Insider threats leading to data breaches or fraud",
      "Sophisticated phishing campaigns targeting bank employees and customers",
      "Advanced persistent threats (APTs) from state-sponsored actors",
      "Third-party vendor risk and supply chain attacks",
      "Credential stuffing and identity theft exploits",
      "Regulatory compliance violations leading to penalties",
      "Distributed Denial of Service (DDoS) attacks on online banking platforms"
    ]
  },
  "focus_areas": [
    "Advanced threat detection and prevention techniques against financial cyber attacks",
    "Emerging cyber threats in the financial sector such as ransomware and insider threats",
    "Deepening understanding of financial regulatory frameworks and compliance requirements",
    "Incident response simulations and tabletop exercises tailored to banking scenarios",
    "Cryptography and data protection strategies relevant to financial data"
  ],
  "recommended_topic_id": 8
}
2025-05-08 20:47:25,812 - app.services.crew_service - INFO - Registration crew completed successfully
2025-05-08 20:47:25,813 - app.services.crew_service - INFO - Parsing registration crew result
2025-05-08 20:47:25,814 - app.services.crew_service - INFO - Found JSON in text: dict_keys(['topic_priorities', 'sector_threats', 'focus_areas', 'recommended_topic_id'])
2025-05-08 20:47:25,814 - app.routes.agents - INFO - CrewAI registration result: success
2025-05-08 20:47:25,883 - app.routes.agents - INFO - Using CrewAI to generate quiz for topic: Cybersecurity Fundamentals
2025-05-08 20:47:25,883 - app.services.crew_service - INFO - Creating quiz generation crew for topic: Cybersecurity Fundamentals
2025-05-08 20:47:25,883 - app.services.crew_service - WARNING - No user_id provided in quiz_data, attempting to find a valid user
2025-05-08 20:47:26,033 - app.services.crew_service - INFO - Found valid user_id: 1
2025-05-08 20:47:26,049 - app.services.crew_service - INFO - Starting quiz generation crew workflow
2025-05-08 20:47:26,068 - LiteLLM - INFO - 
LiteLLM completion() model= gpt-4.1-mini; provider = openai
2025-05-08 20:47:53,549 - LiteLLM - INFO - Wrapper: Completed Call, calling success_handler
2025-05-08 20:47:53,573 - LiteLLM - INFO - 
LiteLLM completion() model= gpt-4.1-mini; provider = openai
2025-05-08 20:48:18,346 - LiteLLM - INFO - Wrapper: Completed Call, calling success_handler
2025-05-08 20:48:18,390 - LiteLLM - INFO - 
LiteLLM completion() model= gpt-4.1-mini; provider = openai
2025-05-08 20:49:00,477 - LiteLLM - INFO - Wrapper: Completed Call, calling success_handler
2025-05-08 20:49:00,504 - app.services.crew_service - INFO - Quiz generation crew completed successfully with result: {
  "quiz_title": "Cybersecurity Fundamentals: Advanced Financial Sector Focus",
  "chapter_count": ...
2025-05-08 20:49:00,504 - app.services.crew_service - INFO - Quiz generation crew completed successfully
2025-05-08 20:49:00,507 - app.services.crew_service - INFO - Parsing quiz generation crew result
2025-05-08 20:49:00,507 - app.services.crew_service - DEBUG - Result text first 200 chars: {
  "quiz_title": "Cybersecurity Fundamentals: Advanced Financial Sector Focus",
  "chapter_count": 4,
  "question_count": 20,
  "complete_quiz": {
    "title": "Cybersecurity Fundamentals: Advanced F
2025-05-08 20:49:00,507 - app.services.crew_service - DEBUG - Result text length: 14210
2025-05-08 20:49:00,507 - app.services.crew_service - INFO - Successfully parsed result as direct JSON
2025-05-08 20:49:00,507 - app.services.crew_service - INFO - Found complete quiz in result
2025-05-08 20:49:00,709 - app.services.crew_service - INFO - Successfully inserted quiz with ID: 24
2025-05-08 20:49:00,896 - app.services.crew_service - INFO - Successfully inserted chapter with ID: 26
2025-05-08 20:49:00,896 - app.services.crew_service - ERROR - Error storing question adaptively: 'DatabaseService' object has no attribute 'get_table_columns'
2025-05-08 20:49:00,896 - app.services.crew_service - ERROR - Error storing question adaptively: 'DatabaseService' object has no attribute 'get_table_columns'
2025-05-08 20:49:00,896 - app.services.crew_service - ERROR - Error storing question adaptively: 'DatabaseService' object has no attribute 'get_table_columns'
2025-05-08 20:49:00,896 - app.services.crew_service - ERROR - Error storing question adaptively: 'DatabaseService' object has no attribute 'get_table_columns'
2025-05-08 20:49:00,896 - app.services.crew_service - ERROR - Error storing question adaptively: 'DatabaseService' object has no attribute 'get_table_columns'
2025-05-08 20:49:00,963 - app.services.crew_service - INFO - Successfully inserted chapter with ID: 27
2025-05-08 20:49:00,963 - app.services.crew_service - ERROR - Error storing question adaptively: 'DatabaseService' object has no attribute 'get_table_columns'
2025-05-08 20:49:00,963 - app.services.crew_service - ERROR - Error storing question adaptively: 'DatabaseService' object has no attribute 'get_table_columns'
2025-05-08 20:49:00,964 - app.services.crew_service - ERROR - Error storing question adaptively: 'DatabaseService' object has no attribute 'get_table_columns'
2025-05-08 20:49:00,964 - app.services.crew_service - ERROR - Error storing question adaptively: 'DatabaseService' object has no attribute 'get_table_columns'
2025-05-08 20:49:00,964 - app.services.crew_service - ERROR - Error storing question adaptively: 'DatabaseService' object has no attribute 'get_table_columns'
2025-05-08 20:49:01,008 - app.services.crew_service - INFO - Successfully inserted chapter with ID: 28
2025-05-08 20:49:01,008 - app.services.crew_service - ERROR - Error storing question adaptively: 'DatabaseService' object has no attribute 'get_table_columns'
2025-05-08 20:49:01,008 - app.services.crew_service - ERROR - Error storing question adaptively: 'DatabaseService' object has no attribute 'get_table_columns'
2025-05-08 20:49:01,008 - app.services.crew_service - ERROR - Error storing question adaptively: 'DatabaseService' object has no attribute 'get_table_columns'
2025-05-08 20:49:01,008 - app.services.crew_service - ERROR - Error storing question adaptively: 'DatabaseService' object has no attribute 'get_table_columns'
2025-05-08 20:49:01,008 - app.services.crew_service - ERROR - Error storing question adaptively: 'DatabaseService' object has no attribute 'get_table_columns'
2025-05-08 20:49:01,063 - app.services.crew_service - INFO - Successfully inserted chapter with ID: 29
2025-05-08 20:49:01,064 - app.services.crew_service - ERROR - Error storing question adaptively: 'DatabaseService' object has no attribute 'get_table_columns'
2025-05-08 20:49:01,064 - app.services.crew_service - ERROR - Error storing question adaptively: 'DatabaseService' object has no attribute 'get_table_columns'
2025-05-08 20:49:01,064 - app.services.crew_service - ERROR - Error storing question adaptively: 'DatabaseService' object has no attribute 'get_table_columns'
2025-05-08 20:49:01,064 - app.services.crew_service - ERROR - Error storing question adaptively: 'DatabaseService' object has no attribute 'get_table_columns'
2025-05-08 20:49:01,064 - app.services.crew_service - ERROR - Error storing question adaptively: 'DatabaseService' object has no attribute 'get_table_columns'
2025-05-08 20:49:01,064 - app.routes.agents - INFO - CrewAI quiz generation result: success
2025-05-08 21:08:57,888 - app.routes.agents - INFO - Starting registration process for user banking@example.com
2025-05-08 21:08:57,891 - app.routes.agents - INFO - Using CrewAI for registration process
2025-05-08 21:08:57,891 - app.services.crew_service - INFO - Creating registration crew for user: banking@example.com
2025-05-08 21:08:57,932 - app.services.crew_service - INFO - Starting registration crew workflow
2025-05-08 21:08:57,971 - LiteLLM - INFO - 
LiteLLM completion() model= gpt-4.1-mini; provider = openai
2025-05-08 21:09:00,305 - LiteLLM - INFO - Wrapper: Completed Call, calling success_handler
2025-05-08 21:09:00,328 - LiteLLM - INFO - 
LiteLLM completion() model= gpt-4.1-mini; provider = openai
2025-05-08 21:09:04,913 - LiteLLM - INFO - Wrapper: Completed Call, calling success_handler
2025-05-08 21:09:04,942 - LiteLLM - INFO - 
LiteLLM completion() model= gpt-4.1-mini; provider = openai
2025-05-08 21:09:12,526 - LiteLLM - INFO - Wrapper: Completed Call, calling success_handler
2025-05-08 21:09:12,558 - app.services.crew_service - INFO - Crew result: {
  "topic_priorities": [
    {
      "topic": "Financial Cybersecurity Threats and Vulnerabilities",
      "relevance_score": 0.95
    },
    {
      "topic": "Advanced Threat Intelligence and Threat Hunting in Banking",
      "relevance_score": 0.92
    },
    {
      "topic": "Regulatory Compliance in Banking Sector (e.g., PCI DSS, GDPR, SOX)",
      "relevance_score": 0.90
    },
    {
      "topic": "Fraud Detection and Prevention Techniques",
      "relevance_score": 0.88
    },
    {
      "topic": "Identity and Access Management (IAM) for Banking",
      "relevance_score": 0.85
    },
    {
      "topic": "Incident Response and Risk Management in Financial Environments",
      "relevance_score": 0.83
    },
    {
      "topic": "Cloud Security and Secure Migration for Financial Data",
      "relevance_score": 0.80
    },
    {
      "topic": "Zero Trust Architecture Implementation in Financial Institutions",
      "relevance_score": 0.78
    },
    {
      "topic": "Automation and AI for Cybersecurity in Banking",
      "relevance_score": 0.75
    },
    {
      "topic": "Secure Software Development Lifecycle (SDLC) in Financial Applications",
      "relevance_score": 0.72
    },
    {
      "topic": "Cryptography and Data Encryption for Financial Transactions",
      "relevance_score": 0.70
    },
    {
      "topic": "Enhancing Security Awareness and Training for Bank Employees",
      "relevance_score": 0.68
    },
    {
      "topic": "Blockchain Security and its Implications in Finance",
      "relevance_score": 0.65
    },
    {
      "topic": "Regulatory Updates and Compliance Best Practices",
      "relevance_score": 0.63
    }
  ],
  "sector_threats": {
    "Banking Sector": [
      "Ransomware attacks targeting financial data and systems",
      "Phishing and spear-phishing campaigns targeting employees and customers",
      "Advanced persistent threats (APTs) focused on financial espionage",
      "Insider threats including fraud and data leaks",
      "Credential stuffing and identity theft attacks",
      "Exploitation of vulnerabilities in legacy banking software",
      "Regulatory non-compliance penalties due to data breaches",
      "Cloud misconfigurations leading to data exposure",
      "Man-in-the-middle attacks on financial transactions",
      "Social engineering attacks aimed at accessing sensitive financial systems"
    ]
  },
  "focus_areas": [
    "Emerging Financial Cyber Threats such as Ransomware and Phishing",
    "Advanced Threat Intelligence and Threat Hunting in Banking",
    "Regulatory Compliance and Updates in the Banking Sector",
    "Identity and Access Management (IAM) Strategies",
    "Incident Response and Risk Management Protocols"
  ],
  "recommended_topic_id": 8
}
2025-05-08 21:09:12,559 - app.services.crew_service - INFO - Registration crew completed successfully
2025-05-08 21:09:12,559 - app.services.crew_service - INFO - Parsing registration crew result
2025-05-08 21:09:12,559 - app.services.crew_service - INFO - Found JSON in text: dict_keys(['topic_priorities', 'sector_threats', 'focus_areas', 'recommended_topic_id'])
2025-05-08 21:09:12,560 - app.routes.agents - INFO - CrewAI registration result: success
2025-05-08 21:09:12,619 - app.routes.agents - INFO - Using CrewAI to generate quiz for topic: Cybersecurity Fundamentals
2025-05-08 21:09:12,620 - app.services.crew_service - INFO - Creating quiz generation crew for topic: Cybersecurity Fundamentals
2025-05-08 21:09:12,620 - app.services.crew_service - WARNING - No user_id provided in quiz_data, attempting to find a valid user
2025-05-08 21:09:12,662 - app.services.crew_service - INFO - Found valid user_id: 1
2025-05-08 21:09:12,671 - app.services.crew_service - INFO - Starting quiz generation crew workflow
2025-05-08 21:09:12,689 - LiteLLM - INFO - 
LiteLLM completion() model= gpt-4.1-mini; provider = openai
2025-05-08 21:09:37,599 - LiteLLM - INFO - Wrapper: Completed Call, calling success_handler
2025-05-08 21:09:37,638 - LiteLLM - INFO - 
LiteLLM completion() model= gpt-4.1-mini; provider = openai
2025-05-08 21:10:08,094 - LiteLLM - INFO - Wrapper: Completed Call, calling success_handler
2025-05-08 21:10:08,124 - LiteLLM - INFO - 
LiteLLM completion() model= gpt-4.1-mini; provider = openai
2025-05-08 21:10:43,002 - LiteLLM - INFO - Wrapper: Completed Call, calling success_handler
2025-05-08 21:10:43,029 - app.services.crew_service - INFO - Quiz generation crew completed successfully with result: {
  "quiz_title": "Cybersecurity Fundamentals: Emerging Financial Cyber Threats and Advanced Defense...
2025-05-08 21:10:43,029 - app.services.crew_service - INFO - Quiz generation crew completed successfully
2025-05-08 21:10:43,030 - app.services.crew_service - INFO - Parsing quiz generation crew result
2025-05-08 21:10:43,030 - app.services.crew_service - DEBUG - Result text first 200 chars: {
  "quiz_title": "Cybersecurity Fundamentals: Emerging Financial Cyber Threats and Advanced Defense Strategies",
  "chapter_count": 4,
  "question_count": 20,
  "complete_quiz": {
    "title": "Cyber
2025-05-08 21:10:43,030 - app.services.crew_service - DEBUG - Result text length: 15600
2025-05-08 21:10:43,030 - app.services.crew_service - INFO - Successfully parsed result as direct JSON
2025-05-08 21:10:43,030 - app.services.crew_service - INFO - Found complete quiz in result
2025-05-08 21:10:43,190 - app.services.crew_service - INFO - Successfully inserted quiz with ID: 25
2025-05-08 21:10:43,250 - app.services.crew_service - INFO - Successfully inserted chapter with ID: 30
2025-05-08 21:10:43,299 - app.services.crew_service - DEBUG - Created question 1 in chapter 30
2025-05-08 21:10:43,344 - app.services.crew_service - DEBUG - Created question 2 in chapter 30
2025-05-08 21:10:43,522 - app.services.crew_service - DEBUG - Created question 3 in chapter 30
2025-05-08 21:10:43,696 - app.services.crew_service - DEBUG - Created question 4 in chapter 30
2025-05-08 21:10:43,741 - app.services.crew_service - DEBUG - Created question 5 in chapter 30
2025-05-08 21:10:43,906 - app.services.crew_service - INFO - Successfully inserted chapter with ID: 31
2025-05-08 21:10:43,954 - app.services.crew_service - DEBUG - Created question 1 in chapter 31
2025-05-08 21:10:43,998 - app.services.crew_service - DEBUG - Created question 2 in chapter 31
2025-05-08 21:10:44,042 - app.services.crew_service - DEBUG - Created question 3 in chapter 31
2025-05-08 21:10:44,086 - app.services.crew_service - DEBUG - Created question 4 in chapter 31
2025-05-08 21:10:44,130 - app.services.crew_service - DEBUG - Created question 5 in chapter 31
2025-05-08 21:10:44,173 - app.services.crew_service - INFO - Successfully inserted chapter with ID: 32
2025-05-08 21:10:44,218 - app.services.crew_service - DEBUG - Created question 1 in chapter 32
2025-05-08 21:10:44,264 - app.services.crew_service - DEBUG - Created question 2 in chapter 32
2025-05-08 21:10:44,309 - app.services.crew_service - DEBUG - Created question 3 in chapter 32
2025-05-08 21:10:44,352 - app.services.crew_service - DEBUG - Created question 4 in chapter 32
2025-05-08 21:10:44,397 - app.services.crew_service - DEBUG - Created question 5 in chapter 32
2025-05-08 21:10:44,548 - app.services.crew_service - INFO - Successfully inserted chapter with ID: 33
2025-05-08 21:10:44,594 - app.services.crew_service - DEBUG - Created question 1 in chapter 33
2025-05-08 21:10:44,643 - app.services.crew_service - DEBUG - Created question 2 in chapter 33
2025-05-08 21:10:44,789 - app.services.crew_service - DEBUG - Created question 3 in chapter 33
2025-05-08 21:10:44,976 - app.services.crew_service - DEBUG - Created question 4 in chapter 33
2025-05-08 21:10:45,163 - app.services.crew_service - DEBUG - Created question 5 in chapter 33
2025-05-08 21:10:45,163 - app.routes.agents - INFO - CrewAI quiz generation result: success
2025-05-08 21:12:18,696 - app.routes.agents - INFO - Starting quiz evaluation: user_id=1, quiz_id=25
2025-05-08 21:12:18,696 - app.routes.agents - INFO - Using CrewAI for evaluation process
2025-05-08 21:12:18,696 - app.services.crew_service - INFO - Creating evaluation crew for user: 1
2025-05-08 21:12:18,705 - app.services.crew_service - INFO - Starting evaluation crew workflow
2025-05-08 21:12:18,724 - LiteLLM - INFO - 
LiteLLM completion() model= gpt-4.1-mini; provider = openai
2025-05-08 21:12:48,619 - LiteLLM - INFO - Wrapper: Completed Call, calling success_handler
2025-05-08 21:12:48,653 - LiteLLM - INFO - 
LiteLLM completion() model= gpt-4.1-mini; provider = openai
2025-05-08 21:13:00,762 - LiteLLM - INFO - Wrapper: Completed Call, calling success_handler
2025-05-08 21:13:00,798 - LiteLLM - INFO - 
LiteLLM completion() model= gpt-4.1-mini; provider = openai
2025-05-08 21:13:23,326 - LiteLLM - INFO - Wrapper: Completed Call, calling success_handler
2025-05-08 21:13:23,343 - app.services.crew_service - INFO - Evaluation crew completed successfully with result: {
  "user_id": 1,
  "quiz_id": 25,
  "personalized_feedback": {
    "overall_performance_summary": "...
2025-05-08 21:13:23,343 - app.services.crew_service - INFO - Evaluation crew completed successfully
2025-05-08 21:13:23,345 - app.services.crew_service - INFO - Parsing evaluation crew result
2025-05-08 21:13:23,345 - app.routes.agents - INFO - CrewAI evaluation result: success
2025-05-08 21:25:43,731 - app.routes.agents - INFO - Starting registration process for user banking@example.com
2025-05-08 21:25:43,733 - app.routes.agents - INFO - Using CrewAI for registration process
2025-05-08 21:25:43,733 - app.services.crew_service - INFO - Creating registration crew for user: banking@example.com
2025-05-08 21:25:43,757 - app.services.crew_service - INFO - Starting registration crew workflow
2025-05-08 21:25:43,806 - LiteLLM - INFO - 
LiteLLM completion() model= gpt-4.1-mini; provider = openai
2025-05-08 21:25:45,959 - LiteLLM - INFO - Wrapper: Completed Call, calling success_handler
2025-05-08 21:25:45,984 - LiteLLM - INFO - 
LiteLLM completion() model= gpt-4.1-mini; provider = openai
2025-05-08 21:25:49,365 - LiteLLM - INFO - Wrapper: Completed Call, calling success_handler
2025-05-08 21:25:49,431 - LiteLLM - INFO - 
LiteLLM completion() model= gpt-4.1-mini; provider = openai
2025-05-08 21:25:55,065 - LiteLLM - INFO - Wrapper: Completed Call, calling success_handler
2025-05-08 21:25:55,097 - app.services.crew_service - INFO - Crew result: {
  "topic_priorities": [
    {
      "topic_id": 9,
      "topic_name": "Financial Cybersecurity Threats and Mitigation",
      "relevance_score": 9.7
    },
    {
      "topic_id": 12,
      "topic_name": "Regulatory Compliance in Banking Sector (PCI-DSS, GDPR, SOX)",
      "relevance_score": 9.5
    },
    {
      "topic_id": 15,
      "topic_name": "Risk Management and Fraud Detection in Finance",
      "relevance_score": 9.3
    },
    {
      "topic_id": 18,
      "topic_name": "Secure Banking Application Development",
      "relevance_score": 8.7
    },
    {
      "topic_id": 21,
      "topic_name": "Network Security and Intrusion Detection for Financial Institutions",
      "relevance_score": 8.5
    }
  ],
  "sector_threats": {
    "Phishing and Social Engineering Attacks": "Highly targeted attacks on banking employees to gain credentials or access.",
    "Ransomware Attacks": "Increasingly frequent, aiming to encrypt financial data and disrupt banking operations.",
    "Insider Threats": "Risk from employees or contractors with privileged access abusing their rights.",
    "Advanced Persistent Threats (APTs)": "Sophisticated, prolonged cyber espionage campaigns targeting sensitive financial data.",
    "Supply Chain Attacks": "Compromise of third-party vendors affecting banking infrastructure.",
    "Data Breaches and Exfiltration": "Exposure or theft of sensitive customer financial information.",
    "ATM and POS Malware": "Malware targeting banking terminals to steal card data or manipulate transactions."
  },
  "focus_areas": [
    "Advanced threat intelligence and detection techniques for financial cyber threats",
    "Implementation of zero trust architecture in banking environments",
    "Regulatory compliance frameworks (PCI-DSS, GDPR, SOX) and continuous monitoring",
    "Automation and orchestration in incident response and forensic analysis",
    "Advanced data analytics and machine learning applications for fraud detection"
  ],
  "recommended_topic_id": 9
}
2025-05-08 21:25:55,098 - app.services.crew_service - INFO - Registration crew completed successfully
2025-05-08 21:25:55,099 - app.services.crew_service - INFO - Parsing registration crew result
2025-05-08 21:25:55,099 - app.services.crew_service - INFO - Found JSON in text: dict_keys(['topic_priorities', 'sector_threats', 'focus_areas', 'recommended_topic_id'])
2025-05-08 21:25:55,099 - app.routes.agents - INFO - CrewAI registration result: success
2025-05-08 21:25:55,265 - app.routes.agents - INFO - Using CrewAI to generate quiz for topic: Cybersecurity Fundamentals
2025-05-08 21:25:55,265 - app.services.crew_service - INFO - Creating quiz generation crew for topic: Cybersecurity Fundamentals
2025-05-08 21:25:55,265 - app.services.crew_service - WARNING - No user_id provided in quiz_data, attempting to find a valid user
2025-05-08 21:25:55,310 - app.services.crew_service - INFO - Found valid user_id: 1
2025-05-08 21:25:55,325 - app.services.crew_service - INFO - Starting quiz generation crew workflow
2025-05-08 21:25:55,342 - LiteLLM - INFO - 
LiteLLM completion() model= gpt-4.1-mini; provider = openai
2025-05-08 21:26:28,819 - LiteLLM - INFO - Wrapper: Completed Call, calling success_handler
2025-05-08 21:26:28,861 - LiteLLM - INFO - 
LiteLLM completion() model= gpt-4.1-mini; provider = openai
2025-05-08 21:26:58,846 - LiteLLM - INFO - Wrapper: Completed Call, calling success_handler
2025-05-08 21:26:58,875 - LiteLLM - INFO - 
LiteLLM completion() model= gpt-4.1-mini; provider = openai
2025-05-08 21:27:37,631 - LiteLLM - INFO - Wrapper: Completed Call, calling success_handler
2025-05-08 21:27:37,661 - app.services.crew_service - INFO - Quiz generation crew completed successfully with result: {
  "quiz_title": "Cybersecurity Fundamentals: Advanced Financial Sector Focus",
  "chapter_count": ...
2025-05-08 21:27:37,661 - app.services.crew_service - INFO - Quiz generation crew completed successfully
2025-05-08 21:27:37,665 - app.services.crew_service - INFO - Parsing quiz generation crew result
2025-05-08 21:27:37,665 - app.services.crew_service - DEBUG - Result text first 200 chars: {
  "quiz_title": "Cybersecurity Fundamentals: Advanced Financial Sector Focus",
  "chapter_count": 4,
  "question_count": 20,
  "complete_quiz": {
    "title": "Cybersecurity Fundamentals: Advanced F
2025-05-08 21:27:37,665 - app.services.crew_service - DEBUG - Result text length: 15138
2025-05-08 21:27:37,665 - app.services.crew_service - INFO - Successfully parsed result as direct JSON
2025-05-08 21:27:37,665 - app.services.crew_service - INFO - Found complete quiz in result
2025-05-08 21:27:37,766 - app.services.crew_service - INFO - Successfully inserted quiz with ID: 26
2025-05-08 21:27:37,811 - app.services.crew_service - INFO - Successfully inserted chapter with ID: 34
2025-05-08 21:27:37,996 - app.services.crew_service - DEBUG - Created question 1 in chapter 34
2025-05-08 21:27:38,169 - app.services.crew_service - DEBUG - Created question 2 in chapter 34
2025-05-08 21:27:38,359 - app.services.crew_service - DEBUG - Created question 3 in chapter 34
2025-05-08 21:27:38,416 - app.services.crew_service - DEBUG - Created question 4 in chapter 34
2025-05-08 21:27:38,472 - app.services.crew_service - DEBUG - Created question 5 in chapter 34
2025-05-08 21:27:38,531 - app.services.crew_service - INFO - Successfully inserted chapter with ID: 35
2025-05-08 21:27:38,590 - app.services.crew_service - DEBUG - Created question 1 in chapter 35
2025-05-08 21:27:38,783 - app.services.crew_service - DEBUG - Created question 2 in chapter 35
2025-05-08 21:27:38,983 - app.services.crew_service - DEBUG - Created question 3 in chapter 35
2025-05-08 21:27:39,173 - app.services.crew_service - DEBUG - Created question 4 in chapter 35
2025-05-08 21:27:39,346 - app.services.crew_service - DEBUG - Created question 5 in chapter 35
2025-05-08 21:27:39,511 - app.services.crew_service - INFO - Successfully inserted chapter with ID: 36
2025-05-08 21:27:39,568 - app.services.crew_service - DEBUG - Created question 1 in chapter 36
2025-05-08 21:27:39,616 - app.services.crew_service - DEBUG - Created question 2 in chapter 36
2025-05-08 21:27:39,662 - app.services.crew_service - DEBUG - Created question 3 in chapter 36
2025-05-08 21:27:39,845 - app.services.crew_service - DEBUG - Created question 4 in chapter 36
2025-05-08 21:27:40,034 - app.services.crew_service - DEBUG - Created question 5 in chapter 36
2025-05-08 21:27:40,102 - app.services.crew_service - INFO - Successfully inserted chapter with ID: 37
2025-05-08 21:27:40,170 - app.services.crew_service - DEBUG - Created question 1 in chapter 37
2025-05-08 21:27:40,218 - app.services.crew_service - DEBUG - Created question 2 in chapter 37
2025-05-08 21:27:40,268 - app.services.crew_service - DEBUG - Created question 3 in chapter 37
2025-05-08 21:27:40,344 - app.services.crew_service - DEBUG - Created question 4 in chapter 37
2025-05-08 21:27:40,504 - app.services.crew_service - DEBUG - Created question 5 in chapter 37
2025-05-08 21:27:40,504 - app.routes.agents - INFO - CrewAI quiz generation result: success
2025-05-08 21:27:56,839 - app.routes.agents - INFO - Starting registration process for user travel@example.com
2025-05-08 21:27:56,840 - app.routes.agents - INFO - Using CrewAI for registration process
2025-05-08 21:27:56,840 - app.services.crew_service - INFO - Creating registration crew for user: travel@example.com
2025-05-08 21:27:56,859 - app.services.crew_service - INFO - Starting registration crew workflow
2025-05-08 21:27:56,896 - LiteLLM - INFO - 
LiteLLM completion() model= gpt-4.1-mini; provider = openai
2025-05-08 21:27:58,402 - LiteLLM - INFO - Wrapper: Completed Call, calling success_handler
2025-05-08 21:27:58,422 - LiteLLM - INFO - 
LiteLLM completion() model= gpt-4.1-mini; provider = openai
2025-05-08 21:28:02,860 - LiteLLM - INFO - Wrapper: Completed Call, calling success_handler
2025-05-08 21:28:02,906 - LiteLLM - INFO - 
LiteLLM completion() model= gpt-4.1-mini; provider = openai
2025-05-08 21:28:07,339 - LiteLLM - INFO - Wrapper: Completed Call, calling success_handler
2025-05-08 21:28:07,363 - app.services.crew_service - INFO - Crew result: {
  "topic_priorities": [
    {
      "topic_id": 9,
      "topic_name": "Travel Sector-Specific Security Risks",
      "relevance_score": 9.5
    },
    {
      "topic_id": 15,
      "topic_name": "Booking System Vulnerabilities",
      "relevance_score": 9.0
    },
    {
      "topic_id": 21,
      "topic_name": "Data Privacy and Protection in Travel Industry",
      "relevance_score": 8.8
    },
    {
      "topic_id": 33,
      "topic_name": "Incident Response in Travel Systems",
      "relevance_score": 8.5
    },
    {
      "topic_id": 27,
      "topic_name": "Authentication and Authorization Mechanisms",
      "relevance_score": 8.0
    }
  ],
  "sector_threats": {
    "Travel Sector": [
      "Phishing attacks targeting travelers and travel agents",
      "Booking system exploitation via injection flaws and API abuse",
      "Data breaches exposing personal identifiable information (PII) of travelers",
      "Ransomware attacks on travel booking platforms and infrastructure",
      "Man-in-the-middle (MITM) attacks on insecure Wi-Fi networks used by travelers",
      "Insider threats compromising customer data and operational systems",
      "Compliance violations related to GDPR and PCI-DSS leading to legal and financial penalties"
    ]
  },
  "focus_areas": [
    "Identifying and mitigating vulnerabilities in travel booking systems",
    "Securing APIs and web services specific to travel technology",
    "Implementing effective incident detection and response strategies",
    "Ensuring data privacy and secure handling of traveler personal information",
    "Understanding evolving threats and best practices in travel sector cybersecurity"
  ],
  "recommended_topic_id": 9
}
2025-05-08 21:28:07,363 - app.services.crew_service - INFO - Registration crew completed successfully
2025-05-08 21:28:07,363 - app.services.crew_service - INFO - Parsing registration crew result
2025-05-08 21:28:07,363 - app.services.crew_service - INFO - Found JSON in text: dict_keys(['topic_priorities', 'sector_threats', 'focus_areas', 'recommended_topic_id'])
2025-05-08 21:28:07,363 - app.routes.agents - INFO - CrewAI registration result: success
2025-05-08 21:28:07,413 - app.routes.agents - INFO - Using CrewAI to generate quiz for topic: Cybersecurity Fundamentals
2025-05-08 21:28:07,414 - app.services.crew_service - INFO - Creating quiz generation crew for topic: Cybersecurity Fundamentals
2025-05-08 21:28:07,414 - app.services.crew_service - WARNING - No user_id provided in quiz_data, attempting to find a valid user
2025-05-08 21:28:07,460 - app.services.crew_service - INFO - Found valid user_id: 1
2025-05-08 21:28:07,469 - app.services.crew_service - INFO - Starting quiz generation crew workflow
2025-05-08 21:28:07,489 - LiteLLM - INFO - 
LiteLLM completion() model= gpt-4.1-mini; provider = openai
2025-05-08 21:28:30,607 - LiteLLM - INFO - Wrapper: Completed Call, calling success_handler
2025-05-08 21:28:30,630 - LiteLLM - INFO - 
LiteLLM completion() model= gpt-4.1-mini; provider = openai
2025-05-08 21:28:58,942 - LiteLLM - INFO - Wrapper: Completed Call, calling success_handler
2025-05-08 21:28:58,972 - LiteLLM - INFO - 
LiteLLM completion() model= gpt-4.1-mini; provider = openai
2025-05-08 21:29:33,607 - LiteLLM - INFO - Wrapper: Completed Call, calling success_handler
2025-05-08 21:29:33,627 - app.services.crew_service - INFO - Quiz generation crew completed successfully with result: {
  "quiz_title": "Cybersecurity Fundamentals in the Travel Technology Sector",
  "chapter_count": 4...
2025-05-08 21:29:33,627 - app.services.crew_service - INFO - Quiz generation crew completed successfully
2025-05-08 21:29:33,628 - app.services.crew_service - INFO - Parsing quiz generation crew result
2025-05-08 21:29:33,628 - app.services.crew_service - DEBUG - Result text first 200 chars: {
  "quiz_title": "Cybersecurity Fundamentals in the Travel Technology Sector",
  "chapter_count": 4,
  "question_count": 20,
  "complete_quiz": {
    "title": "Cybersecurity Fundamentals in the Trave
2025-05-08 21:29:33,628 - app.services.crew_service - DEBUG - Result text length: 14363
2025-05-08 21:29:33,628 - app.services.crew_service - INFO - Successfully parsed result as direct JSON
2025-05-08 21:29:33,628 - app.services.crew_service - INFO - Found complete quiz in result
2025-05-08 21:29:33,679 - app.services.crew_service - INFO - Successfully inserted quiz with ID: 27
2025-05-08 21:29:33,725 - app.services.crew_service - INFO - Successfully inserted chapter with ID: 38
2025-05-08 21:29:33,769 - app.services.crew_service - DEBUG - Created question 1 in chapter 38
2025-05-08 21:29:33,947 - app.services.crew_service - DEBUG - Created question 2 in chapter 38
2025-05-08 21:29:34,129 - app.services.crew_service - DEBUG - Created question 3 in chapter 38
2025-05-08 21:29:34,275 - app.services.crew_service - DEBUG - Created question 4 in chapter 38
2025-05-08 21:29:34,320 - app.services.crew_service - DEBUG - Created question 5 in chapter 38
2025-05-08 21:29:34,462 - app.services.crew_service - INFO - Successfully inserted chapter with ID: 39
2025-05-08 21:29:34,516 - app.services.crew_service - DEBUG - Created question 1 in chapter 39
2025-05-08 21:29:34,568 - app.services.crew_service - DEBUG - Created question 2 in chapter 39
2025-05-08 21:29:34,614 - app.services.crew_service - DEBUG - Created question 3 in chapter 39
2025-05-08 21:29:34,662 - app.services.crew_service - DEBUG - Created question 4 in chapter 39
2025-05-08 21:29:34,713 - app.services.crew_service - DEBUG - Created question 5 in chapter 39
2025-05-08 21:29:34,757 - app.services.crew_service - INFO - Successfully inserted chapter with ID: 40
2025-05-08 21:29:34,799 - app.services.crew_service - DEBUG - Created question 1 in chapter 40
2025-05-08 21:29:34,979 - app.services.crew_service - DEBUG - Created question 2 in chapter 40
2025-05-08 21:29:35,024 - app.services.crew_service - DEBUG - Created question 3 in chapter 40
2025-05-08 21:29:35,175 - app.services.crew_service - DEBUG - Created question 4 in chapter 40
2025-05-08 21:29:35,219 - app.services.crew_service - DEBUG - Created question 5 in chapter 40
2025-05-08 21:29:35,275 - app.services.crew_service - INFO - Successfully inserted chapter with ID: 41
2025-05-08 21:29:35,477 - app.services.crew_service - DEBUG - Created question 1 in chapter 41
2025-05-08 21:29:35,525 - app.services.crew_service - DEBUG - Created question 2 in chapter 41
2025-05-08 21:29:35,700 - app.services.crew_service - DEBUG - Created question 3 in chapter 41
2025-05-08 21:29:35,872 - app.services.crew_service - DEBUG - Created question 4 in chapter 41
2025-05-08 21:29:35,918 - app.services.crew_service - DEBUG - Created question 5 in chapter 41
2025-05-08 21:29:35,918 - app.routes.agents - INFO - CrewAI quiz generation result: success
2025-05-08 21:45:36,422 - app.routes.agents - INFO - Starting registration process for user travel@example.com
2025-05-08 21:45:36,426 - app.routes.agents - INFO - Using CrewAI for registration process
2025-05-08 21:45:36,427 - app.services.crew_service - INFO - Creating registration crew for user: travel@example.com
2025-05-08 21:45:36,485 - app.services.crew_service - INFO - Starting registration crew workflow
2025-05-08 21:45:36,520 - LiteLLM - INFO - 
LiteLLM completion() model= gpt-4.1-mini; provider = openai
2025-05-08 21:45:38,191 - LiteLLM - INFO - Wrapper: Completed Call, calling success_handler
2025-05-08 21:45:38,219 - LiteLLM - INFO - 
LiteLLM completion() model= gpt-4.1-mini; provider = openai
2025-05-08 21:45:43,893 - LiteLLM - INFO - Wrapper: Completed Call, calling success_handler
2025-05-08 21:45:43,934 - LiteLLM - INFO - 
LiteLLM completion() model= gpt-4.1-mini; provider = openai
2025-05-08 21:45:47,986 - LiteLLM - INFO - Wrapper: Completed Call, calling success_handler
2025-05-08 21:45:48,015 - app.services.crew_service - INFO - Crew result: {
  "topic_priorities": [
    {
      "topic": "Security Risks in Travel Booking Systems",
      "relevance_score": 9.8
    },
    {
      "topic": "Threat Detection and Incident Response in Travel Systems",
      "relevance_score": 9.5
    },
    {
      "topic": "Compliance with Travel Industry Regulations (e.g., GDPR, PCI-DSS)",
      "relevance_score": 9.2
    },
    {
      "topic": "Identity and Access Management",
      "relevance_score": 8.9
    },
    {
      "topic": "Application Security for Booking Platforms",
      "relevance_score": 8.7
    },
    {
      "topic": "Network Security and Data Protection",
      "relevance_score": 8.5
    }
  ],
  "sector_threats": {
    "Travel and Hospitality Sector": [
      "Data breaches exposing customer PII and payment data",
      "Ransomware attacks targeting booking and reservation systems",
      "Credential stuffing and account takeover attacks on user accounts",
      "Supply chain attacks affecting travel software providers",
      "Phishing campaigns targeting travel staff and customers",
      "Exploitation of vulnerabilities in booking platform applications",
      "Non-compliance penalties resulting from inadequate GDPR and PCI-DSS adherence"
    ]
  },
  "focus_areas": [
    "Advanced threat modeling tailored to travel booking platforms",
    "Incident response planning for travel industry cyber incidents",
    "Data privacy and compliance with GDPR and PCI-DSS in travel",
    "User authentication and fraud prevention mechanisms",
    "Vulnerability assessment and penetration testing in travel environments"
  ],
  "recommended_topic_id": 8
}
2025-05-08 21:45:48,015 - app.services.crew_service - INFO - Registration crew completed successfully
2025-05-08 21:45:48,016 - app.services.crew_service - INFO - Parsing registration crew result
2025-05-08 21:45:48,017 - app.services.crew_service - INFO - Found JSON in text: dict_keys(['topic_priorities', 'sector_threats', 'focus_areas', 'recommended_topic_id'])
2025-05-08 21:45:48,017 - app.routes.agents - INFO - CrewAI registration result: success
2025-05-08 21:45:48,081 - app.routes.agents - INFO - Using CrewAI to generate quiz for topic: Cybersecurity Fundamentals
2025-05-08 21:45:48,082 - app.services.crew_service - INFO - Creating quiz generation crew for topic: Cybersecurity Fundamentals
2025-05-08 21:45:48,082 - app.services.crew_service - WARNING - No user_id provided in quiz_data, attempting to find a valid user
2025-05-08 21:45:48,126 - app.services.crew_service - INFO - Found valid user_id: 1
2025-05-08 21:45:48,135 - app.services.crew_service - INFO - Starting quiz generation crew workflow
2025-05-08 21:45:48,158 - LiteLLM - INFO - 
LiteLLM completion() model= gpt-4.1-mini; provider = openai
2025-05-08 21:46:17,061 - LiteLLM - INFO - Wrapper: Completed Call, calling success_handler
2025-05-08 21:46:17,095 - LiteLLM - INFO - 
LiteLLM completion() model= gpt-4.1-mini; provider = openai
2025-05-08 21:46:41,943 - LiteLLM - INFO - Wrapper: Completed Call, calling success_handler
2025-05-08 21:46:41,969 - LiteLLM - INFO - 
LiteLLM completion() model= gpt-4.1-mini; provider = openai
2025-05-08 21:47:24,832 - LiteLLM - INFO - Wrapper: Completed Call, calling success_handler
2025-05-08 21:47:24,860 - app.services.crew_service - INFO - Quiz generation crew completed successfully with result: {
  "quiz_title": "Cybersecurity Fundamentals for Travel Booking Platforms",
  "chapter_count": 4,
 ...
2025-05-08 21:47:24,861 - app.services.crew_service - INFO - Quiz generation crew completed successfully
2025-05-08 21:47:24,861 - app.services.crew_service - INFO - Parsing quiz generation crew result
2025-05-08 21:47:24,861 - app.services.crew_service - DEBUG - Result text first 200 chars: {
  "quiz_title": "Cybersecurity Fundamentals for Travel Booking Platforms",
  "chapter_count": 4,
  "question_count": 20,
  "complete_quiz": {
    "title": "Cybersecurity Fundamentals for Travel Book
2025-05-08 21:47:24,861 - app.services.crew_service - DEBUG - Result text length: 14527
2025-05-08 21:47:24,862 - app.services.crew_service - INFO - Successfully parsed result as direct JSON
2025-05-08 21:47:24,862 - app.services.crew_service - INFO - Found complete quiz in result
2025-05-08 21:47:24,924 - app.services.crew_service - INFO - Successfully inserted quiz with ID: 28
2025-05-08 21:47:24,969 - app.services.crew_service - INFO - Successfully inserted chapter with ID: 42
2025-05-08 21:47:25,013 - app.services.crew_service - DEBUG - Created question 1 in chapter 42
2025-05-08 21:47:25,059 - app.services.crew_service - DEBUG - Created question 2 in chapter 42
2025-05-08 21:47:25,101 - app.services.crew_service - DEBUG - Created question 3 in chapter 42
2025-05-08 21:47:25,146 - app.services.crew_service - DEBUG - Created question 4 in chapter 42
2025-05-08 21:47:25,326 - app.services.crew_service - DEBUG - Created question 5 in chapter 42
2025-05-08 21:47:25,375 - app.services.crew_service - INFO - Successfully inserted chapter with ID: 43
2025-05-08 21:47:25,422 - app.services.crew_service - DEBUG - Created question 1 in chapter 43
2025-05-08 21:47:25,468 - app.services.crew_service - DEBUG - Created question 2 in chapter 43
2025-05-08 21:47:25,512 - app.services.crew_service - DEBUG - Created question 3 in chapter 43
2025-05-08 21:47:25,677 - app.services.crew_service - DEBUG - Created question 4 in chapter 43
2025-05-08 21:47:25,721 - app.services.crew_service - DEBUG - Created question 5 in chapter 43
2025-05-08 21:47:25,766 - app.services.crew_service - INFO - Successfully inserted chapter with ID: 44
2025-05-08 21:47:25,917 - app.services.crew_service - DEBUG - Created question 1 in chapter 44
2025-05-08 21:47:25,962 - app.services.crew_service - DEBUG - Created question 2 in chapter 44
2025-05-08 21:47:26,117 - app.services.crew_service - DEBUG - Created question 3 in chapter 44
2025-05-08 21:47:26,164 - app.services.crew_service - DEBUG - Created question 4 in chapter 44
2025-05-08 21:47:26,332 - app.services.crew_service - DEBUG - Created question 5 in chapter 44
2025-05-08 21:47:26,378 - app.services.crew_service - INFO - Successfully inserted chapter with ID: 45
2025-05-08 21:47:26,563 - app.services.crew_service - DEBUG - Created question 1 in chapter 45
2025-05-08 21:47:26,610 - app.services.crew_service - DEBUG - Created question 2 in chapter 45
2025-05-08 21:47:26,655 - app.services.crew_service - DEBUG - Created question 3 in chapter 45
2025-05-08 21:47:26,699 - app.services.crew_service - DEBUG - Created question 4 in chapter 45
2025-05-08 21:47:26,743 - app.services.crew_service - DEBUG - Created question 5 in chapter 45
2025-05-08 21:47:26,743 - app.routes.agents - INFO - CrewAI quiz generation result: success
2025-05-08 22:11:21,492 - app.routes.agents - INFO - Starting registration process for user banking@example.com
2025-05-08 22:11:21,506 - app.routes.agents - INFO - Using CrewAI for registration process
2025-05-08 22:11:21,506 - app.services.crew_service - INFO - Creating registration crew for user: banking@example.com
2025-05-08 22:11:21,577 - app.services.crew_service - INFO - Starting registration crew workflow
2025-05-08 22:11:21,630 - LiteLLM - INFO - 
LiteLLM completion() model= gpt-4.1-mini; provider = openai
2025-05-08 22:11:23,756 - LiteLLM - INFO - Wrapper: Completed Call, calling success_handler
2025-05-08 22:11:23,794 - LiteLLM - INFO - 
LiteLLM completion() model= gpt-4.1-mini; provider = openai
2025-05-08 22:11:28,823 - LiteLLM - INFO - Wrapper: Completed Call, calling success_handler
2025-05-08 22:11:28,861 - LiteLLM - INFO - 
LiteLLM completion() model= gpt-4.1-mini; provider = openai
2025-05-08 22:11:34,672 - LiteLLM - INFO - Wrapper: Completed Call, calling success_handler
2025-05-08 22:11:34,702 - app.services.crew_service - INFO - Crew result: ```json
{
  "topic_priorities": [
    {
      "topic_id": 11,
      "topic_name": "Financial cybersecurity threats and risk management",
      "relevance_score": 9.8
    },
    {
      "topic_id": 21,
      "topic_name": "Regulatory compliance in banking and finance (e.g., PCI DSS, SOX, GDPR)",
      "relevance_score": 9.5
    },
    {
      "topic_id": 15,
      "topic_name": "Incident response and disaster recovery specific to banking",
      "relevance_score": 9.2
    },
    {
      "topic_id": 18,
      "topic_name": "Identity and access management (IAM) in finance",
      "relevance_score": 8.9
    },
    {
      "topic_id": 23,
      "topic_name": "Emerging technologies and cybersecurity implications in banking (e.g., blockchain, fintech security)",
      "relevance_score": 8.5
    }
  ],
  "sector_threats": {
    "Financial Sector": [
      "Advanced Persistent Threats (APTs) targeting banking infrastructure",
      "Phishing and social engineering attacks aimed at financial employees and customers",
      "Ransomware attacks on core banking systems and payment processing",
      "Insider threats involving unauthorized access or fraud",
      "Credential stuffing and identity theft due to weak or compromised authentication",
      "Exploitation of vulnerabilities in fintech and blockchain applications",
      "Regulatory non-compliance penalties impacting operational continuity",
      "Denial of Service (DoS) and Distributed Denial of Service (DDoS) attacks disrupting online banking services"
    ]
  },
  "focus_areas": [
    "Advanced detection and mitigation of financial cyber threats",
    "Regulatory compliance frameworks and audit preparation",
    "Incident response and recovery strategies for banking systems",
    "Cryptography and secure transaction processing in finance",
    "Cloud security and secure architecture design for financial institutions"
  ],
  "recommended_topic_id": 11
}
```
2025-05-08 22:11:34,702 - app.services.crew_service - INFO - Registration crew completed successfully
2025-05-08 22:11:34,706 - app.services.crew_service - INFO - Parsing registration crew result
2025-05-08 22:11:34,706 - app.services.crew_service - INFO - Successfully extracted JSON from result: dict_keys(['topic_priorities', 'sector_threats', 'focus_areas', 'recommended_topic_id'])
2025-05-08 22:11:34,707 - app.routes.agents - INFO - CrewAI registration result: success
2025-05-08 22:11:34,772 - app.routes.agents - INFO - Using CrewAI to generate quiz for topic: Cybersecurity Fundamentals
2025-05-08 22:11:34,772 - app.services.crew_service - INFO - Creating quiz generation crew for topic: Cybersecurity Fundamentals
2025-05-08 22:11:34,772 - app.services.crew_service - WARNING - No user_id provided in quiz_data, attempting to find a valid user
2025-05-08 22:11:34,828 - app.services.crew_service - INFO - Found valid user_id: 1
2025-05-08 22:11:34,841 - app.services.crew_service - INFO - Starting quiz generation crew workflow
2025-05-08 22:11:34,860 - LiteLLM - INFO - 
LiteLLM completion() model= gpt-4.1-mini; provider = openai
2025-05-08 22:11:45,098 - opentelemetry.sdk.trace.export - ERROR - Exception while exporting Span batch.
Traceback (most recent call last):
  File "C:\Users\Gameapp\AppData\Local\Programs\Python\Python312\Lib\site-packages\urllib3\connectionpool.py", line 787, in urlopen
    response = self._make_request(
               ^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Gameapp\AppData\Local\Programs\Python\Python312\Lib\site-packages\urllib3\connectionpool.py", line 534, in _make_request
    response = conn.getresponse()
               ^^^^^^^^^^^^^^^^^^
  File "C:\Users\Gameapp\AppData\Local\Programs\Python\Python312\Lib\site-packages\urllib3\connection.py", line 516, in getresponse
    httplib_response = super().getresponse()
                       ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Gameapp\AppData\Local\Programs\Python\Python312\Lib\http\client.py", line 1428, in getresponse
    response.begin()
  File "C:\Users\Gameapp\AppData\Local\Programs\Python\Python312\Lib\http\client.py", line 331, in begin
    version, status, reason = self._read_status()
                              ^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Gameapp\AppData\Local\Programs\Python\Python312\Lib\http\client.py", line 300, in _read_status
    raise RemoteDisconnected("Remote end closed connection without"
http.client.RemoteDisconnected: Remote end closed connection without response

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\Gameapp\AppData\Local\Programs\Python\Python312\Lib\site-packages\requests\adapters.py", line 667, in send
    resp = conn.urlopen(
           ^^^^^^^^^^^^^
  File "C:\Users\Gameapp\AppData\Local\Programs\Python\Python312\Lib\site-packages\urllib3\connectionpool.py", line 841, in urlopen
    retries = retries.increment(
              ^^^^^^^^^^^^^^^^^^
  File "C:\Users\Gameapp\AppData\Local\Programs\Python\Python312\Lib\site-packages\urllib3\util\retry.py", line 474, in increment
    raise reraise(type(error), error, _stacktrace)
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Gameapp\AppData\Local\Programs\Python\Python312\Lib\site-packages\urllib3\util\util.py", line 38, in reraise
    raise value.with_traceback(tb)
  File "C:\Users\Gameapp\AppData\Local\Programs\Python\Python312\Lib\site-packages\urllib3\connectionpool.py", line 787, in urlopen
    response = self._make_request(
               ^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Gameapp\AppData\Local\Programs\Python\Python312\Lib\site-packages\urllib3\connectionpool.py", line 534, in _make_request
    response = conn.getresponse()
               ^^^^^^^^^^^^^^^^^^
  File "C:\Users\Gameapp\AppData\Local\Programs\Python\Python312\Lib\site-packages\urllib3\connection.py", line 516, in getresponse
    httplib_response = super().getresponse()
                       ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Gameapp\AppData\Local\Programs\Python\Python312\Lib\http\client.py", line 1428, in getresponse
    response.begin()
  File "C:\Users\Gameapp\AppData\Local\Programs\Python\Python312\Lib\http\client.py", line 331, in begin
    version, status, reason = self._read_status()
                              ^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Gameapp\AppData\Local\Programs\Python\Python312\Lib\http\client.py", line 300, in _read_status
    raise RemoteDisconnected("Remote end closed connection without"
urllib3.exceptions.ProtocolError: ('Connection aborted.', RemoteDisconnected('Remote end closed connection without response'))

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\Gameapp\AppData\Local\Programs\Python\Python312\Lib\site-packages\opentelemetry\sdk\trace\export\__init__.py", line 360, in _export_batch
    self.span_exporter.export(self.spans_list[:idx])  # type: ignore
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Gameapp\AppData\Local\Programs\Python\Python312\Lib\site-packages\opentelemetry\exporter\otlp\proto\http\trace_exporter\__init__.py", line 189, in export
    return self._export_serialized_spans(serialized_data)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Gameapp\AppData\Local\Programs\Python\Python312\Lib\site-packages\opentelemetry\exporter\otlp\proto\http\trace_exporter\__init__.py", line 159, in _export_serialized_spans
    resp = self._export(serialized_data)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Gameapp\AppData\Local\Programs\Python\Python312\Lib\site-packages\opentelemetry\exporter\otlp\proto\http\trace_exporter\__init__.py", line 133, in _export
    return self._session.post(
           ^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Gameapp\AppData\Local\Programs\Python\Python312\Lib\site-packages\requests\sessions.py", line 637, in post
    return self.request("POST", url, data=data, json=json, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Gameapp\AppData\Local\Programs\Python\Python312\Lib\site-packages\requests\sessions.py", line 589, in request
    resp = self.send(prep, **send_kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Gameapp\AppData\Local\Programs\Python\Python312\Lib\site-packages\requests\sessions.py", line 703, in send
    r = adapter.send(request, **kwargs)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Gameapp\AppData\Local\Programs\Python\Python312\Lib\site-packages\requests\adapters.py", line 682, in send
    raise ConnectionError(err, request=request)
requests.exceptions.ConnectionError: ('Connection aborted.', RemoteDisconnected('Remote end closed connection without response'))
2025-05-08 22:12:01,171 - LiteLLM - INFO - Wrapper: Completed Call, calling success_handler
2025-05-08 22:12:01,199 - LiteLLM - INFO - 
LiteLLM completion() model= gpt-4.1-mini; provider = openai
2025-05-08 22:12:31,064 - LiteLLM - INFO - Wrapper: Completed Call, calling success_handler
2025-05-08 22:12:31,107 - LiteLLM - INFO - 
LiteLLM completion() model= gpt-4.1-mini; provider = openai
2025-05-08 22:13:13,315 - LiteLLM - INFO - Wrapper: Completed Call, calling success_handler
2025-05-08 22:13:13,341 - app.services.crew_service - INFO - Quiz generation crew completed successfully with result: {
  "quiz_title": "Cybersecurity Fundamentals - Advanced Financial Sector Focus",
  "chapter_count":...
2025-05-08 22:13:13,341 - app.services.crew_service - INFO - Quiz generation crew completed successfully
2025-05-08 22:13:13,342 - app.services.crew_service - INFO - Parsing quiz generation crew result
2025-05-08 22:13:13,342 - app.services.crew_service - DEBUG - Result text first 200 chars: {
  "quiz_title": "Cybersecurity Fundamentals - Advanced Financial Sector Focus",
  "chapter_count": 4,
  "question_count": 20,
  "complete_quiz": {
    "title": "Cybersecurity Fundamentals - Advanced
2025-05-08 22:13:13,342 - app.services.crew_service - DEBUG - Result text length: 14720
2025-05-08 22:13:13,342 - app.services.crew_service - INFO - Successfully parsed result as direct JSON
2025-05-08 22:13:13,342 - app.services.crew_service - INFO - Found complete quiz in result
2025-05-08 22:13:13,405 - app.services.crew_service - INFO - Successfully inserted quiz with ID: 29
2025-05-08 22:13:13,450 - app.services.crew_service - INFO - Successfully inserted chapter with ID: 46
2025-05-08 22:13:13,494 - app.services.crew_service - DEBUG - Created question 1 in chapter 46
2025-05-08 22:13:13,537 - app.services.crew_service - DEBUG - Created question 2 in chapter 46
2025-05-08 22:13:13,582 - app.services.crew_service - DEBUG - Created question 3 in chapter 46
2025-05-08 22:13:13,626 - app.services.crew_service - DEBUG - Created question 4 in chapter 46
2025-05-08 22:13:13,670 - app.services.crew_service - DEBUG - Created question 5 in chapter 46
2025-05-08 22:13:13,839 - app.services.crew_service - INFO - Successfully inserted chapter with ID: 47
2025-05-08 22:13:14,015 - app.services.crew_service - DEBUG - Created question 1 in chapter 47
2025-05-08 22:13:14,063 - app.services.crew_service - DEBUG - Created question 2 in chapter 47
2025-05-08 22:13:14,217 - app.services.crew_service - DEBUG - Created question 3 in chapter 47
2025-05-08 22:13:14,369 - app.services.crew_service - DEBUG - Created question 4 in chapter 47
2025-05-08 22:13:14,414 - app.services.crew_service - DEBUG - Created question 5 in chapter 47
2025-05-08 22:13:14,589 - app.services.crew_service - INFO - Successfully inserted chapter with ID: 48
2025-05-08 22:13:14,634 - app.services.crew_service - DEBUG - Created question 1 in chapter 48
2025-05-08 22:13:14,678 - app.services.crew_service - DEBUG - Created question 2 in chapter 48
2025-05-08 22:13:14,844 - app.services.crew_service - DEBUG - Created question 3 in chapter 48
2025-05-08 22:13:14,889 - app.services.crew_service - DEBUG - Created question 4 in chapter 48
2025-05-08 22:13:14,934 - app.services.crew_service - DEBUG - Created question 5 in chapter 48
2025-05-08 22:13:14,976 - app.services.crew_service - INFO - Successfully inserted chapter with ID: 49
2025-05-08 22:13:15,155 - app.services.crew_service - DEBUG - Created question 1 in chapter 49
2025-05-08 22:13:15,330 - app.services.crew_service - DEBUG - Created question 2 in chapter 49
2025-05-08 22:13:15,518 - app.services.crew_service - DEBUG - Created question 3 in chapter 49
2025-05-08 22:13:15,567 - app.services.crew_service - DEBUG - Created question 4 in chapter 49
2025-05-08 22:13:15,614 - app.services.crew_service - DEBUG - Created question 5 in chapter 49
2025-05-08 22:13:15,614 - app.routes.agents - INFO - CrewAI quiz generation result: success
2025-05-08 22:19:28,969 - app.routes.agents - INFO - Starting registration process for user banking@example.com
2025-05-08 22:19:28,970 - app.routes.agents - INFO - Using CrewAI for registration process
2025-05-08 22:19:28,970 - app.services.crew_service - INFO - Creating registration crew for user: banking@example.com
2025-05-08 22:19:28,977 - app.services.crew_service - INFO - Starting registration crew workflow
2025-05-08 22:19:28,994 - LiteLLM - INFO - 
LiteLLM completion() model= gpt-4.1-mini; provider = openai
2025-05-08 22:19:30,392 - LiteLLM - INFO - Wrapper: Completed Call, calling success_handler
2025-05-08 22:19:30,413 - LiteLLM - INFO - 
LiteLLM completion() model= gpt-4.1-mini; provider = openai
2025-05-08 22:19:33,907 - LiteLLM - INFO - Wrapper: Completed Call, calling success_handler
2025-05-08 22:19:33,932 - LiteLLM - INFO - 
LiteLLM completion() model= gpt-4.1-mini; provider = openai
2025-05-08 22:19:40,606 - LiteLLM - INFO - Wrapper: Completed Call, calling success_handler
2025-05-08 22:19:40,622 - app.services.crew_service - INFO - Crew result: {
  "topic_priorities": [
    {
      "topic_id": 4,
      "topic_name": "Threat detection and prevention in banking sector",
      "relevance_score": 9.8
    },
    {
      "topic_id": 7,
      "topic_name": "Emerging cyber threats targeting financial services",
      "relevance_score": 9.5
    },
    {
      "topic_id": 1,
      "topic_name": "Financial cybersecurity regulations and compliance",
      "relevance_score": 9.3
    },
    {
      "topic_id": 5,
      "topic_name": "Fraud detection and mitigation techniques",
      "relevance_score": 9.2
    },
    {
      "topic_id": 12,
      "topic_name": "Incident response and recovery in financial environments",
      "relevance_score": 9.0
    }
  ],
  "sector_threats": {
    "Financial Services": [
      "Advanced Persistent Threats (APTs) targeting banking infrastructure",
      "Phishing and social engineering attacks designed to compromise employee credentials",
      "Ransomware attacks disrupting financial operations",
      "Insider threats leading to data breaches",
      "Man-in-the-middle attacks on secure transaction protocols",
      "Fraudulent transaction schemes exploiting system vulnerabilities",
      "Regulatory compliance violations leading to penalties",
      "Cloud security risks due to misconfiguration or insecure APIs"
    ]
  },
  "focus_areas": [
    "Advanced threat detection techniques specific to banking systems",
    "Mitigating emerging financial cybercrime trends",
    "Implementation of regulatory frameworks like GDPR, PCI DSS, SOX in banking",
    "Zero Trust security architecture adoption in financial institutions",
    "Enhancing incident response planning for financial sector cyber threats"
  ],
  "recommended_topic_id": 4
}
2025-05-08 22:19:40,626 - app.services.crew_service - INFO - Registration crew completed successfully
2025-05-08 22:19:40,626 - app.services.crew_service - INFO - Parsing registration crew result
2025-05-08 22:19:40,627 - app.services.crew_service - INFO - Found JSON in text: dict_keys(['topic_priorities', 'sector_threats', 'focus_areas', 'recommended_topic_id'])
2025-05-08 22:19:40,627 - app.routes.agents - INFO - CrewAI registration result: success
2025-05-08 22:19:40,681 - app.routes.agents - INFO - Using CrewAI to generate quiz for topic: Cybersecurity Fundamentals
2025-05-08 22:19:40,681 - app.services.crew_service - INFO - Creating quiz generation crew for topic: Cybersecurity Fundamentals
2025-05-08 22:19:40,681 - app.services.crew_service - WARNING - No user_id provided in quiz_data, attempting to find a valid user
2025-05-08 22:19:40,723 - app.services.crew_service - INFO - Found valid user_id: 1
2025-05-08 22:19:40,734 - app.services.crew_service - INFO - Starting quiz generation crew workflow
2025-05-08 22:19:40,751 - LiteLLM - INFO - 
LiteLLM completion() model= gpt-4.1-mini; provider = openai
2025-05-08 22:20:00,540 - LiteLLM - INFO - Wrapper: Completed Call, calling success_handler
2025-05-08 22:20:00,566 - LiteLLM - INFO - 
LiteLLM completion() model= gpt-4.1-mini; provider = openai
2025-05-08 22:20:33,595 - LiteLLM - INFO - Wrapper: Completed Call, calling success_handler
2025-05-08 22:20:33,618 - LiteLLM - INFO - 
LiteLLM completion() model= gpt-4.1-mini; provider = openai
2025-05-08 22:21:08,985 - LiteLLM - INFO - Wrapper: Completed Call, calling success_handler
2025-05-08 22:21:09,015 - app.services.crew_service - INFO - Quiz generation crew completed successfully with result: {
  "quiz_title": "Cybersecurity Fundamentals for Financial Sector Professionals",
  "chapter_count"...
2025-05-08 22:21:09,016 - app.services.crew_service - INFO - Quiz generation crew completed successfully
2025-05-08 22:21:09,017 - app.services.crew_service - INFO - Parsing quiz generation crew result
2025-05-08 22:21:09,017 - app.services.crew_service - DEBUG - Result text first 200 chars: {
  "quiz_title": "Cybersecurity Fundamentals for Financial Sector Professionals",
  "chapter_count": 4,
  "question_count": 20,
  "complete_quiz": {
    "title": "Cybersecurity Fundamentals for Finan
2025-05-08 22:21:09,017 - app.services.crew_service - DEBUG - Result text length: 14738
2025-05-08 22:21:09,017 - app.services.crew_service - INFO - Successfully parsed result as direct JSON
2025-05-08 22:21:09,018 - app.services.crew_service - INFO - Found complete quiz in result
2025-05-08 22:21:09,078 - app.services.crew_service - INFO - Successfully inserted quiz with ID: 30
2025-05-08 22:21:09,125 - app.services.crew_service - INFO - Successfully inserted chapter with ID: 50
2025-05-08 22:21:09,171 - app.services.crew_service - DEBUG - Created question 1 in chapter 50
2025-05-08 22:21:09,216 - app.services.crew_service - DEBUG - Created question 2 in chapter 50
2025-05-08 22:21:09,260 - app.services.crew_service - DEBUG - Created question 3 in chapter 50
2025-05-08 22:21:09,305 - app.services.crew_service - DEBUG - Created question 4 in chapter 50
2025-05-08 22:21:09,349 - app.services.crew_service - DEBUG - Created question 5 in chapter 50
2025-05-08 22:21:09,393 - app.services.crew_service - INFO - Successfully inserted chapter with ID: 51
2025-05-08 22:21:09,437 - app.services.crew_service - DEBUG - Created question 1 in chapter 51
2025-05-08 22:21:09,481 - app.services.crew_service - DEBUG - Created question 2 in chapter 51
2025-05-08 22:21:09,664 - app.services.crew_service - DEBUG - Created question 3 in chapter 51
2025-05-08 22:21:09,816 - app.services.crew_service - DEBUG - Created question 4 in chapter 51
2025-05-08 22:21:09,994 - app.services.crew_service - DEBUG - Created question 5 in chapter 51
2025-05-08 22:21:10,049 - app.services.crew_service - INFO - Successfully inserted chapter with ID: 52
2025-05-08 22:21:10,096 - app.services.crew_service - DEBUG - Created question 1 in chapter 52
2025-05-08 22:21:10,139 - app.services.crew_service - DEBUG - Created question 2 in chapter 52
2025-05-08 22:21:10,313 - app.services.crew_service - DEBUG - Created question 3 in chapter 52
2025-05-08 22:21:10,359 - app.services.crew_service - DEBUG - Created question 4 in chapter 52
2025-05-08 22:21:10,405 - app.services.crew_service - DEBUG - Created question 5 in chapter 52
2025-05-08 22:21:10,449 - app.services.crew_service - INFO - Successfully inserted chapter with ID: 53
2025-05-08 22:21:10,636 - app.services.crew_service - DEBUG - Created question 1 in chapter 53
2025-05-08 22:21:10,681 - app.services.crew_service - DEBUG - Created question 2 in chapter 53
2025-05-08 22:21:10,726 - app.services.crew_service - DEBUG - Created question 3 in chapter 53
2025-05-08 22:21:10,769 - app.services.crew_service - DEBUG - Created question 4 in chapter 53
2025-05-08 22:21:10,813 - app.services.crew_service - DEBUG - Created question 5 in chapter 53
2025-05-08 22:21:10,813 - app.routes.agents - INFO - CrewAI quiz generation result: success
2025-05-09 06:40:18,512 - app.routes.agents - INFO - Starting registration process for user healthcare@example.com
2025-05-09 06:40:18,523 - app.routes.agents - INFO - Using CrewAI for registration process
2025-05-09 06:40:18,524 - app.services.crew_service - INFO - Creating registration crew for user: healthcare@example.com
2025-05-09 06:40:18,611 - app.services.crew_service - INFO - Starting registration crew workflow
2025-05-09 06:40:19,061 - LiteLLM - INFO - 
LiteLLM completion() model= gpt-4.1-mini; provider = openai
2025-05-09 06:40:22,367 - LiteLLM - INFO - Wrapper: Completed Call, calling success_handler
2025-05-09 06:40:22,417 - LiteLLM - INFO - 
LiteLLM completion() model= gpt-4.1-mini; provider = openai
2025-05-09 06:40:27,851 - LiteLLM - INFO - Wrapper: Completed Call, calling success_handler
2025-05-09 06:40:27,884 - LiteLLM - INFO - 
LiteLLM completion() model= gpt-4.1-mini; provider = openai
2025-05-09 06:40:35,432 - LiteLLM - INFO - Wrapper: Completed Call, calling success_handler
2025-05-09 06:40:35,569 - app.services.crew_service - INFO - Crew result: {
  "topic_priorities": [
    {
      "topic_id": 2,
      "topic_name": "Healthcare Information Security",
      "relevance_score": 9.8
    },
    {
      "topic_id": 5,
      "topic_name": "Patient Data Privacy and Compliance (HIPAA, GDPR)",
      "relevance_score": 9.5
    },
    {
      "topic_id": 7,
      "topic_name": "Medical Device Security",
      "relevance_score": 9.0
    },
    {
      "topic_id": 10,
      "topic_name": "Healthcare IT Risk Management",
      "relevance_score": 8.7
    },
    {
      "topic_id": 12,
      "topic_name": "Incident Response in Healthcare Settings",
      "relevance_score": 8.5
    }
  ],
  "sector_threats": {
    "Healthcare Sector": [
      "Ransomware attacks targeting hospital systems and patient records",
      "Phishing campaigns aimed at healthcare staff to gain access to protected health information (PHI)",
      "Exploitation of vulnerabilities in medical devices and IoT healthcare equipment",
      "Insider threats related to unauthorized access or data leakage of patient data",
      "Supply chain attacks impacting healthcare software and hardware",
      "Non-compliance with HIPAA and GDPR leading to regulatory penalties",
      "Advanced persistent threats (APT) focusing on healthcare research and patient data",
      "Cloud misconfigurations exposing sensitive healthcare data"
    ]
  },
  "focus_areas": [
    "Advanced patient data protection techniques including encryption and access control",
    "Emerging healthcare cybersecurity threats such as ransomware and APTs",
    "Implementation of zero-trust security models specific to healthcare environments",
    "Use of AI and machine learning for early threat detection in healthcare IT systems",
    "Continuous compliance monitoring with HIPAA/GDPR and audit readiness"
  ],
  "recommended_topic_id": 2
}
2025-05-09 06:40:35,569 - app.services.crew_service - INFO - Registration crew completed successfully
2025-05-09 06:40:35,569 - app.services.crew_service - INFO - Parsing registration crew result
2025-05-09 06:40:35,569 - app.services.crew_service - INFO - Found JSON in text: dict_keys(['topic_priorities', 'sector_threats', 'focus_areas', 'recommended_topic_id'])
2025-05-09 06:40:35,576 - app.routes.agents - INFO - CrewAI registration result: success
2025-05-09 06:40:35,659 - app.routes.agents - INFO - Using CrewAI to generate quiz for topic: Cybersecurity Fundamentals
2025-05-09 06:40:35,659 - app.services.crew_service - INFO - Creating quiz generation crew for topic: Cybersecurity Fundamentals
2025-05-09 06:40:35,659 - app.services.crew_service - WARNING - No user_id provided in quiz_data, attempting to find a valid user
2025-05-09 06:40:35,702 - app.services.crew_service - INFO - Found valid user_id: 1
2025-05-09 06:40:35,719 - app.services.crew_service - INFO - Starting quiz generation crew workflow
2025-05-09 06:40:35,773 - LiteLLM - INFO - 
LiteLLM completion() model= gpt-4.1-mini; provider = openai
2025-05-09 06:40:41,027 - opentelemetry.sdk.trace.export - ERROR - Exception while exporting Span batch.
Traceback (most recent call last):
  File "C:\Users\Gameapp\AppData\Local\Programs\Python\Python312\Lib\site-packages\urllib3\connectionpool.py", line 787, in urlopen
    response = self._make_request(
               ^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Gameapp\AppData\Local\Programs\Python\Python312\Lib\site-packages\urllib3\connectionpool.py", line 534, in _make_request
    response = conn.getresponse()
               ^^^^^^^^^^^^^^^^^^
  File "C:\Users\Gameapp\AppData\Local\Programs\Python\Python312\Lib\site-packages\urllib3\connection.py", line 516, in getresponse
    httplib_response = super().getresponse()
                       ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Gameapp\AppData\Local\Programs\Python\Python312\Lib\http\client.py", line 1428, in getresponse
    response.begin()
  File "C:\Users\Gameapp\AppData\Local\Programs\Python\Python312\Lib\http\client.py", line 331, in begin
    version, status, reason = self._read_status()
                              ^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Gameapp\AppData\Local\Programs\Python\Python312\Lib\http\client.py", line 300, in _read_status
    raise RemoteDisconnected("Remote end closed connection without"
http.client.RemoteDisconnected: Remote end closed connection without response

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\Gameapp\AppData\Local\Programs\Python\Python312\Lib\site-packages\requests\adapters.py", line 667, in send
    resp = conn.urlopen(
           ^^^^^^^^^^^^^
  File "C:\Users\Gameapp\AppData\Local\Programs\Python\Python312\Lib\site-packages\urllib3\connectionpool.py", line 841, in urlopen
    retries = retries.increment(
              ^^^^^^^^^^^^^^^^^^
  File "C:\Users\Gameapp\AppData\Local\Programs\Python\Python312\Lib\site-packages\urllib3\util\retry.py", line 474, in increment
    raise reraise(type(error), error, _stacktrace)
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Gameapp\AppData\Local\Programs\Python\Python312\Lib\site-packages\urllib3\util\util.py", line 38, in reraise
    raise value.with_traceback(tb)
  File "C:\Users\Gameapp\AppData\Local\Programs\Python\Python312\Lib\site-packages\urllib3\connectionpool.py", line 787, in urlopen
    response = self._make_request(
               ^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Gameapp\AppData\Local\Programs\Python\Python312\Lib\site-packages\urllib3\connectionpool.py", line 534, in _make_request
    response = conn.getresponse()
               ^^^^^^^^^^^^^^^^^^
  File "C:\Users\Gameapp\AppData\Local\Programs\Python\Python312\Lib\site-packages\urllib3\connection.py", line 516, in getresponse
    httplib_response = super().getresponse()
                       ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Gameapp\AppData\Local\Programs\Python\Python312\Lib\http\client.py", line 1428, in getresponse
    response.begin()
  File "C:\Users\Gameapp\AppData\Local\Programs\Python\Python312\Lib\http\client.py", line 331, in begin
    version, status, reason = self._read_status()
                              ^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Gameapp\AppData\Local\Programs\Python\Python312\Lib\http\client.py", line 300, in _read_status
    raise RemoteDisconnected("Remote end closed connection without"
urllib3.exceptions.ProtocolError: ('Connection aborted.', RemoteDisconnected('Remote end closed connection without response'))

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\Gameapp\AppData\Local\Programs\Python\Python312\Lib\site-packages\opentelemetry\sdk\trace\export\__init__.py", line 360, in _export_batch
    self.span_exporter.export(self.spans_list[:idx])  # type: ignore
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Gameapp\AppData\Local\Programs\Python\Python312\Lib\site-packages\opentelemetry\exporter\otlp\proto\http\trace_exporter\__init__.py", line 189, in export
    return self._export_serialized_spans(serialized_data)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Gameapp\AppData\Local\Programs\Python\Python312\Lib\site-packages\opentelemetry\exporter\otlp\proto\http\trace_exporter\__init__.py", line 159, in _export_serialized_spans
    resp = self._export(serialized_data)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Gameapp\AppData\Local\Programs\Python\Python312\Lib\site-packages\opentelemetry\exporter\otlp\proto\http\trace_exporter\__init__.py", line 133, in _export
    return self._session.post(
           ^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Gameapp\AppData\Local\Programs\Python\Python312\Lib\site-packages\requests\sessions.py", line 637, in post
    return self.request("POST", url, data=data, json=json, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Gameapp\AppData\Local\Programs\Python\Python312\Lib\site-packages\requests\sessions.py", line 589, in request
    resp = self.send(prep, **send_kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Gameapp\AppData\Local\Programs\Python\Python312\Lib\site-packages\requests\sessions.py", line 703, in send
    r = adapter.send(request, **kwargs)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Gameapp\AppData\Local\Programs\Python\Python312\Lib\site-packages\requests\adapters.py", line 682, in send
    raise ConnectionError(err, request=request)
requests.exceptions.ConnectionError: ('Connection aborted.', RemoteDisconnected('Remote end closed connection without response'))
2025-05-09 06:41:16,686 - LiteLLM - INFO - Wrapper: Completed Call, calling success_handler
2025-05-09 06:41:16,712 - LiteLLM - INFO - 
LiteLLM completion() model= gpt-4.1-mini; provider = openai
2025-05-09 06:42:14,754 - LiteLLM - INFO - Wrapper: Completed Call, calling success_handler
2025-05-09 06:42:14,795 - LiteLLM - INFO - 
LiteLLM completion() model= gpt-4.1-mini; provider = openai
2025-05-09 06:43:10,825 - LiteLLM - INFO - Wrapper: Completed Call, calling success_handler
2025-05-09 06:43:10,907 - app.services.crew_service - INFO - Quiz generation crew completed successfully with result: {
  "quiz_title": "Cybersecurity Fundamentals: Advanced Patient Data Protection and Healthcare IT Se...
2025-05-09 06:43:10,907 - app.services.crew_service - INFO - Quiz generation crew completed successfully
2025-05-09 06:43:10,908 - app.services.crew_service - INFO - Parsing quiz generation crew result
2025-05-09 06:43:10,908 - app.services.crew_service - DEBUG - Result text first 200 chars: {
  "quiz_title": "Cybersecurity Fundamentals: Advanced Patient Data Protection and Healthcare IT Security",
  "chapter_count": 4,
  "question_count": 20,
  "complete_quiz": {
    "title": "Cybersecur
2025-05-09 06:43:10,909 - app.services.crew_service - DEBUG - Result text length: 15567
2025-05-09 06:43:10,909 - app.services.crew_service - INFO - Successfully parsed result as direct JSON
2025-05-09 06:43:10,909 - app.services.crew_service - INFO - Found complete quiz in result
2025-05-09 06:43:10,994 - app.services.crew_service - INFO - Successfully inserted quiz with ID: 31
2025-05-09 06:43:11,047 - app.services.crew_service - INFO - Successfully inserted chapter with ID: 54
2025-05-09 06:43:11,103 - app.services.crew_service - DEBUG - Created question 1 in chapter 54
2025-05-09 06:43:11,160 - app.services.crew_service - DEBUG - Created question 2 in chapter 54
2025-05-09 06:43:11,206 - app.services.crew_service - DEBUG - Created question 3 in chapter 54
2025-05-09 06:43:11,252 - app.services.crew_service - DEBUG - Created question 4 in chapter 54
2025-05-09 06:43:11,295 - app.services.crew_service - DEBUG - Created question 5 in chapter 54
2025-05-09 06:43:11,340 - app.services.crew_service - INFO - Successfully inserted chapter with ID: 55
2025-05-09 06:43:11,386 - app.services.crew_service - DEBUG - Created question 1 in chapter 55
2025-05-09 06:43:11,431 - app.services.crew_service - DEBUG - Created question 2 in chapter 55
2025-05-09 06:43:11,475 - app.services.crew_service - DEBUG - Created question 3 in chapter 55
2025-05-09 06:43:11,520 - app.services.crew_service - DEBUG - Created question 4 in chapter 55
2025-05-09 06:43:11,686 - app.services.crew_service - DEBUG - Created question 5 in chapter 55
2025-05-09 06:43:11,737 - app.services.crew_service - INFO - Successfully inserted chapter with ID: 56
2025-05-09 06:43:11,893 - app.services.crew_service - DEBUG - Created question 1 in chapter 56
2025-05-09 06:43:11,937 - app.services.crew_service - DEBUG - Created question 2 in chapter 56
2025-05-09 06:43:11,980 - app.services.crew_service - DEBUG - Created question 3 in chapter 56
2025-05-09 06:43:12,025 - app.services.crew_service - DEBUG - Created question 4 in chapter 56
2025-05-09 06:43:12,069 - app.services.crew_service - DEBUG - Created question 5 in chapter 56
2025-05-09 06:43:12,257 - app.services.crew_service - INFO - Successfully inserted chapter with ID: 57
2025-05-09 06:43:12,411 - app.services.crew_service - DEBUG - Created question 1 in chapter 57
2025-05-09 06:43:12,459 - app.services.crew_service - DEBUG - Created question 2 in chapter 57
2025-05-09 06:43:12,653 - app.services.crew_service - DEBUG - Created question 3 in chapter 57
2025-05-09 06:43:12,811 - app.services.crew_service - DEBUG - Created question 4 in chapter 57
2025-05-09 06:43:12,968 - app.services.crew_service - DEBUG - Created question 5 in chapter 57
2025-05-09 06:43:12,968 - app.routes.agents - INFO - CrewAI quiz generation result: success
